webpackJsonp([0],[function(e,t,n){"use strict";var a=n(1),r=n(23),i=n(36),s=n(216),o=n(234),l=n(236),c=n(237),p=n(251),u=n(252),d=n(256),m=n(272),h=n(273),f=n(278),g=n(293),v=n(294),y=n(311),b=n(429),E=n(442),_=n(444),R=n(40);window.KaggleReactComponents={ScriptList:a.ScriptList,VoteButton:r.VoteButton,ScriptViewer:i.ScriptViewerApp,DatasetContainer:s.DatasetContainer,DatasetListReact:o.DatasetListReact,Discussion:l.Discussion,NotebookEditor:c.NotebookEditor,SiteForum:p.SiteForum,SiteHeaderContainer:u.SiteHeaderContainer,ProfileContainerReact:d.ProfileContainer,Leaderboards:m.Leaderboards,OrganizationProfileContainer:h.OrganizationProfileContainer,NewsfeedContainer:f.NewsfeedContainer,ViewCompetitionList:g.ViewCompetitionList,ScriptEditorContainer:v.ScriptEditorContainer,CompetitionContainer:y.CompetitionContainer,ReactComponentsContainer:b.ReactComponentsContainer,AdminHomeContainer:E.AdminHomeContainer,JobsContainer:_["default"],ApolloComponent:R.ApolloComponent}},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(2),i=n(3),s=n(4),o=n(5),l=n(6),c=n(7),p=n(11),u=n(13),d=n(23),m=n(26),h=n(27),f=n(29),g=n(30),v=n(32),y=n(33),b=n(34),E=n(35),_={notebook:"fa-globe",data:"fa-table",visualization:"fa-bar-chart",other:"fa-file-text-o"},R=function(){function e(e,t){var n=this;this.parseQueryString=function(e){if(e.length){for(var t={},n=void 0,a=e.replace(/\?/g,"").split("&"),r=0,i=a;r<i.length;r++){var s=i[r];n=s.split("="),t[n[0]]=n[1]}return t}return{}},this.removeDefaultFilters=function(e){for(var t={},a=0,r=Object.keys(e);a<r.length;a++){var i=r[a];e[i]!=n.defaultFilters[i]&&(t[i]=e[i])}return t},this.pushNewFilteredUrl=function(e){var t=window.location.pathname+window.location.search,a=window.history.state||{},i=window.location.pathname;a.scriptListFilterState=n.removeDefaultFilters(e),Object.keys(a.scriptListFilterState).length&&(i+="?"+r.param(a.scriptListFilterState)),t!=i&&window.history.pushState(a,"",i)},this.onWindowPopState=function(e){e.state&&e.state.scriptListFilterState&&n.filtersChangedCallback(e.state.scriptListFilterState)},this.updateFilters=function(e,t){r.extend(e,t),n.pushNewFilteredUrl(e),n.filtersChangedCallback(e)},this.baseUrl=window.location.href.split("?")[0],this.defaultFilters=t,this.filters=window.location.search.length?this.parseQueryString(window.location.search):this.defaultFilters,this.filtersChangedCallback=e,this.pushNewFilteredUrl(this.filters)}return e.prototype.scriptListWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},e.prototype.scriptListWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},e}(),w=function(e){function t(t){var n=e.call(this,t)||this;return n.loadMoreData=function(e){var t=n.state.scriptData,a=n.props.sourceBaseUrl+t.length.toString(),i=!1;if(e){e.userId&&e.userId.toString().length&&(i=!0);var s=r.param(n.filterManager.removeDefaultFilters(e));s&&(a+="?"+s)}n.currentDataRequest&&4!==n.currentDataRequest.readyState&&n.currentDataRequest.abort(),n.setState({onlyMyScripts:i,isLoadingMoreData:!0},function(){n.currentDataRequest=r.getJSON(a,function(e){n.setState({scriptData:t.concat(e),isLoadingMoreData:!1,hasMoreData:e.length>0,hasLoadedSomeData:!0})})})},n.getListTitle=function(){return n.state.scriptData&&!n.state.isLoadingMoreData?(n.state.scriptData[0]?n.state.scriptData[0].totalScripts:0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" kernels":" "},n.onFiltersChanged=function(e){n.setState({filters:e,scriptData:[],hasMoreData:!0,hasLoadedSomeData:!1},function(){return n.loadMoreData(e)})},n.onNewSort=function(e){n.showMobileSortMenu(!1),n.filterManager.updateFilters(n.state.filters,{sortBy:e})},n.onNewLanguage=function(e){n.showMobileSortMenu(!1),n.filterManager.updateFilters(n.state.filters,{language:e})},n.onNewOutputType=function(e){n.showMobileSortMenu(!1),n.filterManager.updateFilters(n.state.filters,{outputType:e})},n.onNewOutputTypeClickEvent=function(e,t){t.preventDefault(),n.onNewOutputType(e)},n.onNewLanguageClickEvent=function(e,t){t.preventDefault(),n.onNewLanguage(e)},n.onScroll=function(){n.state.hasMoreData&&!n.state.isLoadingMoreData&&n.loadMoreData(n.state.filters)},n.myScriptsToggle=function(e){var t="my"===e;return l.Current.userId?void n.setState({onlyMyScripts:t,selectionGroup:e},function(){var e=n.state.onlyMyScripts?l.Current.userId.toString():"";n.filterManager.updateFilters(n.state.filters,{userId:e})}):void(document.location.href=n.props.loginAndReturnUrl)},n.renderOutputTypeOption=function(e){return React.createElement("span",null,React.createElement("span",{className:s("fa",_[e.value.toLowerCase()])})," ",e.label)},n.searchOptionsList=function(e,t){for(var n=0,a=e;n<a.length;n++){var r=a[n];if(r.value==t)return r}return e[0]},n.defaultFilters={sortBy:"hotness",language:"all",outputType:"all",userId:""},n.filterManager=new R(n.onFiltersChanged,n.defaultFilters),n.props.userId?n.initForUserProfile():n.initForScriptsTab(),n.state={filters:r.extend({},n.defaultFilters,n.initialFilters),scriptData:[],isLoadingMoreData:!1,hasMoreData:!0,onlyMyScripts:!1,selectionGroup:n.props.selectionGroup,availableLanguages:[{label:"All Languages",value:"all"}],availableOutputs:[{label:"All Output Types",value:"all"}],hasLoadedSomeData:!1,shouldShowMobileSortMenu:!1},n}return a(t,e),t.prototype.initForUserProfile=function(){var e=this;this.availableSelectionGroups=[{key:"my",name:this.props.userId===l.Current.userId?"Mine":"Published",action:function(){return e.onSelectionGroupChange("my")}},{key:"draft",name:"Draft",action:function(){return e.onSelectionGroupChange("draft")}},this.props.showHiddenSelectionGroup?{key:"hidden",name:"Hidden",action:function(){return e.onSelectionGroupChange("hidden")}}:null,{separator:!0},{key:"upvoted",name:"Upvoted",action:function(){return e.onSelectionGroupChange("upvoted")}}],this.initialFilters={userId:this.props.userId,sortBy:"votes"},this.availableSortingOrders=[{value:"votes",label:"Most Votes"},{value:"hotness",label:"Hotness"},{value:"date",label:"Most Recent"}]},t.prototype.initForScriptsTab=function(){var e=this;this.availableSelectionGroups=[{key:"everyone",name:"All",action:function(){return e.myScriptsToggle("everyone")}},{key:"my",name:"Mine",action:function(){return e.myScriptsToggle("my")}}],this.initialFilters={},this.availableSortingOrders=[{value:"hotness",label:"Hotness"},{value:"votes",label:"Most Votes"},{value:"date",label:"Most Recent"}]},t.prototype.componentDidMount=function(){this.filterManager.scriptListWillMount(),this.props.showFilters&&(this.loadLanguagesMetadata(),this.loadOutputTypesMetadata()),this.loadMoreData(r.extend(this.state.filters,window.history.state))},t.prototype.componentWillUnmount=function(){this.filterManager.scriptListWillUnmount(),this.currentDataRequest&&this.currentDataRequest.abort()},t.prototype.onSelectionGroupChange=function(e){var t=this;this.setState({filters:r.extend(this.state.filters,{group:e}),scriptData:[],hasMoreData:!0,selectionGroup:e},function(){t.loadMoreData(t.state.filters)})},t.prototype.loadLanguagesMetadata=function(){var e=this;r.getJSON(this.props.languagesMetadataUrl,function(t){e.setState({availableLanguages:[{label:"All Languages",value:"all"}].concat(t.map(function(e){return{label:e,value:e}}))})})},t.prototype.loadOutputTypesMetadata=function(){var e=this;r.getJSON(this.props.outputTypesMetadataUrl,function(t){e.setState({availableOutputs:[{label:"All Output Types",value:"all"}].concat(t.map(function(e){return{label:e,value:e}}))})})},t.prototype.showMobileSortMenu=function(e){this.setState({shouldShowMobileSortMenu:e})},t.prototype.render=function(){var e=this,t=this.state.isLoadingMoreData?React.createElement("div",{className:"script-list-react__message"},"Loading ",this.state.hasLoadedSomeData?"more ":"","kernels..."):null,n=this.state.hasMoreData?null:React.createElement("div",{className:"script-list-react__message"},React.createElement("span",null,"No ",this.state.hasLoadedSomeData?"more ":"","kernels to show ¯\\_(ツ) _/¯"),React.createElement("br",null)),a=React.createElement("div",null,React.createElement(f.MediaQuery,{minWidth:f.Breakpoints.desktopMin},React.createElement("div",{className:"script-list-react__sort"},React.createElement("div",{className:"script-list-react__sort-label"},"Sort By"),React.createElement(u.SelectBox,{options:this.availableSortingOrders,onChange:this.onNewSort,searchable:!1,value:this.state.filters.sortBy||this.defaultFilters.sortBy}))),React.createElement(f.MediaQuery,{minWidth:0,maxWidth:f.Breakpoints.tabletMax},React.createElement("a",{className:"script-list-react__sort-link--mobile",onClick:function(t){return e.showMobileSortMenu(!0)}},"Filter/Sort ",React.createElement("span",{className:"fa fa-chevron-right"})))),r=React.createElement(f.MediaQuery,{minWidth:f.Breakpoints.desktopMin},React.createElement("div",{className:"script-list-react__filters"},React.createElement(u.SelectBox,{options:this.state.availableLanguages,onChange:this.onNewLanguage,searchable:!1,value:this.state.filters.language||this.defaultFilters.language,className:"KaggleBoxlessSelectSafe script-list-react__filters__language"}),React.createElement(u.SelectBox,{options:this.state.availableOutputs,onChange:this.onNewOutputType,value:this.state.filters.outputType||this.defaultFilters.outputType,searchable:!1,optionRenderer:this.renderOutputTypeOption,valueRenderer:this.renderOutputTypeOption,className:"KaggleBoxlessSelectSafe script-list-react__filters__output-type"}))),i=React.createElement("div",{className:"script-list-react__selection-groups"},React.createElement(h.SelectionGroup,{children:this.availableSelectionGroups,filters:r,selected:this.state.selectionGroup}));return this.props.isHidden?null:React.createElement("div",null,this.props.banner?React.createElement(p.Banner,{title:"Kernels",infoTitle:"Welcome to Kaggle Kernels",infoSubtitle:"The best place to explore data science results and share your own work",bannerImageClassName:"script-list-react__banner-image",infoBanner:this.props.banner,hideCallToActionOnSmallDisplays:!0,panels:[{imageSrc:"/static/images/scripts-code.svg",title:"Code",description:"Skip the download. Kernels is preloaded with the most common data science languages and libraries."},{imageSrc:"/static/images/scripts-learn.svg",title:"Learn",description:"Gain exposure to new tools and techniques. The “hottest” kernels showcase the best work on Kaggle."},{imageSrc:"/static/images/scripts-mentor.svg",title:"Mentor",description:"Give back by sharing what you know. You can answer questions and leave feedback on others’ code and results."}]}):null,React.createElement("div",{className:"script-list-react__wrapper"},React.createElement(o.ContentBox,{title:this.getListTitle(),titleBarRightSide:this.props.showFilters?a:null,subTitleBar:this.props.showFilters?i:null},React.createElement("div",{className:"script-list-react"},React.createElement(m.WindowInfiniteScroll,{onScroll:function(){return e.onScroll()}},React.createElement("div",null,this.state.scriptData.map(function(t,n){return React.createElement(v.BlockLink,{href:t.scriptUrl,key:n},React.createElement(C,{scriptData:t,handleLanguageChange:e.onNewLanguageClickEvent,handleOutputTypeChange:e.onNewOutputTypeClickEvent,showScriptProjectColumn:e.props.showScriptProjectName,showProjectThumbnails:!!e.props.userId}))})),t,n)))),React.createElement(f.MediaQuery,{minWidth:0,maxWidth:f.Breakpoints.tabletMax},React.createElement(g.OffCanvasContainer,{closeButtonCallback:function(){return e.showMobileSortMenu(!1)},shouldShowOffCanvas:this.state.shouldShowMobileSortMenu,shouldUseCloseButton:!0,shouldUseRightSide:!0},React.createElement("div",{className:"script-list-react__sort-menu--mobile"},React.createElement("p",{className:"script-list-react__sort-label--mobile"},"Sort By"),React.createElement(u.SelectBox,{className:"script-list-react__sort-box--mobile",options:this.availableSortingOrders,onChange:this.onNewSort,searchable:!1,value:this.state.filters.sortBy||this.defaultFilters.sortBy}),React.createElement("p",{className:"script-list-react__sort-label--mobile"},"Languages"),React.createElement(u.SelectBox,{className:"script-list-react__sort-box--mobile",options:this.state.availableLanguages,onChange:this.onNewLanguage,searchable:!1,value:this.state.filters.language||this.defaultFilters.language}),React.createElement("p",{className:"script-list-react__sort-label--mobile"},"Output Types"),React.createElement(u.SelectBox,{className:"script-list-react__sort-box--mobile",options:this.state.availableOutputs,onChange:this.onNewOutputType,value:this.state.filters.outputType||this.defaultFilters.outputType,searchable:!1,optionRenderer:this.renderOutputTypeOption,valueRenderer:this.renderOutputTypeOption})))))},t}(React.Component);t.ScriptList=w;var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderOutputType=function(e){var t=this,n=function(){switch(e.extension){case"Notebook":return["fa-globe","This script outputs a notebook"];case"Visualization":return["fa-bar-chart","This script outputs "+i("visualization",e.count,!0)];case"Data":return["fa-table","This script outputs "+e.count+" data "+i("file",e.count)];case"Other":return["fa-file-text-o","This script outputs "+e.count+" other types of "+i("file",e.count)];default:return["","Unknown"]}}();return React.createElement(y.ToolTip,{tipText:n[1].toString(),key:e.extension},React.createElement("a",{className:"scripts__item-info-block--link",onClick:function(n){return t.props.handleOutputTypeChange(e.extension,n)}},React.createElement("span",{className:"fa "+n[0]})))},t.prototype.abbrLanguage=function(e){switch(e){case"Python":return"Py";case"R":return"R";case"Julia":return"Ju";case"SQLite":return"SQL";default:return null}},t.prototype.renderOptionalForkSection=function(){var e=function(e){return i("line",e,!0)};return this.props.scriptData.isFork?React.createElement("span",null,"(",React.createElement("span",{title:e(this.props.scriptData.forkDiffLinesInserted)+" inserted / "+e(this.props.scriptData.forkDiffLinesDeleted)+" deleted / "+e(this.props.scriptData.forkDiffLinesChanged)+" changed from parent script"}," ",React.createElement("a",{href:this.props.scriptData.forkDiffUrl},React.createElement("span",{className:"scripts__item-diff"},React.createElement("span",{className:"scripts__item-diff-inserted"},"+",this.props.scriptData.forkDiffLinesInserted)," / ",React.createElement("span",{className:"scripts__item-diff-deleted"},"-",this.props.scriptData.forkDiffLinesDeleted)," / ",React.createElement("span",{className:"scripts__item-diff-changed"},"~",this.props.scriptData.forkDiffLinesChanged)))," )")):null},t.prototype.renderOptionalScriptProjectName=function(){return this.props.showScriptProjectColumn?React.createElement("span",null,this.props.scriptData.dataSources.length>1?"with multiple data sources":React.createElement("span",null,"in ",React.createElement("a",{href:this.props.scriptData.projectScriptsUrl},this.props.scriptData.projectName))):null},t.prototype.render=function(){var e=this,t=this.props.scriptData;return this.props.isHidden?null:React.createElement("div",{className:"scripts"},React.createElement("div",{className:"scripts__item-meta"},React.createElement("div",{className:"scripts__item-votes"},React.createElement(d.VoteButton,{totalVotes:t.totalVotes,hasAlreadyVotedUp:t.currentUserHasVotedForThisScript,voteUpUrl:"/kernels/vote?id="+t.id,canDownvote:!1,canUpvote:!0,voteDownUrl:null,hasAlreadyVotedDown:null,upVoteIntercomEventName:"upvote_script"})),React.createElement(f.MediaQuery,{minWidth:f.Breakpoints.tabletMin},React.createElement("div",{className:"scripts__item-image-wrapper"},this.props.showProjectThumbnails?React.createElement(y.ToolTip,{tipText:t.projectName},React.createElement("a",{href:t.projectScriptsUrl},React.createElement("img",{src:t.projectThumbnailUrl,className:"scripts__item-image scripts__item-image--left"}))):React.createElement(b.Avatar,{thumbnailUrl:t.author.avatarThumbnailUrl,userUrl:t.author.profileUrl,displayName:t.author.displayName,tier:t.author.tier,width:40}))),React.createElement("div",{className:"scripts__item-medals"},null!=this.props.scriptData.medal?React.createElement("img",{src:"/static/images/medals/kernels/"+this.props.scriptData.medal+"L@2x.png",title:"${this.props.scriptData.medal}"}):null))," ",React.createElement("div",{className:"scripts__item-synopsis"},React.createElement("div",{className:"scripts__item-info"},React.createElement("a",{className:"scripts__item-name",href:t.scriptUrl},t.title,t.isPrivate&&React.createElement(E.Badge,{text:"Private",icon:"fa-eye-slash",option:"info"})),React.createElement("p",{className:"scripts__item-details"},React.createElement("span",null,"run "),React.createElement(c.TimeAgo,{time:t.lastRunTime})," by ",React.createElement("a",{href:t.author.profileUrl},t.author.displayName),this.renderOptionalForkSection()," ",this.renderOptionalScriptProjectName())),React.createElement("div",{className:"scripts__item-info-blocks"},t.outputTypes.map(function(t){return e.renderOutputType(t)}),React.createElement(y.ToolTip,{tipText:"This script is written in "+t.languageName},React.createElement("a",{className:"scripts__item-info-block--link",onClick:function(n){return e.props.handleLanguageChange(t.languageName,n)}},this.abbrLanguage(t.languageName))),t.totalComments>0?React.createElement(y.ToolTip,{tipText:"This script has "+t.totalComments+" "+i("comment",t.totalComments)},React.createElement("a",{className:"scripts__item-info-block--comment",href:t.scriptCommentsUrl},React.createElement("span",null,t.totalComments," ",React.createElement("span",{className:"fa fa-comments"})))):React.createElement(f.MediaQuery,{minWidth:f.Breakpoints.tabletMin},React.createElement("div",{className:"scripts__item-info-block--no-comment"}))))," ")},t}(React.Component)},function(e,t){e.exports=jQuery},,,function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&(n[a[r]]=e[a[r]]);return n},s=n(4),o=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleCollapsed=function(){n.setState({isCollapsed:!n.state.isCollapsed})},n.state={isCollapsed:n.props.initiallyCollapsed},n.collapsedClass="fa fa-"+(n.props.collapsedIconFontAwesomeClass||"plus-square-o"),n.expandedClass="fa fa-"+(n.props.expandedIconFontAwesomeClassedIcon||"minus-square-o"),n.props.titleHref&&console.warn("titleHref not supported in CollapsibleContentBox"),n.props.title||console.warn("Untitled CollapsibleContentBox not supported"),n}return a(t,e),t.prototype.render=function(){var e="content-box__expand-toggle "+(this.state.isCollapsed?this.collapsedClass:this.expandedClass);return React.createElement("div",{className:s("content-box",this.props.containerClassName)},this.props.showLoader?React.createElement("div",{className:"content-box__loader-overlay"},React.createElement("div",{className:"content-box__loader-icon fa fa-refresh fa-spin fa-3x fa-fw margin-bottom"}),React.createElement("div",{className:"content-box__loader-message"},this.props.loaderMessage||"Please wait...")):"",React.createElement("div",{className:"content-box__title-bar--collapsible",onClick:this.toggleCollapsed},React.createElement("div",{className:e}),React.createElement("div",{className:"content-box__title"},this.props.title),this.props.titleBarRightSide?React.createElement("div",{className:"content-box__right-side"},this.props.titleBarRightSide):null),this.state.isCollapsed?null:React.createElement("div",{className:s("content-box__content-section",this.props.contentClassName)},this.props.subTitleBar?React.createElement("div",{className:"content-box__subtitle-bar"},this.props.subTitleBar):null,this.props.children))},t}(React.Component);t.CollapsibleContentBox=o,o.docs={title:"CollapsibleContentBox",description:"Collapsable containing element for content on the site.",examples:[React.createElement(o,{children:React.createElement("p",null,"Content!"),initiallyCollapsed:!0,title:"Title",titleBarRightSide:"Right side"})],staticMarkup:'<CollapsibleContentBox\n    children={<p>Content!</p>}\n    initiallyCollapsed={true}\n    title="Title"\n    titleBarRightSide="Right side" />'};var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=React.createElement("div",{className:"content-box__title-bar"},React.createElement("div",{className:"content-box__title"},this.props.title),this.props.titleBarRightSide?React.createElement("div",{className:"content-box__right-side"},this.props.titleBarRightSide):null);return this.props.title?React.createElement("div",{className:s("content-box",{"content-box--grow":this.props.growVertically},this.props.containerClassName)},this.props.showLoader?React.createElement("div",{className:"content-box__loader-overlay"},React.createElement("div",{className:"content-box__loader-icon fa fa-refresh fa-spin fa-3x fa-fw margin-bottom"}),React.createElement("div",{className:"content-box__loader-message"},this.props.loaderMessage||"Please wait...")):"",this.props.titleHref?React.createElement("a",{className:"content-box__title-bar--link",href:this.props.titleHref},e):this.props.onTitleClick?React.createElement("div",{className:"content-box__title-bar--link",onClick:this.props.onTitleClick},e):React.createElement("div",null,e),React.createElement("div",{className:s("content-box__content-section",this.props.contentClassName)},this.props.subTitleBar?React.createElement("div",{className:"content-box__subtitle-bar"},this.props.subTitleBar):null,this.props.children)):React.createElement("div",{className:s("content-box","content-box--no-title",this.props.containerClassName)},React.createElement("div",{className:s("content-box__content-section content-box__content-section--no-title",this.props.contentClassName)},React.createElement("div",{className:"content-box__simple-content-box"},React.createElement("div",{className:"content-box__simple-content"},this.props.children))))},t}(React.Component);t.ContentBox=l,l.docs={title:"ContentBox",description:"Typical containing element for much of the content on the site.",examples:[React.createElement(l,{children:React.createElement("p",null,"Content!"),title:"Title",titleHref:"#",titleBarRightSide:"Right side"})],staticMarkup:'<ContentBox\n    children={<p>Content!</p>}\n    title="Title"\n    titleHref="#"\n    titleBarRightSide="Right side" />'};var c=function(e){var t=e.ok,n=e.message,a=e.actions;return React.createElement("div",{className:"content-box__checklist-item--"+(t?"ok":"not-ok")},React.createElement("span",null,React.createElement("i",{className:"fa fa-"+(t?"check-square":"times"),"aria-hidden":"true"})),React.createElement("span",null,n),a&&React.createElement("span",null,a.map(function(e,t){return React.createElement("span",{key:t},e)})))};t.ChecklistContentBox=function(e){var t=e.okHeader,n=e.notOkHeader,a=e.children,s=i(e,["okHeader","notOkHeader","children"]),o=a.every(function(e){return e.ok});return React.createElement(l,r({},s),(t||n)&&React.createElement("div",{className:"content-box__header--"+(o?"ok":"not-ok")},o?t:n),React.createElement("div",{className:"content-box__checklist-items"},a.map(function(e,t){return React.createElement(c,r({key:t},e))})))};var p={title:"ChecklistContentBox",description:"Content box containing element with checklist styled content.",examples:[React.createElement(t.ChecklistContentBox,{title:"Checklist",children:[{ok:!1,message:"Needs a deadline",actions:[React.createElement("button",null,"Set a date")]},{ok:!1,message:"Needs a stamp of approval",actions:[React.createElement("button",null,"Stamp here")]},{ok:!0,message:"Needs a start date"}],okHeader:"Everything looks good here!",notOkHeader:"Fill out the rest of the items!"}),React.createElement(t.ChecklistContentBox,{title:"Checklist",okHeader:"Everything looks good here!",notOkHeader:"Fill out the rest of the items!"},[{ok:!0,message:"Needs a deadline"},{ok:!0,message:"Needs a stamp of approval"},{ok:!0,message:"Needs a start date"}])],staticMarkup:'<ChecklistContentBox\n    title="Checklist"\n    children={[\n        { ok: false, message: "Needs a deadline", actions: [ <button>Set a date</button> ] },\n        { ok: false, message: "Needs a stamp of approval", actions: [ <button>Stamp here</button> ] },\n        { ok: true, message: "Needs a start date" }\n    ]}\n    okHeader={"Everything looks good here!"}\n    notOkHeader={"Fill out the rest of the items!"}\n/>'};Object.defineProperty(t.ChecklistContentBox,"docs",{value:p,enumerable:!0})},function(e,t){"use strict";t.Current=window.Kaggle.Current,t.Current.docs={title:"Current",description:"Get current information regarding the user or environment.",examples:[React.createElement("p",null,"Display Name: "+t.Current.userDisplayName),React.createElement("p",null,"isAdmin: "+t.Current.isAdmin)],staticMarkup:"<p>Display Name: {Current.userDisplayName}<p>\n<p>isAdmin: {Current.isAdmin}<p>"}},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(8),i=36e5,s=864e5,o=function(e){function t(t){var n=e.call(this,t)||this;switch(n.diff=(new Date).getTime()-new Date(n.props.time.toString()).getTime(),n.props.maxGranularity){case"hour":n.setOverride(i,"in the past hour");break;case"day":n.setOverride(s,"in the past day");break;default:var a=n.props.condense?"now":"just now";n.override=Math.abs(n.diff)<=1e4?a:null}return n.isFutureDate=new Date<new Date(n.props.time),n.props.futureDateMessage&&n.isFutureDate&&(n.override=n.props.futureDateMessage),n}return a(t,e),t.prototype.setOverride=function(e,t){this.override=this.diff<e?t:null},t.prototype.render=function(){return this.props.condense?r.updateLocale("en",{relativeTime:{future:"in %s",past:"%s",s:"~10s",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}):r.updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}}),React.createElement("span",{className:this.props.className,title:this.override||new Date(this.props.time.toString()).toString()},this.override||r(this.props.time).fromNow(!0)+" "+(this.isFutureDate?this.props.hideToGo?"":this.props.toGoOverride||"to go":this.props.hideAgo?"":this.props.agoOverride||"ago"))},t}(React.Component);t.TimeAgo=o},,,,function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(12),i=n(4),s=n(2),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={infoBannerIsVisible:!!n.props.infoBanner&&n.props.infoBanner.isVisible},n}return a(t,e),t.prototype.onDismiss=function(){s.ajax({type:"POST",url:this.props.infoBanner.dismissBannerUrl}),this.setState({infoBannerIsVisible:!1})},t.prototype.renderCallToAction=function(){return this.props.callToActionText?React.createElement("div",{className:i("title-banner__call-to-action",this.props.hideCallToActionOnSmallDisplays?"title-banner__call-to-action--hide-on-small-displays":null)},React.createElement(r.Button,{text:this.props.callToActionText,href:this.props.callToActionUrl,onClick:this.props.onCallToActionClick}),this.props.callToActionText2?React.createElement("span",{style:{marginRight:"15px"}}):null,this.props.callToActionText2?React.createElement(r.Button,{text:this.props.callToActionText2,href:this.props.callToActionUrl2,onClick:this.props.onCallToActionClick2}):null):null},t.prototype.render=function(){var e=this;return React.createElement("div",null,React.createElement("div",{className:i("title-banner",this.props.bannerImageClassName,this.state.infoBannerIsVisible?"title-banner--show-only-on-mobile":null)},React.createElement("div",{className:"title-banner__title-container"},React.createElement("div",{className:"title-banner__title"},this.props.title)),this.renderCallToAction()),this.state.infoBannerIsVisible?React.createElement("div",{className:"info-banner info-banner--hide-on-mobile"},React.createElement("div",{className:"info-banner__container"},React.createElement("div",{className:"info-banner__main-content"},React.createElement("h1",{className:"info-banner__title"},this.props.infoTitle),React.createElement("h2",{className:"info-banner__subtitle"},this.props.infoSubtitle),React.createElement("hr",{className:"info-banner__divider"}),React.createElement("ul",{className:"info-banner__details"},this.props.panels.map(function(e,t){return React.createElement("li",{className:"info-banner__detail",key:t},React.createElement("img",{alt:e.title,className:"info-banner__detail-image",src:e.imageSrc}),React.createElement("h3",{className:"info-banner__detail-title"},e.title),React.createElement("p",{className:"info-banner__detail-text"},e.description))})),this.renderCallToAction())),this.props.infoBanner.dismissBannerUrl?React.createElement("div",{className:"info-banner__dismiss-container"},React.createElement("span",{className:"info-banner__dismiss",onClick:function(){return e.onDismiss()}},React.createElement("span",{className:"fa fa-times"})," Dismiss")):null):null)},t}(React.Component);t.Banner=o,o.docs={description:"A component for displaying introductory or important information. Usually at the top of a page.",examples:[React.createElement(o,{title:"Kaggle Rankings",bannerImageClassName:"leaderboards__banner-image"})],staticMarkup:'<Banner \n    title="Kaggle Rankings"\n    bannerImageClassName="leaderboards__banner-image" />',title:"Banner"}},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(4),i=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement("a",{href:this.props.href,className:r("button__anchor-wrapper",this.props.containerClassNames?this.props.containerClassNames:null,this.props.isSmall?"button__anchor-wrapper--small":null),onClick:this.props.isDisabled||!this.props.onClick?null:function(t){return e.props.onClick(t)},target:this.props.target},React.createElement("div",{className:r("button",this.props.classNames?this.props.classNames:null,this.props.toggleable?"button--toggleable":null,this.props.isSmall?"button--small":null,this.props.toggleable&&!this.props.toggled?"button--inactive":null,this.props.isDisabled?"button--disabled":null)},React.createElement("span",null,this.props.text)))},t}(React.Component);t.Button=i,i.docs={description:"A beautiful button to meet your clicky needs.",examples:[React.createElement(i,{text:"Test Button"}),React.createElement(i,{text:"Disabled Button!",isDisabled:!0})],staticMarkup:'<Button text="Test Button" />\n<Button text= "Disabled Button!" isDisabled />',title:"Button"}},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);
e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(4),s=n(14),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={selectedValue:n.props.value},n}return a(t,e),t.prototype.change=function(e){var t=this,n=e.value;this.setState({selectedValue:n},function(){return t.props.onChange(n)})},t.prototype.render=function(){var e=this;return React.createElement(s,r({},this.props,{className:i("KaggleSelect",this.props.className),onChange:function(t){return e.change(t)},clearable:!!this.props.clearable&&this.props.clearable}))},t}(React.Component);t.SelectBox=o},,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(24),s=n(4),o=n(6),l=n(25),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleKeyDown=function(e){27==e.keyCode&&t.props.handleModalClose()},t.handleStopPropagation=function(e){e.stopPropagation()},t}return a(t,e),t.prototype.componentDidMount=function(){$(document.body).on("keydown",this.handleKeyDown)},t.prototype.componentWillUnmount=function(){$(document.body).off("keydown",this.handleKeyDown)},t.prototype.render=function(){var e=500,t=$(window).width(),n=Math.floor((t-e)/2),a={marginLeft:n+"px",marginRight:n+"px"};return React.createElement("div",{className:"vote-button__voters-outer"},React.createElement("div",{className:"vote-button__voters-modal-background",onClick:this.props.handleModalClose}),React.createElement("div",{className:"vote-button__voters-modal",style:a},React.createElement("div",{className:"vote-button__voters-modal-title-bar"},React.createElement("div",{className:"vote-button__voters-modal-title"},"Voters"),React.createElement("div",{className:"vote-button__voters-modal-close"},React.createElement("span",{className:"fa fa-close",onClick:this.props.handleModalClose}))),React.createElement("div",{className:"vote-button__voters-modal-inner"},this.props.voters.map(function(e,t){return React.createElement("div",{className:"vote-button__voters-model-item"},React.createElement(l.UserCard,r({key:"voter-"+t},e)))}))))},t}(React.Component);t.VoteButtonModal=c;var p=function(e){function t(t){var n=e.call(this,t)||this;return n.onVoteUp=function(e){if(e.stopPropagation(),n.readyToVote()&&n.props.canUpvote){n.props.upVoteIntercomEventName&&window.Intercom("trackEvent",n.props.upVoteIntercomEventName);var t,a=n.state;if(n.state.hasAlreadyVotedDown){t={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!0,totalVotes:n.state.totalVotes+2,voteRequestInFlight:!0};var r={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!1,totalVotes:n.state.totalVotes+1,voteRequestInFlight:!1};return void n.processTwoPartVote(t,a,r,n.props.voteDownUrl,"DELETE",n.props.voteUpUrl,"POST")}var s=null;n.state.voters&&(s=n.state.voters.slice(),n.state.hasAlreadyVotedUp?s.splice(i.findIndex(s,n.props.currentUserInfo),1):s=[n.props.currentUserInfo].concat(s)),t=n.state.hasAlreadyVotedUp?{hasAlreadyVotedUp:!1,totalVotes:n.state.totalVotes-1,voteRequestInFlight:!0,voters:s}:{hasAlreadyVotedUp:!0,totalVotes:n.state.totalVotes+1,voteRequestInFlight:!0,voters:s},n.processVote(t,a,n.props.voteUpUrl,n.state.hasAlreadyVotedUp?"DELETE":"POST")}},n.onVoteDown=function(e){if(e.stopPropagation(),n.readyToVote()&&n.props.canDownvote){n.props.downVoteIntercomEventName&&window.Intercom("trackEvent",n.props.downVoteIntercomEventName);var t,a=n.state;if(n.state.hasAlreadyVotedUp){t={hasAlreadyVotedUp:!1,hasAlreadyVotedDown:!0,totalVotes:n.state.totalVotes-2,voteRequestInFlight:!0};var r={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!1,totalVotes:n.state.totalVotes-1,voteRequestInFlight:!1};return void n.processTwoPartVote(t,a,r,n.props.voteUpUrl,"DELETE",n.props.voteDownUrl,"POST")}t=n.state.hasAlreadyVotedDown?{hasAlreadyVotedDown:!1,totalVotes:n.state.totalVotes+1,voteRequestInFlight:!0}:{hasAlreadyVotedDown:!0,totalVotes:n.state.totalVotes-1,voteRequestInFlight:!0},n.processVote(t,a,n.props.voteDownUrl,n.state.hasAlreadyVotedDown?"DELETE":"POST")}},n.handleVotersClick=function(e){e.preventDefault(),n.setState({showingVotersModal:!0}),$("body").css({"overflow-x":"hidden","overflow-y":"scroll"}),$("html").css("overflow","hidden")},n.handleVotersClose=function(){n.setState({showingVotersModal:!1}),$("body").css({overflow:"visible","margin-right":"0px"}),$("html").css("overflow","visible")},n.state={totalVotes:t.totalVotes,hasAlreadyVotedUp:t.hasAlreadyVotedUp,hasAlreadyVotedDown:t.hasAlreadyVotedDown,voteRequestInFlight:!1,showingVotersModal:!1,voters:n.props.voters},n}return a(t,e),t.prototype.readyToVote=function(){if(this.state.voteRequestInFlight)return!1;if(!o.Current.userId){var e="/account/login?returnUrl="+encodeURIComponent(document.location.pathname);return document.location.href=e,!1}return!0},t.prototype.processVote=function(e,t,n,a){var r=this;this.setState(e,function(){$.ajax({url:n,type:a,success:function(){r.setState({voteRequestInFlight:!1})},error:function(e,n,a){r.setState(t)}})})},t.prototype.processTwoPartVote=function(e,t,n,a,r,i,s){var o=this;this.setState(e,function(){$.ajax({url:a,type:r,success:function(){$.ajax({url:i,type:s,success:function(){o.setState({voteRequestInFlight:!1})},error:function(){o.setState(n)}})},error:function(e,n,a){o.setState(t)}})})},t.prototype.render=function(){var e=null,t=null,n=null,a=this.props.showVoters&&this.state.voters&&this.state.voters.length>0;t=this.props.voteUpUrl?React.createElement("div",{className:s("vote-button__button",this.props.canUpvote?null:"vote-button__button--disabled"),onClick:this.props.canUpvote?this.onVoteUp:null},this.props.compact?React.createElement("span",{className:"fa fa-angle-up"}):React.createElement("span",{className:"fa fa-caret-up"})):React.createElement("div",{className:"vote-button__button-placeholder"}),e=this.props.voteDownUrl?React.createElement("div",{className:s("vote-button__button",this.props.canDownvote?null:"vote-button__button--disabled"),onClick:this.props.canDownvote?this.onVoteDown:null},this.props.compact?React.createElement("span",{className:"fa fa-angle-down"}):React.createElement("span",{className:"fa fa-caret-down"})):React.createElement("div",{className:"vote-button__button-placeholder"}),a&&(n=React.createElement("div",{className:"vote-button__show-voters"},React.createElement("a",{href:"",onClick:this.handleVotersClick},"voters")));var r=null;return this.state.showingVotersModal&&(r=React.createElement(c,{voters:this.state.voters,handleModalClose:this.handleVotersClose})),React.createElement("div",{className:"vote-button__container"},React.createElement("div",{className:s("vote-button",{"vote-button--compact":this.props.compact,"vote-button--voted-up":this.state.hasAlreadyVotedUp,"vote-button--voted-down":this.state.hasAlreadyVotedDown,"vote-button--disabled":!this.props.canDownvote&&!this.props.canUpvote,"vote-button--enabled":this.props.canDownvote||this.props.canUpvote})},t,React.createElement("div",{className:"vote-button__button"},React.createElement("span",{className:"vote-button__vote-count",onClick:this.state.hasAlreadyVotedDown?this.onVoteDown:this.onVoteUp},this.state.totalVotes)),e),n,r)},t}(React.Component);t.VoteButton=p},,function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return React.createElement("a",{href:this.props.profileUrl,className:"user-card"},React.createElement("div",{className:"user-card__avatar-thumbnail"},React.createElement("img",{src:this.props.avatarThumbnailUrl})),React.createElement("div",{className:"user-card__display-name"},this.props.displayName))},t}(React.Component);t.UserCard=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(24),i=function(e){function t(t){var n=e.call(this,t)||this;return n.scrollListener=function(){var e=n.props.height?$(n.scrollElement)[0].scrollHeight:$(document).height();$(n.scrollElement).scrollTop()+$(n.scrollElement).height()>=.8*e&&n.props.onScroll()},n.scrollListener=r.throttle(n.scrollListener,250),n}return a(t,e),t.prototype.componentDidMount=function(){this.scrollElement=this.props.height?this.refs.container:window,this.scrollElement.addEventListener("scroll",this.scrollListener)},t.prototype.componentWillUnmount=function(){this.scrollElement.removeEventListener("scroll",this.scrollListener)},t.prototype.render=function(){var e=this.props.height&&{"overflow-y":"scroll","overflow-x":"hidden",height:this.props.height+"px"};return React.createElement("div",{ref:"container",style:e},this.props.children)},t}(React.Component);t.WindowInfiniteScroll=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(28),i=(n(4),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onClick=function(e,t){e.preventDefault(),t.action()},t.prototype.render=function(){var e=this,t=this.props.children;return React.createElement("div",{className:"selection-group__wrapper"},React.createElement(r.OverflowX,null,React.createElement("ul",{className:"selection-group__items"},t?t.map(function(n,a){return n?React.createElement("li",{onClick:function(t){return e.onClick(t,n)},key:a,className:"selection-group__child selection-group__child--"+(n.key===(e.props.selected||(t?t[0].key:null))?"selected":"unselected")},n.separator?React.createElement("span",{className:"selection-group__separator"},"|"):React.createElement("a",{href:n.href,title:n.name},n.name)):null}):null)),this.props.filters?React.createElement("div",{className:"selection-group__filters"},this.props.filters):null)},t}(React.Component));t.SelectionGroup=i},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(t){var n=e.call(this,t)||this;return n.onResize=function(){var e=ReactDOM.findDOMNode(n.refs.overflowX);if(e){var t=e.clientWidth-1,a=e.clientWidth+1;n.setState({canScrollX:t>e.scrollWidth||a<e.scrollWidth})}},n.state={hasScrolledToBeginning:!0,hasScrolledToEnd:!1},n}return n(t,e),t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!1)},t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResize,!1),window.setTimeout(this.onResize)},t.prototype.onScroll=function(){var e=ReactDOM.findDOMNode(this.refs.overflowX),t=e.getBoundingClientRect().width;this.setState({hasScrolledToBeginning:0==e.scrollLeft,hasScrolledToEnd:t+e.scrollLeft==e.scrollWidth})},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"overflow-x__wrapper"},React.createElement("div",{className:"overflow-x",ref:"overflowX",onScroll:function(){return e.onScroll()}},this.props.children,this.state.canScrollX&&!this.state.hasScrolledToBeginning?React.createElement("div",{className:"overflow-x__scroll-indicator--left"}):null,this.state.canScrollX&&!this.state.hasScrolledToEnd?React.createElement("div",{className:"overflow-x__scroll-indicator--right"}):null))},t}(React.Component);t.OverflowX=a},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};t.Breakpoints={mobileMax:480,tabletMin:481,tabletMax:768,desktopMin:769,desktopMax:1024,desktopLargeMin:1025};var a=function(e){function t(t){var n=e.call(this,t)||this;return n.onResize=function(){n.setState({windowWidth:window.innerWidth})},n.state={windowWidth:window.innerWidth},n}return n(t,e),t.prototype.componentWillMount=function(){window.addEventListener("resize",this.onResize,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!1)},t.prototype.componentDidMount=function(){this.onResize()},t.prototype.render=function(){var e,t=this.state.windowWidth;return e=this.props.maxWidth?t>=this.props.minWidth&&t<=this.props.maxWidth:t>=this.props.minWidth,e?this.props.children:null},t}(React.Component);t.MediaQuery=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(2),i=n(31),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){!r(e.target).closest([".off-canvas--left",".off-canvas--right"]).length&&t.props.shouldShowOffCanvas&&t.props.closeButtonCallback()},t}return a(t,e),t.prototype.componentDidMount=function(){window.addEventListener("touchstart",this.handleClick,!1),window.addEventListener("mousedown",this.handleClick,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("touchstart",this.handleClick,!1),window.removeEventListener("mousedown",this.handleClick,!1)},t.prototype.render=function(){var e={children:this.props.children,closeButtonCallback:this.props.closeButtonCallback,shouldShowOffCanvas:this.props.shouldShowOffCanvas,shouldUseCloseButton:this.props.shouldUseCloseButton,shouldUseRightSide:this.props.shouldUseRightSide};return React.createElement(i.OffCanvas,r.extend({},this.state,e))},t}(React.Component);t.OffCanvasContainer=s},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this;return React.createElement("div",{className:"off-canvas__wrapper"},this.props.shouldShowOffCanvas?React.createElement("div",{className:this.props.shouldUseRightSide?"off-canvas--right":"off-canvas--left"},this.props.children,this.props.shouldUseCloseButton?React.createElement("div",{className:"off-canvas__close-wrapper"},React.createElement("span",{className:"off-canvas__close",onClick:function(){return e.props.closeButtonCallback()}},React.createElement("span",{className:"fa fa-times-circle-o"}),React.createElement("span",{className:"off-canvas__close-text"},"Close"))):null):null)},t}(React.Component);t.OffCanvas=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(4),i=n(2),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.componentDidMount=function(){var e=this;window.setTimeout(function(){i(e.container).find("a:not(.block-link__anchor)").each(function(e,t){var n=i(t);"auto"===n.css("z-index")&&("static"===n.css("position")&&n.css("position","relative"),n.css("z-index","2"),n.css("pointer-events","auto"))})})},t.prototype.render=function(){var e=this;return React.createElement("div",{className:r("block-link",this.props.className,this.props.borderless?null:"block-link--bordered"),ref:function(t){return e.container=t}},React.createElement("a",{className:"block-link__anchor",href:this.props.href,onClick:this.props.onClick}),this.props.children)},t}(React.Component);t.BlockLink=s,s.docs={description:"A block-like link that is handy for listings and such. Children require styling.",examples:[React.createElement(s,{href:"#"},"BlockLink content here")],staticMarkup:'<BlockLink href="#">\n    BlockLink content here\n</BlockLink>',title:"BlockLink"}},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(4),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement("span",{className:r("tooltip",{"tooltip--left":this.props.alignLeft},this.props.className),"data-tooltip":this.props.tipText,"data-tooltip-size":this.props.size},this.props.children)},t}(React.Component);t.ToolTip=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(33),i=37,s=function(e){function t(t){var n=e.call(this,t)||this;return n.width=t.width||i,n.borderRadius=n.width/10,n.margin=n.width/20,n}return a(t,e),t.prototype.renderAvatar=function(){return React.createElement("a",{className:"avatar",href:this.props.userUrl,style:{width:this.width}},React.createElement("img",{className:"avatar__thumbnail",src:this.props.thumbnailUrl,alt:this.props.displayName,width:this.width,height:this.width,style:{borderRadius:this.borderRadius}}),this.props.tier?React.createElement("img",{className:"avatar__tier",src:"/static/images/avatier/avatier-"+this.props.tier+"@2x.png",style:{marginTop:this.margin},width:this.width}):null)},t.prototype.render=function(){return this.props.hideTooltop?this.renderAvatar():React.createElement(r.ToolTip,{className:this.props.className,tipText:this.props.displayName},this.renderAvatar())},t}(React.Component);t.Avatar=s,s.docs={description:"A small image that combines a users profile picture and their progression tier.",examples:[React.createElement(s,{displayName:"Last-Place Larry",thumbnailUrl:"https://kaggle2.blob.core.windows.net/avatars/images/46426-gr.jpg",tier:"novice",userUrl:"https://www.kaggle.com/lastplacelarry",width:30})],staticMarkup:'<Avatar\n    displayName="Last-Place Larry"\n    thumbnailUrl="https://kaggle2.blob.core.windows.net/avatars/images/46426-gr.jpg"\n    tier="novice"\n    userUrl="https://www.kaggle.com/lastplacelarry"\n    width={30} />',title:"Avatar"}},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return React.createElement("span",{className:"badge badge--"+(this.props.option||"default")},this.props.icon&&React.createElement("i",{className:"badge__icon fa "+this.props.icon}),this.props.text)},t}(React.Component);t.Badge=a,a.docs={description:"A component used to quickly convey information (i.e status).",examples:[React.createElement(a,{text:"Failed",option:"danger"}),React.createElement(a,{text:"Featured",option:"info"}),React.createElement(a,{text:"Hidden",option:"info"})],staticMarkup:'<Badge text="Failed" option="danger" />\n<Badge text="Featured" option="info" />\n<Badge text="Hidden" option="info" />',title:"Badge"}},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(37),s=n(39),o=n(209),l=n(210),c=n(211),p=n(212),u=n(1),d=n(5),m=n(213),h=n(40),f=n(24),g=n(2),v=function(e){function t(t){var n=e.call(this,t)||this;return n.markdownConverter=Markdown.getSanitizingConverter(),n.handleScroll=f.throttle(n.handleScrollInner,100).bind(n),n.handleUnhideScript=function(e){e.preventDefault(),n.state.isHidden&&g.ajax({url:n.props.toggleScriptIsHiddenUrl+"?isHidden=false",type:"POST",success:function(){n.setState({isHidden:!1})},error:function(e,t,n){alert("Sorry, an error occurred. Please reload the page.")}})},n.state={activeTab:"",activePane:"",scriptVersionId:n.props.initialScriptVersionId,isHidden:n.props.scriptIsHidden,isLanguageTemplate:n.props.scriptIsLanguageTemplate,isSubmittingReply:!1,codeShouldBeExpanded:!1,replyDraft:"",topicId:t.topic.id},n.tabNamesFromUrls={},n.urlNamesFromTabs={},n.props.menuLinks.concat(n.props.rightMenuLinks).forEach(function(e){n.tabNamesFromUrls[e.href||e.tab]=e.text,n.urlNamesFromTabs[e.text]=e.href||e.tab}),n.enclosingElements=[],n.scriptStatus="new",window.location.pathname.slice(0,n.props.baseUrl.length)!==n.props.baseUrl&&history.replaceState&&history.replaceState({},"",n.props.baseUrl+(n.props.initialTab?"/"+n.props.initialTab:"")),n}return a(t,e),t.prototype.updateEnclosingElement=function(e,t){this.enclosingElements[t]=e},t.prototype.shouldComponentUpdate=function(e,t){return this.state.activeTab!==t.activeTab||this.state.activePane!==t.activePane||this.state.isHidden!==t.isHidden||this.state.isLanguageTemplate!==t.isLanguageTemplate||this.state.replyDraft!==t.replyDraft||this.state.topicId!==t.topicId},t.prototype.hasReportPane=function(){return 1===this.props.menuLinks.filter(function(e){return"Report"===e.text}).length},t.prototype.hasNotebookPane=function(){return 1===this.props.menuLinks.filter(function(e){return"Notebook"===e.text}).length},t.prototype.hasImages=function(){return this.getVisualizationFiles()&&this.getVisualizationFiles().length>0},t.prototype.hasNonImages=function(){return this.getNonVisualizationFiles()&&this.getNonVisualizationFiles().length>0},t.prototype.getVisualizationFiles=function(){return this.props.outputFiles?this.props.outputFiles.filter(function(e){return[".png",".jpg",".gif",".svg"].indexOf(e.fileType)>-1}):null},t.prototype.getNonVisualizationFiles=function(){return this.props.outputFiles?this.props.outputFiles.filter(function(e){return[".png",".jpg",".gif",".svg"].indexOf(e.fileType)==-1}):null},t.prototype.activateDefaultTab=function(){var e;e=this.hasReportPane()?"Report":this.hasNotebookPane()?"Notebook":this.hasImages()||"SQLite"===this.props.languageName&&!this.props.scriptVersionHasError?"Output":"Code",this.setState({activeTab:e,activePane:e})},t.prototype.componentWillMount=function(){var e=this;if(this.props.initialTab in this.tabNamesFromUrls){var t=this.tabNamesFromUrls[this.props.initialTab],n=location.hash;this.updateUrlForTab(this.props.initialTab),n&&(location.hash=n),this.setState({activeTab:t,activePane:t,codeShouldBeExpanded:"Code"===t},function(){"Output"===t&&e.shouldUseCodeOutputCommentsView()&&e.scrollToActiveTab()})}else this.activateDefaultTab();this.props.currentScriptVersionIsBusy&&this.pollScriptStatusAndRefreshWhenReady()},t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.handleScroll),window.Intercom("trackEvent","view_script"),window.location.hash.indexOf("#latest-")!==-1&&history.replaceState({},document.title,window.location.pathname+window.location.search)},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.handleScroll)},t.prototype.pollScriptStatusAndRefreshWhenReady=function(){var e=this;this.scriptStatus&&"cancelacknowledged"!==this.scriptStatus&&g.ajax({url:this.props.statusCallbackUrl+"&existingStatus="+this.scriptStatus,success:function(t){e.scriptStatus=t.status,"complete"===t.status||"error"===t.status?location.reload(!0):e.pollScriptStatusAndRefreshWhenReady()}})},t.prototype.handleScrollInner=function(e){var t=this;if(["Code","Output","Comments","Notebook","Report"].indexOf(this.state.activeTab)!==-1){var n=g(document).scrollTop()+.15*g(window).height(),a=function(e){t.state.activeTab!==e&&(t.updateUrlForTab(e.toLowerCase()),t.setState({activeTab:e}))};n>this.getTabScrollTop("Comments")?a("Comments"):n>this.getTabScrollTop("Output")?a("Output"):n>this.getTabScrollTop("Code")?a("Code"):n>this.getTabScrollTop("Notebook")?a("Notebook"):n>this.getTabScrollTop("Code")&&a("Report")}},t.prototype.updateUrlForTab=function(e){history.replaceState&&history.replaceState({},"",this.props.baseUrl+"/"+e)},t.prototype.onActiveTabChange=function(e){var t=this;if(e!==this.state.activeTab||e!==this.state.activePane){var n=this.urlNamesFromTabs[e];this.updateUrlForTab(n);var a=this.scrollToActiveTab;"Comments"===e&&(a=function(){t.scrollToActiveTab(0)}),this.setState({activeTab:e,activePane:e,codeShouldBeExpanded:"Code"===e},a)}},t.prototype.getTabScrollTop=function(e){if(!(e in this.enclosingElements)||null==this.enclosingElements[e])return 1/0;var t=this.enclosingElements[e],n=document.body,a=document.documentElement,r=window.pageYOffset||a.scrollTop||n.scrollTop,i=a.clientTop||n.clientTop||0;return Math.round(t.getBoundingClientRect().top+r-i)},t.prototype.scrollToActiveTab=function(e){void 0===e&&(e=300);var t=0,n=g(".pageheader__top--safe"),a=n.offset().top+n.height(),r=42,i=20,s=32*((this.state.isHidden?1:0)+this.props.pageMessages.length);if(this.shouldUseCodeOutputCommentsView()&&["Code","Output"].indexOf(this.state.activeTab)!==-1){var o=this.getTabScrollTop(this.state.activeTab);t=o-r-i-s}else{var l=g(document).scrollTop();l>a&&(t=a+1)}t>0&&(e>0?g("html, body").animate({scrollTop:t},e):g("html, body").scrollTop(t))},t.prototype.renderCodeTab=function(){var e=this,t=!this.state.codeShouldBeExpanded;return this.shouldUseCodeOutputCommentsView()&&!this.hasOutputTab()&&(t=!1),React.createElement("div",null,React.createElement(s.ScriptCodePaneContainer,{codeContents:this.props.code,languageName:this.props.languageName,isNotebook:this.props.isNotebook,isPrivate:this.props.isPrivate,setEnclosingElement:function(t){return e.updateEnclosingElement(t,"Code")},allowToggle:this.shouldUseCodeOutputCommentsView(),scriptVersionId:this.state.scriptVersionId,startMinimized:t,onPaneExpanded:function(){e.setState({activeTab:"Code"})},submission:this.props.submission,runInfo:this.props.runInfo}),this.shouldUseCodeOutputCommentsView()?null:this.renderCommentsTab())},t.prototype.hasOutputTab=function(){return this.props.outputFiles.length>0},t.prototype.renderOutputTab=function(){var e=this;return this.hasOutputTab()?React.createElement("div",null,this.hasImages()?React.createElement(d.ContentBox,{title:"Visualizations",contentClassName:"script-viewer__visualizations"},this.getVisualizationFiles().map(function(e){return React.createElement("img",{src:e.fileUrl})})):null,!this.hasImages()||this.hasNonImages()?React.createElement(l.ScriptFilesPaneContainer,{fileListItems:this.getNonVisualizationFiles(),downloadAllFilesUrl:this.props.downloadAllFilesUrl,showSubmitToCompButtons:this.props.showSubmitToCompButtons,submitToCompUrl:this.props.submitToCompUrl,scriptVersionId:this.props.scriptVersionId,competitionName:this.props.competitionName,setEnclosingElement:function(t){return e.updateEnclosingElement(t,"Output")}}):null,this.shouldUseCodeOutputCommentsView()?null:this.renderCommentsTab()):null},t.prototype.changeReplyDraft=function(e){this.setState({replyDraft:e})},t.prototype.submitReply=function(e){var t=this;h.PageMessages.clear(),this.setState({isSubmittingReply:!0},function(){return g.ajax({contentType:"application/json",data:JSON.stringify({content:t.markdownConverter.makeHtml(t.state.replyDraft),rawMarkdown:t.state.replyDraft,scriptId:t.props.scriptId}),type:"POST",url:"/kernels/comments/ajax"}).done(function(n){t.setState({isSubmittingReply:!1,replyDraft:"",topicId:n.topicId},function(){h.PageMessages.clear(),window.Intercom("trackEvent","forum_post"),e(n.id)})}).fail(function(){t.setState({isSubmittingReply:!1}),h.PageMessages.clear(),h.PageMessages.error({htmlMessage:'We had trouble submitting your reply. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})})})},t.prototype.renderCommentsTab=function(){var e=this;return React.createElement(h.CommentListContainer,{allowAttachments:this.props.topic.allowAttachments,allowReplies:!this.props.topic.isLocked,canDownvote:this.props.topic.canDownvote,isSubmittingReply:this.state.isSubmittingReply,replyAttachments:[],replyDraft:this.state.replyDraft,replyDraftChanged:function(t){return e.changeReplyDraft(t)},replySubmitted:function(t){return e.submitReply(t)},topicId:this.state.topicId})},t.prototype.renderCodeOutputCommentsView=function(){return React.createElement("div",null,this.renderCodeTab(),this.renderOutputTab(),this.renderCommentsTab())},t.prototype.shouldUseCodeOutputCommentsView=function(){return!this.props.isNotebook},t.prototype.renderActivePane=function(){var e=this;switch(this.state.activePane){case"Log":return React.createElement(i.ScriptLogPaneContainer,{logContents:this.props.log,runInfo:this.props.runInfo});case"Code":return this.shouldUseCodeOutputCommentsView()?this.renderCodeOutputCommentsView():this.renderCodeTab();case"Report":return null;case"Notebook":return null;case"Output":return this.shouldUseCodeOutputCommentsView()?this.renderCodeOutputCommentsView():this.renderOutputTab();case"Forks":return this.props.hasForks?React.createElement(u.ScriptList,{listTitle:"Forked Kernels",languagesMetadataUrl:null,loginAndReturnUrl:null,newScriptUrl:null,outputTypesMetadataUrl:null,newNotebookUrl:null,showFilters:!1,showScriptProjectName:!1,sourceBaseUrl:this.props.forksBaseUrl.slice(0,this.props.forksBaseUrl.length-1)}):null;case"Versions":return React.createElement(c.ScriptVersionsPane,{versionHistory:this.props.versionHistory});case"Comments":return this.renderCommentsTab();case"Options":return React.createElement(p.ScriptOptionsPaneContainer,{scriptIsInitiallyHidden:this.state.isHidden,toggleScriptIsHiddenUrl:this.props.toggleScriptIsHiddenUrl,showAdmin:this.props.isAdmin,toggleScriptLanguageTemplateUrl:this.props.toggleScriptLanguageTemplateUrl,scriptIsInitiallyLanguageTemplate:this.state.isLanguageTemplate,rerunScriptUrl:this.props.rerunScriptUrl,onScriptHiddenStateChange:function(t){return e.setState({isHidden:t})},onScriptLanguageTemplateChange:function(t){return e.setState({isLanguageTemplate:t})}});default:return React.createElement("div",null,"Sorry, an error has occurred.")}},t.prototype.renderNotebookPane=function(){if(!this.hasReportPane()&&!this.hasNotebookPane())return null;var e=this.state.activePane===(this.hasReportPane()?"Report":"Notebook");return React.createElement("div",null,React.createElement(o.ScriptNotebookPaneContainer,{iframeUrl:this.props.htmlOutputFileUrl,displayIframe:e,isNotebook:this.hasNotebookPane()}),e?this.renderCommentsTab():null)},t.prototype.render=function(){var e=this.props.pageMessages,t=this.props.callToAction;return this.state.isHidden&&(e=e.concat([{type:"info",message:this.props.userCanEditScript?"You have hidden this script from lists and searches, but is still accessible via URL. Unhide it by deselecting Hide Script on the Options tab.":"The user has hidden this script, meaning they prefer not to have it shared more broadly."}]),this.props.userCanEditScript&&(t={href:this.props.baseUrl,text:"Unhide Script",title:"Unhide Script",actionCallback:this.handleUnhideScript})),this.props.datasetHidden&&(e=e.concat([{type:"info",message:"The dataset used for this script is no longer available."}])),React.createElement("div",{className:"script-viewer"},React.createElement("div",{className:"script-viewer__header-background"
}),React.createElement("div",{className:"script-viewer__container"},React.createElement(m.KernelHeader,r({},g.extend(this.props,this.state),{activeTab:this.state.activeTab,callToAction:t,isHidden:this.state.isHidden,onActiveTabChange:this.onActiveTabChange.bind(this),pageMessages:e})),React.createElement("div",{className:"script-viewer__pane-container"},this.renderActivePane(),this.renderNotebookPane())))},t}(React.Component);t.ScriptViewerApp=v},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(5),s=n(38),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this.props.time?Math.round(10*+this.props.time)/10:null;if(""===this.props.time&&""===this.props.data)return React.createElement("div",{className:"script-log-pane__line"},React.createElement("span",{className:"script-log-pane__empty-message"},"No output was generated."));var t="script-log-pane__data-column";return"stderr"===this.props.stream_name||"failure"===this.props.status?t+="--stderr":"success"===this.props.status&&(t+="--success"),React.createElement("div",{className:"script-log-pane__line"},React.createElement("span",{className:"script-log-pane__time-column"},"number"==typeof e&&e.toFixed(1)+"s"),React.createElement("span",{className:"script-log-pane__line-no-column"},this.props.lineNo),React.createElement("span",{className:t},this.props.data))},t}(React.Component);t.ScriptLogPaneLine=o;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.downloadUrl=function(){var e=this.props.logLineData.map(function(e){return e.data}).join("\n");return"data:text/plain;charset=utf-8,"+encodeURIComponent(e)},t.prototype.renderStatus=function(){var e=React.createElement(o,{key:"scriptlogpane-emtpy",lineNo:this.props.logLineData.length+1,stream_name:"stdout",time:this.props.logLineData.slice(-1)[0].time,data:""}),t=0===this.props.exitCode?"Complete. Exited with code 0.":"Failed. Exited with code "+this.props.exitCode+".";return"number"==typeof this.props.exitCode?React.createElement("div",null,e,React.createElement(o,{key:"scriptlogpane-status",status:0===this.props.exitCode?"success":"failure",lineNo:this.props.logLineData.length+2,stream_name:"stdout",time:this.props.logLineData.slice(-1)[0].time,data:t})):null},t.prototype.renderHeader=function(){return React.createElement("div",{className:"script-log-pane__line"},React.createElement("span",{className:"script-log-pane__time-column script-log-pane__time-column--header"},"Time"),React.createElement("span",{className:"script-log-pane__line-no-column script-log-pane__line-no-column--header"},"Line #"),React.createElement("span",{className:"script-log-pane__data-column script-log-pane__data-column--header"},"Log Message"))},t.prototype.renderLines=function(){var e=this.props.logLineData.length>0&&this.props.logLineData[0].data;return React.createElement("div",null,e&&this.renderHeader(),this.props.logLineData.map(function(e,t){return React.createElement(o,r({key:"scriptlogpane-"+t,lineNo:t},e))}),e&&this.renderStatus())},t.prototype.render=function(){var e=React.createElement("div",{className:"script-code-pane__right-section"},React.createElement("a",{href:this.downloadUrl(),className:"script-code-pane__download",download:"log.txt"},"Download Log"));return this.props.withContentBox===!1?this.renderLines():React.createElement(i.ContentBox,{title:"Log",titleBarRightSide:e},React.createElement("div",{className:"script-log-pane__log"},this.renderLines()))},t}(React.Component);t.ScriptLogSection=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderScriptInfo=function(){return React.createElement("div",{className:"script-log-pane__run-info"},React.createElement("div",{className:"script-log-pane__run-info-top"},React.createElement("div",{className:"script-log-pane__run-info-column"},React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Succeeded"),React.createElement("div",{className:"script-log-pane__run-info-right"},this.props.succeeded?"True":"False")),React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Exit Code"),React.createElement("div",{className:"script-log-pane__run-info-right"},this.props.exitCode)),React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Docker Image Name"),React.createElement("div",{className:"script-log-pane__run-info-right"},React.createElement("a",{href:this.props.dockerHubUrl},this.props.dockerImageName)," (",React.createElement("a",{href:this.props.dockerfileUrl},"Dockerfile"),")")),React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Timeout Exceeded"),React.createElement("div",{className:"script-log-pane__run-info-right"},this.props.timeoutExceeded?"True":"False"))),React.createElement("div",{className:"script-log-pane__run-info-column"},React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Run Time"),React.createElement("div",{className:"script-log-pane__run-info-right"},Math.round(10*this.props.runTimeSeconds)/10," seconds")),React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Queue Time"),React.createElement("div",{className:"script-log-pane__run-info-right"},Math.round(10*this.props.queuedSeconds)/10," seconds")),React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Output Size"),React.createElement("div",{className:"script-log-pane__run-info-right"},this.props.outputSizeBytes&&s(this.props.outputSizeBytes))),React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Used All Space"),React.createElement("div",{className:"script-log-pane__run-info-right"},this.props.usedAllSpace?"True":"False")))),React.createElement("div",{className:"script-log-pane__run-info-row"},React.createElement("div",{className:"script-log-pane__run-info-left"},"Failure Message"),React.createElement("div",{className:"script-log-pane__run-info-right"},this.props.failureMessage)))},t.prototype.render=function(){return this.props.withContentBox===!1?this.renderScriptInfo():React.createElement(i.ContentBox,{title:"Run Info"},this.renderScriptInfo())},t}(React.Component);t.ScriptRunInfoSection=c;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getLoglineData=function(){var e=[{time:"",stream_name:"stdout",lineNo:0,data:""}];try{e=JSON.parse(this.props.logContents)}catch(t){try{e=JSON.parse("["+this.props.logContents)}catch(t){if(console.warn("Error in log parsing"),""!==this.props.logContents){var n=this.props.logContents.split("\n");e=n.map(function(e,t){return{time:null,stream_name:"stdout",lineNo:t+1,data:e}})}}}return e.forEach(function(e,t){return e.lineNo=t+1}),e},t.prototype.render=function(){var e=this.getLoglineData();return React.createElement("div",{className:"script-log-pane"},React.createElement(c,r({},this.props.runInfo)),React.createElement(l,{logLineData:e,exitCode:this.props.runInfo.exitCode}))},t}(React.Component);t.ScriptLogPaneContainer=p},,function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(5),i=n(40),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this,t=null;return this.props.allowToggle&&(t=React.createElement("div",{className:"script-code-pane__show-more-toggle-container"},React.createElement("div",{className:"script-code-pane__show-more-toggle"},React.createElement("a",{href:"",onClick:function(t){return e.props.handleToggleMinimizedClick(t)}},"show",this.props.isMinimized?" more":" less")))),React.createElement("div",{className:"script-code-pane"},React.createElement("div",{className:"script-code-pane__contents"+(this.props.isMinimized?" script-code-pane__contents--minimized":"")},React.createElement("pre",{className:"line-numbers"},React.createElement("code",{className:this.props.prismLanguageClassName},this.props.codeContents))),t)},t}(React.Component);t.ScriptCodePane=s;var o=function(e){function t(t){var n=e.call(this,t)||this;n.showMoreOrLess=function(e){e.preventDefault(),n.state.isMinimized&&n.props.onPaneExpanded(),n.setState({isMinimized:!n.state.isMinimized})};var a=n.parseUrlHash(),r=n.props.codeContents.split("\n").length;return n.shouldShowToggle=n.props.allowToggle&&r>10,n.state={downloadUrl:"",highlightStart:a[0],highlightEnd:a[1],isMinimized:n.shouldShowToggle&&null===a[0]&&n.props.startMinimized},n}return a(t,e),t.prototype.shouldComponentUpdate=function(e,t){return t.downloadUrl!==this.state.downloadUrl||t.isMinimized!==this.state.isMinimized},t.prototype.componentDidMount=function(){var e=this;window.setTimeout(this.renderPrism()),$.ajax({url:"/kernels/sourceurl/"+this.props.scriptVersionId,success:function(t){e.setState({downloadUrl:t})}})},t.prototype.scrollToLineNumber=function(e){var t=Math.max(0,e-4),n=$('*[data-linenumber="'+t+'"]');n.length&&$("html, body").animate({scrollTop:n.offset().top},250)},t.prototype.renderPrism=function(){var e=this;Prism.highlightAll(!0,function(){$(".line-number-inner-span").click(function(t){if(t.target){var n=t.target.getAttribute("data-linenumber");e.handleLineNumberClick(n,t.shiftKey)}t.preventDefault()}),e.updateLineHighlights();var t=e.parseUrlHash()[0];t&&e.scrollToLineNumber(+t)})},t.prototype.handleLineNumberClick=function(e,t){if(t&&this.state.highlightStart){var n=+e,a=+this.state.highlightStart,r=this.state.highlightEnd||this.state.highlightStart;n<a?this.setState({highlightStart:e,highlightEnd:r}):this.setState({highlightEnd:e})}else this.setState({highlightStart:e,highlightEnd:null});Prism.clearLineHighlights(),this.updateLineHighlights(),this.updateUrlHash()},t.prototype.parseUrlHash=function(){var e=location.hash.slice(1);if(!e)return[null,null];var t=e.match(/^L([0-9]+)$|^L([0-9]+)\-L([0-9]+)$/);return t?t[1]?[t[1],null]:[t[2],t[3]]:[null,null]},t.prototype.updateUrlHash=function(){if(this.state.highlightStart){var e="L"+this.state.highlightStart;this.state.highlightEnd&&(e+="-L"+this.state.highlightEnd),location.hash=e}},t.prototype.updateLineHighlights=function(){this.state.highlightStart?Prism.highlightLines($("pre")[0],this.state.highlightStart,this.state.highlightEnd):Prism.clearLineHighlights()},t.prototype.prismName=function(){if(this.props.isNotebook)return"language-json";switch(this.props.languageName){case"Python":return"language-python";case"Julia":return"language-julia";case"R":return"language-r";case"RMarkdown":return"language-r";case"SQLite":return"language-sql"}return""},t.prototype.renderSubmissionInfo=function(){var e=this.props.submission,t=e.date,n=e.teamName,a=e.privateScore,s=e.publicScore;return React.createElement("div",{className:"script-code-pane__submission"},React.createElement("div",{className:"script-code-pane__submission-info-wrapper"},React.createElement(r.ContentBox,null,React.createElement("div",{className:"script-code-pane__submission-info-content"},React.createElement("div",null,React.createElement("div",{className:"script-code-pane__submission-header"},"Submission"),React.createElement("div",null,this.props.runInfo.succeeded?React.createElement("div",{className:"script-code-pane__submission-status--success"},React.createElement("i",{className:"fa fa-check"})," Ran successfully"):React.createElement("div",{className:"script-code-pane__submission-status--failure"},React.createElement("i",{className:"fa fa-times"})," Script run unsuccessful")),React.createElement("div",null,"Submitted by ",n," ",React.createElement(i.TimeAgo,{time:t})))))),React.createElement("div",{className:"script-code-pane__submission-score-wrapper"},React.createElement(r.ContentBox,null,React.createElement("div",{className:"script-code-pane__submission-score-content"},a&&React.createElement("div",{className:"script-code-pane__submission-score-private"},React.createElement("div",{className:"script-code-pane__submission-score-label"},"Private Score"),React.createElement("div",{className:"script-code-pane__submission-score-value"},a)),React.createElement("div",{className:"script-code-pane__submission-score-public"},React.createElement("div",{className:"script-code-pane__submission-score-label"},"Public Score"),React.createElement("div",{className:"script-code-pane__submission-score-value"},s||"No score"))))))},t.prototype.render=function(){var e=this,t=React.createElement("div",{className:"script-code-pane__right-section"},this.props.isPrivate?null:React.createElement(i.MediaQuery,{minWidth:i.Breakpoints.desktopMin},React.createElement("div",{className:"script-code-pane__subtitle"},"This script has been released under the ",React.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0"},"Apache 2.0")," open source license.")),this.props.isPrivate?null:React.createElement(i.MediaQuery,{minWidth:0,maxWidth:i.Breakpoints.tabletMax},React.createElement("div",{className:"script-code-pane__subtitle"},"Licensed under ",React.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0"},"Apache 2.0"))),React.createElement(i.MediaQuery,{minWidth:i.Breakpoints.tabletMin},React.createElement("a",{href:this.state.downloadUrl,className:"script-code-pane__download"},"Download Code")));return React.createElement("div",{ref:function(t){return e.props.setEnclosingElement(t)}},this.props.submission&&this.renderSubmissionInfo(),React.createElement(r.ContentBox,{title:"Code",titleBarRightSide:t},React.createElement(s,{codeContents:this.props.codeContents,prismLanguageClassName:this.prismName(),downloadUrl:this.state.downloadUrl,isMinimized:this.state.isMinimized,isPrivate:this.props.isPrivate,allowToggle:this.shouldShowToggle,handleToggleMinimizedClick:this.props.allowToggle?this.showMoreOrLess:null})))},t}(React.Component);t.ScriptCodePaneContainer=o},function(e,t,n){"use strict";var a=n(41);t.ActivityCalendar=a.ActivityCalendar;var r=n(44);t.AddDataSourceModal=r.AddDataSourceModal;var i=n(45);t.ApolloComponent=i.ApolloComponent;var s=n(34);t.Avatar=s.Avatar;var o=n(35);t.Badge=o.Badge;var l=n(11);t.Banner=l.Banner;var c=n(29);t.Breakpoints=c.Breakpoints,t.MediaQuery=c.MediaQuery;var p=n(32);t.BlockLink=p.BlockLink;var u=n(12);t.Button=u.Button;var d=n(85);t.ButtonAutoWidth=d.ButtonAutoWidth;var m=n(86);t.ButtonRoundEdged=m.ButtonRoundEdged;var h=n(87);t.Checkbox=h.Checkbox;var f=n(88);t.CityLookup=f.CityLookup;var g=n(89);t.CodeMirrorEditor=g.CodeMirrorEditor;var v=n(5);t.CollapsibleContentBox=v.CollapsibleContentBox;var y=n(96);t.CommentListContainer=y.CommentListContainer;var b=n(110);t.CompetitionCard=b.CompetitionCard;var E=n(113);t.Confirm=E.Confirm;var _=n(5);t.ContentBox=_.ContentBox;var R=n(6);t.Current=R.Current;var w=n(114);t.addDataSource=w.addDataSource,t.removeDataSource=w.removeDataSource;var C=n(115);t.EditStateToggleButton=C.EditStateToggleButton;var S=n(116);t.FileUploader=S.FileUploader;var N=n(162);t.FileList=N.FileList;var k=n(164);t.FilePreviewList=k.FilePreviewList;var T=n(188);t.Forum=T.Forum;var I=n(108);t.ForumMessageContent=I.ForumMessageContent;var P=n(193);t.InlineTextEditor=P.InlineTextEditor;var x=n(194);t.isValidUrl=x.isValidUrl;var M=n(195);t.JobListContainer=M.JobListContainer;var D=n(199);t.LoadingText=D.LoadingText;var O=n(166);t.MarkdownConverter=O.MarkdownConverter;var U=n(170);t.MarkdownEditor=U.MarkdownEditor;var L=n(200);t.Modal=L.Modal;var A=n(112);t.numberWithCommas=A.numberWithCommas;var F=n(30);t.OffCanvasContainer=F.OffCanvasContainer;var B=n(201);t.Ordinal=B.Ordinal;var j=n(202);t.OrganizationCard=j.OrganizationCard;var V=n(28);t.OverflowX=V.OverflowX;var H=n(203);t.PageHeader=H.PageHeader,t.PageHeaderCallToAction=H.PageHeaderCallToAction,t.PageHeaderNav=H.PageHeaderNav,t.PageHeaderBottomRow=H.PageHeaderBottomRow,t.PageHeaderTopRow=H.PageHeaderTopRow;var z=n(205);t.PageMessages=z.PageMessages;var q=n(111);t.Pluralize=q.Pluralize;var K=n(13);t.SelectBox=K.SelectBox;var W=n(206);t.SmartListContainer=W.SmartListContainer;var Q=n(7);t.TimeAgo=Q.TimeAgo;var G=n(208);t.Timer=G.Timer;var $=n(33);t.ToolTip=$.ToolTip;var J=n(165);t.ToolTipMultiLine=J.ToolTipMultiLine;var Y=n(23);t.VoteButton=Y.VoteButton},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(42),i=n(3),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=function(e){function t(t){var n=e.call(this,t)||this,a=new Date;return a.setFullYear((new Date).getFullYear()-1),a.setDate(a.getDate()+1),n.start=a,n.labels=s.map(function(e,t){return s[(t+a.getMonth()+1)%12]}),n}return a(t,e),t.prototype.componentDidMount=function(){var e=this;window.setTimeout(function(){var t=new r;t.init({itemSelector:e.container,domain:"week",subDomain:"day",weekStartOnMonday:!1,tooltip:!0,animationDuration:0,range:53,domainGutter:0,domainMargin:1,itemName:["",""],cellSize:13,legendCellSize:13,legendCellPadding:4,start:e.start,data:e.props.dataUrl,afterLoadData:e.parseData.bind(e),subDomainDateFormat:e.formatTooltip.bind(e),domainLabelFormat:"",legend:[5,10,15,20]})})},t.prototype.formatTooltip=function(e){var t=this.formatDate(e);if(!this.activityLookup)return t;var n=this.activityLookup[this.formatDate(e)];return n&&(n.totalSubmissions&&(t+="<br />"+n.totalSubmissions+" "+i("submission",n.totalSubmissions)),n.totalScripts&&(t+="<br />"+n.totalScripts+" script "+i("run",n.totalScripts)),n.totalDatasets&&(t+="<br />"+n.totalDatasets+" dataset "+i("version",n.totalDatasets)),n.totalDiscussions&&(t+="<br />"+n.totalDiscussions+"  "+i("comment",n.totalDiscussions))),t},t.prototype.parseData=function(e){var t={};this.activityLookup={};for(var n=0,a=e;n<a.length;n++){var r=a[n],i=r.totalDatasets+r.totalDiscussions+r.totalScripts+r.totalSubmissions,s=new Date(r.date.toString()),o=s.getTime()/1e3;this.activityLookup[this.formatDate(s)]=r,t[o.toString().split(".")[0]]=i}return t},t.prototype.formatDate=function(e){return s[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()},t.prototype.renderLabels=function(){return this.labels.map(function(e,t){return React.createElement("li",{key:t},e)})},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"activity-calendar activity-calendar--"+this.props.tier},React.createElement("ul",{className:"activity-calendar__labels"},this.renderLabels()),React.createElement("div",{className:"activity-calendar__container",ref:function(t){return e.container=t}}))},t}(React.Component);t.ActivityCalendar=o,o.docs={description:"Display activity given a data endpoint.",examples:[React.createElement("div",{className:"react-components__style-guide-example--overflow"},React.createElement(o,{dataUrl:"/benhamner/activity.json",tier:"staff"}))],staticMarkup:'<ActivityCalendar \n    dataUrl="/benhamner/activity.json"\n    tier="staff" />',title:"ActivityCalendar"}},,,function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(40),i=[{label:"Datasets",value:"dataset"},{label:"Competitions",value:"competition"}],s=function(e){function t(t){var n=e.call(this,t)||this;return n.renderListItem=function(e){return React.createElement("div",{className:"add-data-source-modal__list-item"},React.createElement("div",{className:"add-data-source-modal__list-item-thumbnail"},React.createElement("img",{src:e.thumbnailUrl})),React.createElement("div",{className:"add-data-source-modal__list-item-info"},React.createElement("div",{className:"add-data-source-modal__list-item-title"},e.title),React.createElement("div",{className:"add-data-source-modal__list-item-description",title:e.description},e.description)),React.createElement("div",{className:"add-data-source-modal__list-item-add-button"},React.createElement(r.ButtonAutoWidth,{text:"Add",onClick:function(){return n.props.onDataSourceAdded(e)}})))},n.state={selectedGroup:i[0].value},n}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement(r.Modal,{modalIsShown:this.props.isShown,onClose:this.props.onClose,modalClassName:"add-data-source-modal"},React.createElement(r.SmartListContainer,{title:"Add Data Sources",dataUrl:"/kernels/"+this.props.scriptVersionId+"/sources.json",pluralItemDescription:"Data Sources",itemRenderer:this.renderListItem,groups:i,onSelectionsChanged:function(t,n){return e.setState({selectedGroup:n})},searchIndex:this.state.selectedGroup,containerClassName:"add-data-source-modal__container",contentClassName:"add-data-source-modal__content",mobileSortUpperBound:600,contentHeight:400,searchableGroups:["dataset","competition"]}))},t}(React.Component);t.AddDataSourceModal=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(46),i=n(46),s=n(76),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement(s.ApolloProvider,{client:t.client},this.props.children)},t}(React.Component);o.client=new r["default"]({connectToDevTools:!0,networkInterface:i.createNetworkInterface({uri:"/graphql",opts:{credentials:"same-origin"}})}),t.ApolloComponent=o},function(e,t,n){(function(e){/*!
	 * apollo-client (https://npmjs.com/package/apollo-client)
	 * @license MIT
	 * @version 0.8.1
	 * ==apollo-client/LICENSE==
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2015 - 2016 Meteor Development Group, Inc.
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in all
	 * copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	 * SOFTWARE.undefined
	 */
!function(e,a){a(t,n(48),n(49),n(50),n(70),n(62))}(this,function(t,n,a,r,i,s){"use strict";function o(e){return De({},e,{query:a.print(e.query)})}function l(e,t){if(void 0===t&&(t={}),!e)throw new Error("You must pass an options argument to createNetworkInterface.");var n,a;return"string"==typeof e?(console.warn('Passing the URI as the first argument to createNetworkInterface is deprecated as of Apollo Client 0.5. Please pass it as the "uri" property of the network interface options.'),a=t,n=e):(a=e.opts,n=e.uri),new Oe(n,a)}function c(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){return Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function p(e){if(!e)throw new Error("You must pass an options argument to createNetworkInterface.");return new Fe(e.uri,e.batchInterval,e.opts||{})}function u(e){return"APOLLO_QUERY_RESULT"===e.type}function d(e){return"APOLLO_QUERY_ERROR"===e.type}function m(e){return"APOLLO_QUERY_INIT"===e.type}function h(e){return"APOLLO_QUERY_RESULT_CLIENT"===e.type}function f(e){return"APOLLO_QUERY_STOP"===e.type}function g(e){return"APOLLO_MUTATION_INIT"===e.type}function v(e){return"APOLLO_MUTATION_RESULT"===e.type}function y(e){return"APOLLO_MUTATION_ERROR"===e.type}function b(e){return"APOLLO_UPDATE_QUERY_RESULT"===e.type}function E(e){return"APOLLO_STORE_RESET"===e.type}function _(e){return"APOLLO_SUBSCRIPTION_RESULT"===e.type}function R(e){if("Document"!==e.kind)throw new Error('Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');var t=!1;e.definitions.forEach(function(e){switch(e.kind){case"FragmentDefinition":break;case"OperationDefinition":if(t)throw new Error("Queries must have exactly one operation definition.");t=!0;break;default:throw new Error('Schema type definitions not allowed in queries. Found: "'+e.kind+'"')}})}function w(e){var t="";return e.definitions.forEach(function(e){"OperationDefinition"===e.kind&&e.name&&(t=e.name.value)}),t}function C(e){var t=e.definitions.filter(function(e){return"FragmentDefinition"===e.kind});return t}function S(e){R(e);var t=null;if(e.definitions.map(function(e){"OperationDefinition"===e.kind&&"query"===e.operation&&(t=e)}),!t)throw new Error("Must contain a query definition.");return t}function N(e){R(e);var t=null;if(e.definitions.map(function(e){"OperationDefinition"===e.kind&&(t=e)}),!t)throw new Error("Must contain a query definition.");return t}function k(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t}function T(e){return"StringValue"===e.kind}function I(e){return"BooleanValue"===e.kind}function P(e){return"IntValue"===e.kind}function x(e){return"FloatValue"===e.kind}function M(e){return"Variable"===e.kind}function D(e){return"ObjectValue"===e.kind}function O(e){return"ListValue"===e.kind}function U(e){return"EnumValue"===e.kind}function L(e,t,n,a){if(P(n)||x(n))e[t.value]=Number(n.value);else if(I(n)||T(n))e[t.value]=n.value;else if(D(n)){var r={};n.fields.map(function(e){return L(r,e.name,e.value,a)}),e[t.value]=r}else if(M(n)){var i=(a||{})[n.name.value];e[t.value]=i}else if(O(n))e[t.value]=n.values.map(function(e){var n={};return L(n,t,e,a),n[t.value]});else{if(!U(n))throw new Error('The inline argument "'+t.value+'" of kind "'+n.kind+'" is not supported.\n                    Use variables instead of inline arguments to overcome this limitation.');e[t.value]=n.value}}function A(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach(function(e){var a=e.name,r=e.value;return L(n,a,r,t)}),F(e.name.value,n)}return e.name.value}function F(e,t){if(t){var n=JSON.stringify(t);return e+"("+n+")"}return e}function B(e){return e.alias?e.alias.value:e.name.value}function j(e){return"Field"===e.kind}function V(e){return"InlineFragment"===e.kind}function H(e){return e.errors&&e.errors.length}function z(e){return null!=e&&"object"==typeof e&&"id"===e.type}function q(e,t){return void 0===t&&(t=!1),{type:"id",id:e,generated:t}}function K(e){return null!=e&&"object"==typeof e&&"json"===e.type}function W(e,t){if(void 0===t&&(t={}),!e.directives)return!0;var n=!0;return e.directives.forEach(function(e){if("skip"===e.name.value||"include"===e.name.value){var a=e.arguments||[],r=e.name.value;if(1!==a.length)throw new Error("Incorrect number of arguments for the @"+r+" directive.");var i=a[0];if(!i.name||"if"!==i.name.value)throw new Error("Invalid argument for the @"+r+" directive.");var s=a[0].value,o=!1;if(s&&"BooleanValue"===s.kind)o=s.value;else{if("Variable"!==s.kind)throw new Error("Argument for the @"+r+" directive must be a variable or a bool ean value.");if(o=t[s.name.value],void 0===o)throw new Error("Invalid variable referenced in @"+r+" directive.")}"skip"===r&&(o=!o),o||(n=!1)}}),n}function Q(e){var t=e.result,n=e.query,a=e.store,r=void 0===a?{}:a,i=e.variables,s=e.dataIdFromObject,o=e.fragmentMap,l=void 0===o?{}:o,c=S(n);return $({dataId:"ROOT_QUERY",result:t,selectionSet:c.selectionSet,context:{store:r,variables:i,dataIdFromObject:s,fragmentMap:l}})}function G(e){var t=e.result,n=e.dataId,a=e.document,r=e.store,i=void 0===r?{}:r,s=e.variables,o=e.dataIdFromObject,l=N(a).selectionSet,c=k(C(a));return $({result:t,dataId:n,selectionSet:l,context:{store:i,variables:s,dataIdFromObject:o,fragmentMap:c}})}function $(e){var t=e.result,n=e.dataId,a=e.selectionSet,r=e.context,i=r.variables,s=r.store,o=(r.dataIdFromObject,r.fragmentMap);return a.selections.forEach(function(e){var a=W(e,i);if(j(e)){var s=B(e),l=t[s];void 0!==l&&Z({dataId:n,value:l,field:e,context:r})}else if(V(e))a&&$({result:t,selectionSet:e.selectionSet,dataId:n,context:r});else{var c=void 0;if(V(e))c=e;else if(c=(o||{})[e.name.value],!c)throw new Error("No fragment named "+e.name.value+".");a&&$({result:t,selectionSet:c.selectionSet,dataId:n,context:r})}}),s}function J(e){return"$"===e[0]}function Y(e,t,n){var a=n[e],r=n[t];Object.keys(a).forEach(function(i){var s=a[i],o=r[i];z(s)&&J(s.id)&&z(o)&&Y(s.id,o.id,n),delete n[e],n[t]=Be({},a,r)})}function Z(e){var t,n=e.field,a=e.value,r=e.dataId,i=e.context,s=i.variables,o=i.dataIdFromObject,l=i.store,c=(i.fragmentMap,A(n,s)),p=!1,u="";if(n.selectionSet&&null!==a)if(Array.isArray(a)){var d=r+"."+c;t=X(a,d,n.selectionSet,i)}else{var m=r+"."+c,h=!0;if(J(m)||(m="$"+m),o){var f=o(a);if(f&&J(f))throw new Error('IDs returned by dataIdFromObject cannot begin with the "$" character.');f&&(m=f,h=!1)}if($({dataId:m,result:a,selectionSet:n.selectionSet,context:i}),t={type:"id",id:m,generated:h},l[r]&&l[r][c]!==t){var g=l[r][c];if(z(t)&&t.generated&&z(g)&&!g.generated)throw new Error("Store error: the application attempted to write an object with no provided id"+(" but the store already contains an id of "+g.id+" for this object."));z(g)&&g.generated&&(u=g.id,p=!0)}}else t=null!=a&&"object"==typeof a?{type:"json",json:a}:a;var v=Be({},l[r],(y={},y[c]=t,y));p&&Y(u,t.id,l),l[r]&&t===l[r][c]||(l[r]=v);var y}function X(e,t,n,a){return e.map(function(e,r){if(null===e)return null;var i=t+"."+r;if(Array.isArray(e))return X(e,i,n,a);var s=!0;if(a.dataIdFromObject){var o=a.dataIdFromObject(e);o&&(i=o,s=!1)}$({dataId:i,result:e,selectionSet:n,context:a});var l={type:"id",id:i,generated:s};return l})}function ee(e,t,n){var a=t.variables,r=t.document,i=t.newResult,s=je({},e);return G({result:i,dataId:"ROOT_QUERY",variables:a,document:r,store:s,dataIdFromObject:n.dataIdFromObject})}function te(e,t){if(e===t)return!0;if(null!=e&&"object"==typeof e&&null!=t&&"object"==typeof t){for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(!te(e[n],t[n]))return!1}for(var n in t)if(!e.hasOwnProperty(n))return!1;return!0}return!1}function ne(){return"undefined"!=typeof e?"production":"development"}function ae(e){return ne()===e}function re(){return ae("production")===!0}function ie(){return ae("development")===!0}function se(){return ae("test")===!0}function oe(e){var t={returnPartialData:void 0!==e.returnPartialData&&e.returnPartialData};return le(Ve({},e,t)).result}function le(e){var t=e.store,n=e.query,a=e.variables,r=e.returnPartialData,s=void 0===r||r,o=e.previousResult,l=e.config;S(n);var c={store:t,returnPartialData:s,customResolvers:l&&l.customResolvers||{},hasMissingField:!1},p={type:"id",id:"ROOT_QUERY",previousResult:o},u=i(Ke,n,p,c,a,{fragmentMatcher:qe,resultMapper:ue});return{result:u,isMissing:c.hasMissingField}}function ce(e){if(!z(e))throw new Error("Encountered a sub-selection on the query, but the store doesn't have an object reference. This should never happen during normal use unless you have custom code that is directly manipulating the store; please file an issue.")}function pe(e,t){if(z(e))return Ve({},e,{previousResult:t});if(Array.isArray(e)){var n={};return Array.isArray(t)&&t.forEach(function(e){e[He]&&(n[e[He]]=e)}),e.map(function(e,a){var r=t&&t[a];return z(e)&&(r=n[e.id]||r),pe(e,r)})}return e}function ue(e,t){if(t.previousResult){var n=Object.keys(e),a=Object.keys(t.previousResult).reduce(function(e,t){return e&&n.indexOf(t)>-1},!0)&&n.reduce(function(n,a){return n&&de(e[a],t.previousResult[a])},!0);if(a)return t.previousResult}return Object.defineProperty(e,He,{enumerable:!1,configurable:!1,writable:!1,value:t.id}),e}function de(e,t){return e===t||!(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)&&e.reduce(function(e,n,a){return e&&de(n,t[a])},!0)}function me(e){try{return e()}catch(t){console.error&&console.error(t)}}function he(e,t,n,a,r){void 0===e&&(e={});var i=t;if(u(t)){if(!n[t.queryId])return e;if(t.requestId<n[t.queryId].lastRequestId)return e;if(!H(t.result)){var s=n[t.queryId],o=We({},e),l=G({result:t.result.data,dataId:"ROOT_QUERY",document:t.document,variables:s.variables,store:o,dataIdFromObject:r.dataIdFromObject});return t.extraReducers&&t.extraReducers.forEach(function(e){l=e(l,i)}),l}}else if(_(t)){if(!H(t.result)){var o=We({},e),c=G({result:t.result.data,dataId:"ROOT_SUBSCRIPTION",document:t.document,variables:t.variables,store:o,dataIdFromObject:r.dataIdFromObject});return t.extraReducers&&t.extraReducers.forEach(function(e){c=e(c,i)}),c}}else if(v(i)){if(!i.result.errors){var s=a[i.mutationId],o=We({},e),p=G({result:i.result.data,dataId:"ROOT_MUTATION",document:i.document,variables:s.variables,store:o,dataIdFromObject:r.dataIdFromObject}),d=i.updateQueries;return d&&Object.keys(d).forEach(function(t){var a=n[t];if(a){var s=oe({store:e,query:a.document,variables:a.variables,returnPartialData:!0,config:r}),o=d[t],l=me(function(){return o(s,{mutationResult:i.result,queryName:w(a.document),queryVariables:a.variables})});l&&(p=G({result:l,dataId:"ROOT_QUERY",document:a.document,variables:a.variables,store:p,dataIdFromObject:r.dataIdFromObject}))}}),i.extraReducers&&i.extraReducers.forEach(function(e){p=e(p,i)}),p}}else{if(b(i))return ee(e,i,r);if(E(t))return{}}return e}function fe(e){return e<7}function ge(e,n){if(void 0===e&&(e={}),m(n)){var a=Ge({},e),r=e[n.queryId];if(r&&r.queryString!==n.queryString)throw new Error("Internal Error: may not update existing query string in store");var i=!1,s=null;n.storePreviousVariables&&r&&r.networkStatus!==t.NetworkStatus.loading&&(te(r.variables,n.variables)||(i=!0,s=r.variables));var o=t.NetworkStatus.loading;return i?o=t.NetworkStatus.setVariables:n.isPoll?o=t.NetworkStatus.poll:n.isRefetch?o=t.NetworkStatus.refetch:n.isPoll&&(o=t.NetworkStatus.poll),a[n.queryId]={queryString:n.queryString,document:n.document,variables:n.variables,previousVariables:s,networkError:null,graphQLErrors:[],networkStatus:o,forceFetch:n.forceFetch,returnPartialData:n.returnPartialData,lastRequestId:n.requestId,metadata:n.metadata},a}if(u(n)){if(!e[n.queryId])return e;if(n.requestId<e[n.queryId].lastRequestId)return e;var a=Ge({},e),l=H(n.result);return a[n.queryId]=Ge({},e[n.queryId],{networkError:null,graphQLErrors:l?n.result.errors:[],previousVariables:null,networkStatus:t.NetworkStatus.ready}),a}if(d(n)){if(!e[n.queryId])return e;if(n.requestId<e[n.queryId].lastRequestId)return e;var a=Ge({},e);return a[n.queryId]=Ge({},e[n.queryId],{networkError:n.error,networkStatus:t.NetworkStatus.error}),a}if(h(n)){if(!e[n.queryId])return e;var a=Ge({},e);return a[n.queryId]=Ge({},e[n.queryId],{networkError:null,previousVariables:null,networkStatus:n.complete?t.NetworkStatus.ready:t.NetworkStatus.loading}),a}if(f(n)){var a=Ge({},e);return delete a[n.queryId],a}return E(n)?ve(e,n):e}function ve(e,n){var a=n.observableQueryIds,r=Object.keys(e).filter(function(e){return a.indexOf(e)>-1}).reduce(function(n,a){return n[a]=Ge({},e[a],{networkStatus:t.NetworkStatus.loading}),n},{});return r}function ye(e,t){if(void 0===e&&(e={}),g(t)){var n=$e({},e);return n[t.mutationId]={mutationString:t.mutationString,variables:t.variables,loading:!0,error:null},n}if(v(t)){var n=$e({},e);return n[t.mutationId]=$e({},e[t.mutationId],{loading:!1,error:null}),n}if(y(t)){var n=$e({},e);n[t.mutationId]=$e({},e[t.mutationId],{loading:!1,error:t.error})}else if(E(t))return{};return e}function be(e){if(0===e.optimistic.length)return e.data;var t=e.optimistic.map(function(e){return e.data});return c.apply(void 0,[{},e.data].concat(t))}function Ee(e,t,n,a){if(void 0===e&&(e=Ye),g(t)&&t.optimisticResponse){var r={type:"APOLLO_MUTATION_RESULT",result:{data:t.optimisticResponse},document:t.mutation,operationName:t.operationName,variables:t.variables,mutationId:t.mutationId,extraReducers:t.extraReducers,updateQueries:t.updateQueries},i=Je({},n,{optimistic:e}),s=be(i),o=_e(s,r,n.queries,n.mutations,a),l={action:r,data:o,mutationId:t.mutationId},p=e.concat([l]);return p}if((y(t)||v(t))&&e.some(function(e){return e.mutationId===t.mutationId})){var u=c({},n.data),p=e.filter(function(e){return e.mutationId!==t.mutationId}).map(function(e){var t=_e(u,e.action,n.queries,n.mutations,a);return c(u,t),Je({},e,{data:t})});return p}return e}function _e(e,t,n,a,r){var i=he(e,t,n,a,r),s={};return Object.keys(i).forEach(function(t){i[t]!==e[t]&&(s[t]=i[t])}),s}function Re(e){return function(t,n){void 0===t&&(t={});try{var a={queries:ge(t.queries,n),mutations:ye(t.mutations,n),data:he(t.data,n,t.queries,t.mutations,e),optimistic:[],reducerError:null};return a.optimistic=Ee(t.optimistic,n,a,e),t.data===a.data&&t.mutations===a.mutations&&t.queries===a.queries&&t.optimistic===a.optimistic&&t.reducerError===a.reducerError?t:a}catch(r){return Ze({},t,{reducerError:r})}}}function we(e){var t=void 0===e?{}:e,n=t.reduxRootKey,a=void 0===n?"apollo":n,i=t.initialState,s=t.config,o=void 0===s?{}:s,l=t.reportCrashes,c=void 0===l||l,p=t.logger,u=[],d=[];if(c&&d.push(Xe),p&&d.push(p),d.length>0&&u.push(r.applyMiddleware.apply(void 0,d)),"undefined"!=typeof window){var m=window;m.devToolsExtension&&u.push(m.devToolsExtension())}var h=r.compose;if(i&&i[a]&&i[a].queries)throw new Error("Apollo initial state may not contain queries, only data");if(i&&i[a]&&i[a].mutations)throw new Error("Apollo initial state may not contain mutations, only data");return r.createStore(r.combineReducers((f={},f[a]=Re(o),f)),i,h.apply(void 0,u));var f}function Ce(e){return void 0!==e.unsubscribe}function Se(e){return e.hasOwnProperty("graphQLErrors")}function Ne(e){if(Array.isArray(e))return e.map(function(e){return Ne(e)});if(null!==e&&"object"==typeof e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=Ne(e[n]));return t}return e}function ke(e,t){if(void 0===t&&(t=!1),e.selections){if(!t){var n=e.selections.some(function(e){return"Field"===e.kind&&"__typename"===e.name.value});n||e.selections.push(lt)}e.selections.forEach(function(e){"Field"!==e.kind&&"InlineFragment"!==e.kind||e.selectionSet&&ke(e.selectionSet)})}}function Te(e){R(e);var t=Ne(e);return t.definitions.forEach(function(e){var t="OperationDefinition"===e.kind;ke(e.selectionSet,t)}),t}function Ie(e,t,n,a){return function(r,i){var s=oe({store:r,query:t,variables:n,returnPartialData:!0,config:a}),o=e(s,i,n);return s!==o?G({dataId:"ROOT_QUERY",result:o,store:r,document:t,variables:n,dataIdFromObject:a.dataIdFromObject}):r}}function Pe(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){!e.hasOwnProperty(t)||null===e[t]||"object"!=typeof e[t]&&"function"!=typeof e[t]||Object.isFrozen(e[t])||Pe(e[t])}),e}function xe(e){return ie()||se()?Pe(e):e}function Me(e){return e[ft]}i="default"in i?i["default"]:i,s="default"in s?s["default"]:s;var De=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Oe=function(){function e(e,t){if(void 0===t&&(t={}),!e)throw new Error("A remote endpoint is required for a network layer");if("string"!=typeof e)throw new Error("Remote endpoint must be a string");this._uri=e,this._opts=De({},t),this._middlewares=[],this._afterwares=[]}return e.prototype.applyMiddlewares=function(e){var t=this,n=e.request,a=e.options;return new Promise(function(e,r){var i=function(t,r){var i=function(){if(t.length>0){var s=t.shift();s&&s.applyMiddleware.apply(r,[{request:n,options:a},i])}else e({request:n,options:a})};i()};i(t._middlewares.slice(),t)})},e.prototype.applyAfterwares=function(e){var t=this,n=e.response,a=e.options;return new Promise(function(e,r){var i=function(t,r){var i=function(){if(t.length>0){var s=t.shift();s.applyAfterware.apply(r,[{response:n,options:a},i])}else e({response:n,options:a})};i()};i(t._afterwares.slice(),t)})},e.prototype.fetchFromRemoteEndpoint=function(e){var t=e.request,n=e.options;return fetch(this._uri,De({},this._opts,{body:JSON.stringify(o(t)),method:"POST"},n,{headers:De({Accept:"*/*","Content-Type":"application/json"},n.headers)}))},e.prototype.query=function(e){var t=this,n=De({},this._opts);return this.applyMiddlewares({request:e,options:n}).then(function(e){return t.fetchFromRemoteEndpoint.call(t,e)}).then(function(e){return t.applyAfterwares({response:e,options:n})}).then(function(e){var t=e.response,n=t;if(!n.ok){var a=new Error("Network request failed with status "+t.status+' - "'+t.statusText+'"');throw a.response=n,a}return n.json()}).then(function(t){if(t.hasOwnProperty("data")||t.hasOwnProperty("errors"))return t;throw new Error("Server response was missing for query '"+e.debugName+"'.")})},e.prototype.use=function(e){var t=this;return e.map(function(e){if("function"!=typeof e.applyMiddleware)throw new Error("Middleware must implement the applyMiddleware function");t._middlewares.push(e)}),this},e.prototype.useAfter=function(e){var t=this;return e.map(function(e){if("function"!=typeof e.applyAfterware)throw new Error("Afterware must implement the applyAfterware function");t._afterwares.push(e)}),this},e}(),Ue=function(){function e(e){var t=e.batchFetchFunction;this.queuedRequests=[],this.queuedRequests=[],this.batchFetchFunction=t}return e.prototype.enqueueRequest=function(e){var t={request:e};return this.queuedRequests.push(t),t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t.promise},e.prototype.consumeQueue=function(){if(!(this.queuedRequests.length<1)){var e=this.queuedRequests.map(function(e){return{query:e.request.query,variables:e.request.variables,operationName:e.request.operationName}}),t=[],n=[],a=[];this.queuedRequests.forEach(function(e,r){t.push(e.promise),n.push(e.resolve),a.push(e.reject)}),this.queuedRequests=[];var r=this.batchFetchFunction(e);return r.then(function(e){e.forEach(function(e,t){n[t](e)})})["catch"](function(e){a.forEach(function(t,n){a[n](e)})}),t}},e.prototype.start=function(e){var t=this;this.pollTimer&&clearInterval(this.pollTimer),this.pollInterval=e,this.pollTimer=setInterval(function(){t.consumeQueue()},this.pollInterval)},e.prototype.stop=function(){this.pollTimer&&clearInterval(this.pollTimer)},e}(),Le=function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Ae=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Fe=function(e){function t(t,n,a){var r=e.call(this,t,a)||this;if("number"!=typeof n)throw new Error("pollInterval must be a number, got "+n);return r.pollInterval=n,r.batcher=new Ue({batchFetchFunction:r.batchQuery.bind(r)}),r.batcher.start(r.pollInterval),r}return Le(t,e),t.prototype.query=function(e){return this.batcher.enqueueRequest(e)},t.prototype.batchQuery=function(e){var t=this,n=Ae({},this._opts),a=[];return e.forEach(function(e){a.push(t.applyMiddlewares({request:e,options:n}))}),new Promise(function(e,n){Promise.all(a).then(function(a){return t.batchedFetchFromRemoteEndpoint(a).then(function(e){var t=e;if(!t.ok){var n=new Error("Network request failed with status "+t.status+' - "'+t.statusText+'"');throw n.response=t,n}return e.json()}).then(function(r){if("function"!=typeof r.map)throw new Error("BatchingNetworkInterface: server response is not an array");var i=r.map(function(e,n){return t.applyAfterwares({response:e,options:a[n].options})});Promise.all(i).then(function(t){var n=[];t.forEach(function(e){n.push(e.response)}),e(n)})["catch"](function(e){n(e)})})})["catch"](function(e){n(e)})})},t.prototype.batchedFetchFromRemoteEndpoint=function(e){var t={};e.forEach(function(e){c(t,e.options)});var n=e.map(function(e){var t=e.request;return o(t)});return fetch(this._uri,Ae({},this._opts,{body:JSON.stringify(n),method:"POST"},t,{headers:Ae({Accept:"*/*","Content-Type":"application/json"},t.headers)}))},t}(Oe),Be=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},je=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ve=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},He="undefined"!=typeof Symbol?Symbol("id"):"@@id",ze=!1,qe=function(e,t,n){ce(e);var a=n.store[e.id];return!!a&&(a.__typename?a.__typename===t||(n.returnPartialData=!0,!0):(ze||(console.warn("You're using fragments in your queries, but don't have the addTypename:\ntrue option set in Apollo Client. Please turn on that option so that we can accurately\nmatch fragments."),se()||(ze=!0)),n.returnPartialData=!0,!0))},Ke=function(e,t,n,a,r){var i=r.resultKey;ce(t);var s=t.id,o=a.store[s],l=F(e,n),c=(o||{})[l];if("undefined"==typeof c){if(a.customResolvers&&o&&(o.__typename||"ROOT_QUERY"===s)){var p=o.__typename||"Query",u=a.customResolvers[p];if(u){var d=u[e];if(d)return d(o,n)}}if(!a.returnPartialData)throw new Error("Can't find field "+l+" on object ("+s+") "+JSON.stringify(o,null,2)+".\nPerhaps you want to use the `returnPartialData` option?");return a.hasMissingField=!0,c}return K(c)?t.previousResult&&te(t.previousResult[i],c.json)?t.previousResult[i]:c.json:(t.previousResult&&(c=pe(c,t.previousResult[i])),c)},We=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(t.NetworkStatus||(t.NetworkStatus={}));var Qe,Ge=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},$e=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Je=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ye=[],Ze=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Xe=function(e){return function(e){return function(t){try{return e(t)}catch(n){throw console.error("Caught an exception!",n),console.error(n.stack),n}}}},et=function(){function e(e){this.subscriberFunction=e}return e.prototype[s]=function(){return this},e.prototype.subscribe=function(e){var t=this.subscriberFunction(e);return Ce(t)?t:{unsubscribe:t}},e}(),tt=function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},nt=function(e){var t="";return Array.isArray(e.graphQLErrors)&&0!==e.graphQLErrors.length&&e.graphQLErrors.forEach(function(e){var n=e?e.message:"Error message not found.";t+="GraphQL error: "+n+"\n"}),e.networkError&&(t+="Network error: "+e.networkError.message+"\n"),t=t.replace(/\n$/,"")},at=function(e){function t(t){var n=t.graphQLErrors,a=t.networkError,r=t.errorMessage,i=t.extraInfo,s=e.call(this,r)||this;return s.graphQLErrors=n||[],s.networkError=a||null,s.stack=(new Error).stack,r?s.message=r:s.message=nt(s),s.extraInfo=i,s}return tt(t,e),t}(Error);!function(e){e[e.normal=1]="normal",e[e.refetch=2]="refetch",e[e.poll=3]="poll"}(Qe||(Qe={}));var rt=function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},it=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},st=function(e){function n(t){var n=t.scheduler,a=t.options,r=t.shouldSubscribe,i=void 0===r||r,s=this,o=n.queryManager,l=o.generateQueryId(),c=function(e){return s.onSubscribe(e)};return s=e.call(this,c)||this,s.isCurrentlyPolling=!1,s.options=a,s.variables=s.options.variables||{},s.scheduler=n,s.queryManager=o,s.queryId=l,s.shouldSubscribe=i,s.observers=[],s.subscriptionHandles=[],s}return rt(n,e),n.prototype.result=function(){var e=this;return new Promise(function(t,n){var a=e.subscribe({next:function(e){t(e),setTimeout(function(){a.unsubscribe()},0)},error:function(e){n(e)}})})},n.prototype.currentResult=function(){var e=this.queryManager.getCurrentQueryResult(this,!0),n=e.data,a=e.partial,r=this.queryManager.getApolloState().queries[this.queryId];if(r&&(r.graphQLErrors&&r.graphQLErrors.length>0||r.networkError)){var i=new at({graphQLErrors:r.graphQLErrors,networkError:r.networkError});return{data:{},loading:!1,networkStatus:r.networkStatus,error:i}}var s,o=!r||r.networkStatus===t.NetworkStatus.loading,l=this.options.forceFetch&&o||a&&!this.options.noFetch;return s=r?r.networkStatus:l?t.NetworkStatus.loading:t.NetworkStatus.ready,{data:n,loading:fe(s),networkStatus:s,partial:a}},n.prototype.getLastResult=function(){return this.lastResult},n.prototype.refetch=function(e){var t=this;if(this.variables=it({},this.variables,e),this.options.noFetch)throw new Error("noFetch option should not use query refetch.");this.options.variables=it({},this.options.variables,this.variables);var n=it({},this.options,{forceFetch:!0});return this.queryManager.fetchQuery(this.queryId,n,Qe.refetch).then(function(e){return t.queryManager.transformResult(e)})},n.prototype.fetchMore=function(e){var t=this;return Promise.resolve().then(function(){var n=t.queryManager.generateQueryId(),a=null;if(e.query)a=e;else{var r=it({},t.variables,e.variables);a=it({},t.options,e,{variables:r})}return a=it({},a,{query:a.query,forceFetch:!0}),t.queryManager.fetchQuery(n,a)}).then(function(n){var a=e.updateQuery,r=function(e,t){var r=t.variables,i=r;return a(e,{fetchMoreResult:n,queryVariables:i})};return t.updateQuery(r),n})},n.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({document:e.document,variables:e.variables}),a=e.updateQuery,r=n.subscribe({next:function(e){var n=function(t,n){var r=n.variables;return a(t,{subscriptionData:{data:e},variables:r})};t.updateQuery(n)},error:function(t){e.onError?e.onError(t):console.error("Unhandled GraphQL subscription errror",t)}});return this.subscriptionHandles.push(r),function(){var e=t.subscriptionHandles.indexOf(r);e>=0&&(t.subscriptionHandles.splice(e,1),r.unsubscribe())}},n.prototype.setOptions=function(e){var t=this.options;this.options=it({},this.options,e),e.pollInterval?this.startPolling(e.pollInterval):0===e.pollInterval&&this.stopPolling();var n=!t.forceFetch&&e.forceFetch||t.noFetch&&!e.noFetch||!1;return this.setVariables(this.options.variables,n)},n.prototype.setVariables=function(e,t){var n=this;void 0===t&&(t=!1);var a=it({},this.variables,e),r=new Promise(function(e){return e()});return te(a,this.variables)&&!t?0===this.observers.length?r:this.result():(this.variables=a,0===this.observers.length?r:this.queryManager.fetchQuery(this.queryId,it({},this.options,{variables:this.variables})).then(function(e){return n.queryManager.transformResult(e)}))},n.prototype.updateQuery=function(e){var t=this.queryManager.getQueryWithPreviousResult(this.queryId),n=t.previousResult,a=t.variables,r=t.document,i=me(function(){return e(n,{variables:a})});i&&this.queryManager.store.dispatch({type:"APOLLO_UPDATE_QUERY_RESULT",newResult:i,variables:a,document:r})},n.prototype.stopPolling=function(){this.isCurrentlyPolling&&(this.scheduler.stopPollingQuery(this.queryId),this.isCurrentlyPolling=!1)},n.prototype.startPolling=function(e){if(this.options.noFetch)throw new Error("noFetch option should not use query polling.");this.isCurrentlyPolling&&(this.scheduler.stopPollingQuery(this.queryId),this.isCurrentlyPolling=!1),this.options.pollInterval=e,this.isCurrentlyPolling=!0,this.scheduler.startPollingQuery(this.options,this.queryId)},n.prototype.onSubscribe=function(e){var t=this;this.observers.push(e),e.next&&this.lastResult&&e.next(this.lastResult),e.error&&this.lastError&&e.error(this.lastError),1===this.observers.length&&this.setUpQuery();var n={unsubscribe:function(){t.observers.findIndex(function(t){return t===e})<0||(t.observers=t.observers.filter(function(t){return t!==e}),0===t.observers.length&&t.tearDownQuery())}};return n},n.prototype.setUpQuery=function(){var e=this;if(this.shouldSubscribe&&this.queryManager.addObservableQuery(this.queryId,this),this.options.pollInterval){if(this.options.noFetch)throw new Error("noFetch option should not use query polling.");this.isCurrentlyPolling=!0,this.scheduler.startPollingQuery(this.options,this.queryId)}var t={next:function(t){e.lastResult=t,e.observers.forEach(function(e){e.next&&e.next(t)})},error:function(t){e.observers.forEach(function(e){e.error?e.error(t):console.error("Unhandled error",t.message,t.stack)}),e.lastError=t}};this.queryManager.startQuery(this.queryId,this.options,this.queryManager.queryListenerForObserver(this.queryId,this.options,t))},n.prototype.tearDownQuery=function(){this.isCurrentlyPolling&&(this.scheduler.stopPollingQuery(this.queryId),this.isCurrentlyPolling=!1),this.subscriptionHandles.forEach(function(e){return e.unsubscribe()}),this.subscriptionHandles=[],this.queryManager.stopQuery(this.queryId),this.shouldSubscribe&&this.queryManager.removeObservableQuery(this.queryId),this.observers=[]},n}(et),ot=function(){function e(e){this.networkInterface=e,this.inFlightRequestPromises={}}return e.prototype.query=function(e,t){var n=this;if(void 0===t&&(t=!0),!t)return this.networkInterface.query(e);var a=this.getKey(e);return this.inFlightRequestPromises[a]||(this.inFlightRequestPromises[a]=this.networkInterface.query(e)),this.inFlightRequestPromises[a].then(function(e){return delete n.inFlightRequestPromises[a],e})},e.prototype.getKey=function(e){return a.print(e.query)+"|"+JSON.stringify(e.variables)+"|"+e.operationName},e}(),lt={kind:"Field",name:{kind:"Name",value:"__typename"}},ct=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e;
},pt=function(){function e(e){var t=e.queryManager;this.queryManager=t,this.pollingTimers={},this.inFlightQueries={},this.registeredQueries={},this.intervalQueries={}}return e.prototype.checkInFlight=function(e){var n=this.queryManager.getApolloState().queries;return n[e]&&n[e].networkStatus!==t.NetworkStatus.ready},e.prototype.fetchQuery=function(e,t,n){var a=this;return new Promise(function(r,i){a.queryManager.fetchQuery(e,t,n).then(function(e){r(e)})["catch"](function(e){i(e)})})},e.prototype.startPollingQuery=function(e,t,n){if(!e.pollInterval)throw new Error("Attempted to start a polling query without a polling interval.");return this.registeredQueries[t]=e,n&&this.queryManager.addQueryListener(t,n),this.addQueryOnInterval(t,e),t},e.prototype.stopPollingQuery=function(e){delete this.registeredQueries[e]},e.prototype.fetchQueriesOnInterval=function(e){var t=this;this.intervalQueries[e]=this.intervalQueries[e].filter(function(e){if(!t.registeredQueries.hasOwnProperty(e))return!1;if(t.checkInFlight(e))return!0;var n=t.registeredQueries[e],a=ct({},n);return a.forceFetch=!0,t.fetchQuery(e,a,Qe.poll),!0}),0===this.intervalQueries[e].length&&(clearInterval(this.pollingTimers[e]),delete this.intervalQueries[e])},e.prototype.addQueryOnInterval=function(e,t){var n=this,a=t.pollInterval;if(!a)throw new Error("A poll interval is required to start polling query with id '"+e+"'.");this.intervalQueries.hasOwnProperty(a.toString())&&this.intervalQueries[a].length>0?this.intervalQueries[a].push(e):(this.intervalQueries[a]=[e],this.pollingTimers[a]=setInterval(function(){n.fetchQueriesOnInterval(a)},a))},e.prototype.registerPollingQuery=function(e){if(!e.pollInterval)throw new Error("Attempted to register a non-polling query with the scheduler.");return new st({scheduler:this,options:e})},e}(),ut=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},dt=function(){function e(e){var t=e.networkInterface,n=e.store,a=e.reduxRootSelector,r=e.reducerConfig,i=void 0===r?{mutationBehaviorReducers:{}}:r,s=e.resultTransformer,o=e.resultComparator,l=e.addTypename,c=void 0===l||l,p=e.queryDeduplication,u=void 0!==p&&p,d=this;if(this.idCounter=1,this.networkInterface=t,this.deduplicator=new ot(t),this.store=n,this.reduxRootSelector=a,this.reducerConfig=i,this.resultTransformer=s,this.resultComparator=o,this.pollingTimers={},this.queryListeners={},this.queryDocuments={},this.addTypename=c,this.queryDeduplication=u,this.scheduler=new pt({queryManager:this}),this.fetchQueryPromises={},this.observableQueries={},this.queryIdsByName={},this.store.subscribe){var m;this.store.subscribe(function(){var e=m||{},t=Object.keys(e).length;m=d.getApolloState(),te(e,m)&&t||d.broadcastQueries()})}}return e.prototype.broadcastNewStore=function(e){this.broadcastQueries()},e.prototype.mutate=function(e){var t=this,n=e.mutation,r=e.variables,i=e.optimisticResponse,s=e.updateQueries,o=e.refetchQueries,l=void 0===o?[]:o,c=this.generateQueryId();this.addTypename&&(n=Te(n)),R(n);var p=a.print(n),u={query:n,variables:r,operationName:w(n)};this.queryDocuments[c]=n;var d={};return s&&Object.keys(s).forEach(function(e){return(t.queryIdsByName[e]||[]).forEach(function(t){d[t]=s[e]})}),this.store.dispatch({type:"APOLLO_MUTATION_INIT",mutationString:p,mutation:n,variables:r||{},operationName:w(n),mutationId:c,optimisticResponse:i,extraReducers:this.getExtraReducers(),updateQueries:d}),new Promise(function(e,a){t.networkInterface.query(u).then(function(i){i.errors&&a(new at({graphQLErrors:i.errors})),t.store.dispatch({type:"APOLLO_MUTATION_RESULT",result:i,mutationId:c,document:n,operationName:w(n),variables:r||{},extraReducers:t.getExtraReducers(),updateQueries:d});var s=t.getApolloState().reducerError;return s?void a(s):("string"==typeof l[0]?l.forEach(function(e){t.refetchQueryByName(e)}):l.forEach(function(e){t.query({query:e.query,variables:e.variables,forceFetch:!0})}),delete t.queryDocuments[c],void e(t.transformResult(i)))})["catch"](function(e){t.store.dispatch({type:"APOLLO_MUTATION_ERROR",error:e,mutationId:c}),delete t.queryDocuments[c],a(new at({networkError:e}))})})},e.prototype.queryListenerForObserver=function(e,t,n){var a,r=this;return function(i){if(i){var s=r.observableQueries[e]?r.observableQueries[e].observableQuery.options.noFetch:t.noFetch,o=i.returnPartialData||i.previousVariables||s,l=a&&i.networkStatus!==a.networkStatus;if(!fe(i.networkStatus)||l&&t.notifyOnNetworkStatusChange||o)if(i.graphQLErrors&&i.graphQLErrors.length>0||i.networkError){var c=new at({graphQLErrors:i.graphQLErrors,networkError:i.networkError});if(n.error)try{n.error(c)}catch(p){console.error("Error in observer.error \n"+p.stack)}else console.error("Unhandled error",c,c.stack),re()||console.info("An unhandled error was thrown because no error handler is registered for the query "+i.queryString)}else try{var u={data:oe({store:r.getDataWithOptimisticResults(),query:r.queryDocuments[e],variables:i.previousVariables||i.variables,returnPartialData:t.returnPartialData||s,config:r.reducerConfig,previousResult:a&&a.data}),loading:fe(i.networkStatus),networkStatus:i.networkStatus};if(n.next){var d=r.resultComparator?!r.resultComparator(a,u):!(a&&u&&a.networkStatus===u.networkStatus&&a.data===u.data);if(d){a=u;try{n.next(xe(r.transformResult(u)))}catch(p){console.error("Error in observer.next \n"+p.stack)}}}}catch(m){return void(n.error&&n.error(new at({networkError:m})))}}}},e.prototype.watchQuery=function(e,t){void 0===t&&(t=!0),S(e.query);var n=ut({},e);this.addTypename&&(n.query=Te(n.query));var a=new st({scheduler:this.scheduler,options:n,shouldSubscribe:t});return a},e.prototype.query=function(e){var t=this;if(e.returnPartialData)throw new Error("returnPartialData option only supported on watchQuery.");if("Document"!==e.query.kind)throw new Error('You must wrap the query string in a "gql" tag.');var n=this.idCounter,a=new Promise(function(r,i){return t.addFetchQueryPromise(n,a,r,i),t.watchQuery(e,!1).result().then(function(e){t.removeFetchQueryPromise(n),r(e)})["catch"](function(e){t.removeFetchQueryPromise(n),i(e)})});return a},e.prototype.fetchQuery=function(e,t,n){var r,i=t.variables,s=void 0===i?{}:i,o=t.forceFetch,l=void 0!==o&&o,c=t.returnPartialData,p=void 0!==c&&c,u=t.noFetch,d=void 0!==u&&u,m=t.metadata,h=void 0===m?null:m,f=this.transformQueryDocument(t).queryDoc,g=a.print(f),v=l;if(!l){var y=le({query:f,store:this.reduxRootSelector(this.store.getState()).data,returnPartialData:!0,variables:s,config:this.reducerConfig}),b=y.isMissing,E=y.result;v=b||!1,r=E}var _=this.generateRequestId(),R=v&&!d;return this.queryDocuments[e]=f,this.store.dispatch({type:"APOLLO_QUERY_INIT",queryString:g,document:f,variables:s,forceFetch:l,returnPartialData:p||d,queryId:e,requestId:_,storePreviousVariables:R,isPoll:n===Qe.poll,isRefetch:n===Qe.refetch,metadata:h}),R&&!p||this.store.dispatch({type:"APOLLO_QUERY_RESULT_CLIENT",result:{data:r},variables:s,document:f,complete:!R,queryId:e,requestId:_}),R?this.fetchRequest({requestId:_,queryId:e,document:f,options:t}):Promise.resolve({data:r})},e.prototype.generateQueryId=function(){var e=this.idCounter.toString();return this.idCounter++,e},e.prototype.stopQueryInStore=function(e){this.store.dispatch({type:"APOLLO_QUERY_STOP",queryId:e})},e.prototype.getApolloState=function(){return this.reduxRootSelector(this.store.getState())},e.prototype.selectApolloState=function(e){return this.reduxRootSelector(e.getState())},e.prototype.getInitialState=function(){return{data:this.getApolloState().data}},e.prototype.getDataWithOptimisticResults=function(){return be(this.getApolloState())},e.prototype.addQueryListener=function(e,t){this.queryListeners[e]=this.queryListeners[e]||[],this.queryListeners[e].push(t)},e.prototype.addFetchQueryPromise=function(e,t,n,a){this.fetchQueryPromises[e.toString()]={promise:t,resolve:n,reject:a}},e.prototype.removeFetchQueryPromise=function(e){delete this.fetchQueryPromises[e.toString()]},e.prototype.addObservableQuery=function(e,t){this.observableQueries[e]={observableQuery:t};var n=S(t.options.query);if(n.name&&n.name.value){var a=n.name.value;this.queryIdsByName[a]=this.queryIdsByName[a]||[],this.queryIdsByName[a].push(t.queryId)}},e.prototype.removeObservableQuery=function(e){var t=this.observableQueries[e].observableQuery,n=S(t.options.query),a=n.name?n.name.value:null;delete this.observableQueries[e],a&&(this.queryIdsByName[a]=this.queryIdsByName[a].filter(function(e){return!(t.queryId===e)}))},e.prototype.resetStore=function(){var e=this;Object.keys(this.fetchQueryPromises).forEach(function(t){var n=e.fetchQueryPromises[t].reject;n(new Error("Store reset while query was in flight."))}),this.store.dispatch({type:"APOLLO_STORE_RESET",observableQueryIds:Object.keys(this.observableQueries)}),Object.keys(this.observableQueries).forEach(function(t){e.reduxRootSelector(e.store.getState()).queries[t];e.observableQueries[t].observableQuery.options.noFetch||e.observableQueries[t].observableQuery.refetch()})},e.prototype.startQuery=function(e,t,n){return this.addQueryListener(e,n),this.fetchQuery(e,t)["catch"](function(e){}),e},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.document,a=e.variables,r=n;this.addTypename&&(r=Te(r));var i,s={query:r,variables:a,operationName:w(r)},o=[];return new et(function(e){if(o.push(e),1===o.length){var n=function(e,n){e?o.forEach(function(t){t.error&&t.error(e)}):(t.store.dispatch({type:"APOLLO_SUBSCRIPTION_RESULT",document:r,operationName:w(r),result:{data:n},variables:a||{},subscriptionId:i,extraReducers:t.getExtraReducers()}),o.forEach(function(e){e.next&&e.next(n)}))};i=t.networkInterface.subscribe(s,n)}return{unsubscribe:function(){o=o.filter(function(t){return t!==e}),0===o.length&&t.networkInterface.unsubscribe(i)},_networkSubscriptionId:i}})},e.prototype.stopQuery=function(e){delete this.queryListeners[e],delete this.queryDocuments[e],this.stopQueryInStore(e)},e.prototype.getCurrentQueryResult=function(e,t){void 0===t&&(t=!1);var n=this.getQueryParts(e),a=n.variables,r=n.document,i=e.getLastResult(),s=e.options,o={store:t?this.getDataWithOptimisticResults():this.getApolloState().data,query:r,variables:a,returnPartialData:!1,config:this.reducerConfig,previousResult:i?i.data:void 0};try{var l=oe(o);return xe({data:l,partial:!1})}catch(c){if(s.returnPartialData||s.noFetch)try{o.returnPartialData=!0;var l=oe(o);return{data:l,partial:!0}}catch(c){}return xe({data:{},partial:!0})}},e.prototype.getQueryWithPreviousResult=function(e,t){void 0===t&&(t=!1);var n;if("string"==typeof e){if(!this.observableQueries[e])throw new Error("ObservableQuery with this id doesn't exist: "+e);n=this.observableQueries[e].observableQuery}else n=e;var a=this.getQueryParts(n),r=a.variables,i=a.document,s=this.getCurrentQueryResult(n,t).data;return{previousResult:s,variables:r,document:i}},e.prototype.transformResult=function(e){return this.resultTransformer?this.resultTransformer(e):e},e.prototype.getQueryParts=function(e){var t=e.options,n=e.options.query;return this.addTypename&&(n=Te(n)),{variables:t.variables,document:n}},e.prototype.transformQueryDocument=function(e){var t=e.query;return this.addTypename&&(t=Te(t)),{queryDoc:t}},e.prototype.getExtraReducers=function(){var e=this;return Object.keys(this.observableQueries).map(function(t){var n=e.observableQueries[t].observableQuery.options;return n.reducer?Ie(n.reducer,n.query,n.variables||{},e.reducerConfig):null}).filter(function(e){return null!==e})},e.prototype.fetchRequest=function(e){var n=this,a=e.requestId,r=e.queryId,i=e.document,s=e.options,o=s.variables,l=s.noFetch,c=s.returnPartialData,p={query:i,variables:o,operationName:w(i)},u=new Promise(function(e,s){n.addFetchQueryPromise(a,u,e,s),n.deduplicator.query(p,n.queryDeduplication).then(function(e){var t=n.getExtraReducers();if(n.store.dispatch({type:"APOLLO_QUERY_RESULT",document:i,operationName:w(i),result:e,queryId:r,requestId:a,extraReducers:t}),n.removeFetchQueryPromise(a),e.errors)throw new at({graphQLErrors:e.errors});return e}).then(function(){var r;try{r=oe({store:n.getApolloState().data,variables:o,returnPartialData:c||l,query:i,config:n.reducerConfig})}catch(s){}var p=n.getApolloState().reducerError;return!r&&p?Promise.reject(p):(n.removeFetchQueryPromise(a),e({data:r,loading:!1,networkStatus:t.NetworkStatus.ready}),null)})["catch"](function(e){Se(e)?s(e):(n.store.dispatch({type:"APOLLO_QUERY_ERROR",error:e,queryId:r,requestId:a}),n.removeFetchQueryPromise(a),s(new at({networkError:e})))})});return u},e.prototype.refetchQueryByName=function(e){var t=this,n=this.queryIdsByName[e];void 0===n?console.warn("Warning: unknown query with name "+e+" asked to refetch"):n.forEach(function(e){t.observableQueries[e].observableQuery.refetch()})},e.prototype.broadcastQueries=function(){var e=this,t=this.getApolloState().queries;Object.keys(this.queryListeners).forEach(function(n){var a=e.queryListeners[n];a&&a.forEach(function(e){if(e){var a=t[n];e(a)}})})},e.prototype.generateRequestId=function(){var e=this.idCounter;return this.idCounter++,e},e}(),mt="local",ht=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ft="apollo",gt=function(){function e(e){void 0===e&&(e={});var t=this;this.middleware=function(){return function(e){return t.setStore(e),function(n){return function(a){var r=t.queryManager.selectApolloState(e),i=n(a),s=t.queryManager.selectApolloState(e);return s!==r&&t.queryManager.broadcastNewStore(e.getState()),t.devToolsHookCb&&t.devToolsHookCb({action:a,state:t.queryManager.getApolloState(),dataWithOptimisticResults:t.queryManager.getDataWithOptimisticResults()}),i}}}};var n=e.networkInterface,a=e.reduxRootKey,r=e.reduxRootSelector,i=e.initialState,s=e.dataIdFromObject,o=e.resultComparator,c=e.ssrMode,p=void 0!==c&&c,u=e.ssrForceFetchDelay,d=void 0===u?0:u,m=e.addTypename,h=void 0===m||m,f=e.resultTransformer,g=e.customResolvers,v=e.connectToDevTools,y=e.queryDeduplication,b=void 0!==y&&y;if(a&&r)throw new Error('Both "reduxRootKey" and "reduxRootSelector" are configured, but only one of two is allowed.');a&&(console.warn('"reduxRootKey" option is deprecated and might be removed in the upcoming versions, please use the "reduxRootSelector" instead.'),this.reduxRootKey=a),!r&&a?this.reduxRootSelector=function(e){return e[a]}:"string"==typeof r?(this.reduxRootKey=r,this.reduxRootSelector=function(e){return e[r]}):"function"==typeof r?this.reduxRootSelector=r:this.reduxRootSelector=null,this.initialState=i?i:{},this.networkInterface=n?n:l({uri:"/graphql"}),this.addTypename=h,f&&console.warn('"resultTransformer" is being considered for deprecation in an upcoming version. If you are using it, please file an issue on apollostack/apollo-client with a description of your use-case'),this.resultTransformer=f,this.resultComparator=o,this.shouldForceFetch=!(p||d>0),this.dataId=s,this.fieldWithArgs=F,this.queryDeduplication=b,d&&setTimeout(function(){return t.shouldForceFetch=!0},d),this.reducerConfig={dataIdFromObject:s,customResolvers:g},this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.setStore=this.setStore.bind(this),this.resetStore=this.resetStore.bind(this);var E=!re()&&"undefined"!=typeof window&&!window.__APOLLO_CLIENT__;("undefined"==typeof v?E:v)&&(window.__APOLLO_CLIENT__=this),this.version=mt}return e.prototype.watchQuery=function(e){return this.initStore(),!this.shouldForceFetch&&e.forceFetch&&(e=ht({},e,{forceFetch:!1})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.initStore(),!this.shouldForceFetch&&e.forceFetch&&(e=ht({},e,{forceFetch:!1})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.initStore(),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){this.initStore();var t=ht({},e,{document:e.query});return delete t.query,this.queryManager.startGraphQLSubscription(t)},e.prototype.reducer=function(){return Re(this.reducerConfig)},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.initStore=function(){var e=this;if(!this.store){if(this.reduxRootSelector)throw new Error('Cannot initialize the store because "reduxRootSelector" or "reduxRootKey" is provided. They should only be used when the store is created outside of the client. This may lead to unexpected results when querying the store internally. Please remove that option from ApolloClient constructor.');this.setStore(we({reduxRootKey:ft,initialState:this.initialState,config:this.reducerConfig,logger:function(t){return function(t){return function(n){var a=t(n);return e.devToolsHookCb&&e.devToolsHookCb({action:n,state:e.queryManager.getApolloState(),dataWithOptimisticResults:e.queryManager.getDataWithOptimisticResults()}),a}}}})),this.reduxRootKey=ft}},e.prototype.resetStore=function(){this.queryManager.resetStore()},e.prototype.getInitialState=function(){return this.queryManager.getInitialState()},e.prototype.setStore=function(e){var t;if(this.reduxRootSelector?t=this.reduxRootSelector:(t=Me,this.reduxRootKey=ft),"undefined"==typeof t(e.getState()))throw new Error('Existing store does not use apolloReducer. Please make sure the store is properly configured and "reduxRootSelector" is correctly specified.');this.store=e,this.queryManager=new dt({networkInterface:this.networkInterface,reduxRootSelector:t,store:e,addTypename:this.addTypename,resultTransformer:this.resultTransformer,resultComparator:this.resultComparator,reducerConfig:this.reducerConfig,queryDeduplication:this.queryDeduplication})},e}();t.createNetworkInterface=l,t.createBatchingNetworkInterface=p,t.createApolloStore=we,t.createApolloReducer=Re,t.readQueryFromStore=oe,t.writeQueryToStore=Q,t.printAST=a.print,t.createFragmentMap=k,t.ApolloError=at,t.getQueryDefinition=S,t.getFragmentDefinitions=C,t.toIdValue=q,t.HTTPFetchNetworkInterface=Oe,t.ObservableQuery=st,t.ApolloClient=gt,t["default"]=gt,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,n(47))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function r(e){if(p===setTimeout)return setTimeout(e,0);if((p===n||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function i(e){if(u===clearTimeout)return clearTimeout(e);if((u===a||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function s(){f&&m&&(f=!1,m.length?h=m.concat(h):g=-1,h.length&&o())}function o(){if(!f){var e=r(s);f=!0;for(var t=h.length;t;){for(m=h,h=[];++g<t;)m&&m[g].run();g=-1,t=h.length}m=null,f=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}/*!
	 * process (https://npmjs.com/package/process)
	 * @license MIT
	 * @version 0.11.9
	 * ==process/LICENSE==
	 * (The MIT License)
	 * 
	 * Copyright (c) 2013 Roman Shtylman <shtylman@gmail.com>
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining
	 * a copy of this software and associated documentation files (the
	 * 'Software'), to deal in the Software without restriction, including
	 * without limitation the rights to use, copy, modify, merge, publish,
	 * distribute, sublicense, and/or sell copies of the Software, and to
	 * permit persons to whom the Software is furnished to do so, subject to
	 * the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be
	 * included in all copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
	 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
	 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
	 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
	 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
	 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
	 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
	 */
var p,u,d=e.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:n}catch(e){p=n}try{u="function"==typeof clearTimeout?clearTimeout:a}catch(e){u=a}}();var m,h=[],f=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new l(e,t)),1!==h.length||f||r(o)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},,function(e,t){e.exports=function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function a(e){return(0,l.visit)(e,{leave:c})}function r(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function i(e){return e&&0!==e.length?o("{\n"+r(e,"\n"))+"\n}":"{}"}function s(e,t,n){return t?e+t+(n||""):""}function o(e){return e&&e.replace(/\n/g,"\n  ")}Object.defineProperty(t,"__esModule",{value:!0}),t.print=a;var l=n(2),c={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return r(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,a=s("(",r(e.variableDefinitions,", "),")"),i=r(e.directives," "),o=e.selectionSet;return n||i||a||"query"!==t?r([t,r([n,a]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,a=e.defaultValue;return t+": "+n+s(" = ",a)},SelectionSet:function(e){var t=e.selections;return i(t)},Field:function(e){var t=e.alias,n=e.name,a=e.arguments,i=e.directives,o=e.selectionSet;return r([s("",t,": ")+n+s("(",r(a,", "),")"),r(i," "),o]," ")},Argument:function(e){var t=e.name,n=e.value;return t+": "+n},FragmentSpread:function(e){var t=e.name,n=e.directives;return"..."+t+s(" ",r(n," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,a=e.selectionSet;return r(["...",s("on ",t),r(n," "),a]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,a=e.directives,i=e.selectionSet;return"fragment "+t+" on "+n+" "+s("",r(a," ")," ")+i},IntValue:function(e){var t=e.value;return t},FloatValue:function(e){var t=e.value;return t},StringValue:function(e){var t=e.value;return JSON.stringify(t)},BooleanValue:function(e){var t=e.value;return JSON.stringify(t)},EnumValue:function(e){var t=e.value;return t},ListValue:function(e){var t=e.values;return"["+r(t,", ")+"]"},ObjectValue:function(e){var t=e.fields;return"{"+r(t,", ")+"}"},ObjectField:function(e){var t=e.name,n=e.value;return t+": "+n},Directive:function(e){var t=e.name,n=e.arguments;return"@"+t+s("(",r(n,", "),")")},NamedType:function(e){var t=e.name;return t},ListType:function(e){var t=e.type;return"["+t+"]"},NonNullType:function(e){var t=e.type;return t+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return r(["schema",r(t," "),i(n)]," ")},OperationTypeDefinition:function(e){var t=e.operation,n=e.type;return t+": "+n},ScalarTypeDefinition:function(e){var t=e.name,n=e.directives;return r(["scalar",t,r(n," ")]," ")},ObjectTypeDefinition:function(e){var t=e.name,n=e.interfaces,a=e.directives,o=e.fields;return r(["type",t,s("implements ",r(n,", ")),r(a," "),i(o)]," ")},FieldDefinition:function(e){var t=e.name,n=e.arguments,a=e.type,i=e.directives;return t+s("(",r(n,", "),")")+": "+a+s(" ",r(i," "))},InputValueDefinition:function(e){var t=e.name,n=e.type,a=e.defaultValue,i=e.directives;return r([t+": "+n,s("= ",a),r(i," ")]," ")},InterfaceTypeDefinition:function(e){var t=e.name,n=e.directives,a=e.fields;return r(["interface",t,r(n," "),i(a)]," ")},UnionTypeDefinition:function(e){var t=e.name,n=e.directives,a=e.types;return r(["union",t,r(n," "),"= "+r(a," | ")]," ")},EnumTypeDefinition:function(e){var t=e.name,n=e.directives,a=e.values;return r(["enum",t,r(n," "),i(a)]," ")},EnumValueDefinition:function(e){var t=e.name,n=e.directives;return r([t,r(n," ")]," ")},InputObjectTypeDefinition:function(e){var t=e.name,n=e.directives,a=e.fields;return r(["input",t,r(n," "),i(a)]," ")},TypeExtensionDefinition:function(e){var t=e.definition;return"extend "+t},DirectiveDefinition:function(e){var t=e.name,n=e.arguments,a=e.locations;return"directive @"+t+s("(",r(n,", "),")")+" on "+r(a," | ")}}},function(e,t){"use strict";function n(e,t,n){var r=n||o,i=void 0,c=Array.isArray(e),p=[e],u=-1,d=[],m=void 0,h=[],f=[],g=e;do{u++;var v=u===p.length,y=void 0,b=void 0,E=v&&0!==d.length;if(v){if(y=0===f.length?void 0:h.pop(),b=m,m=f.pop(),E){if(c)b=b.slice();else{var _={};for(var R in b)b.hasOwnProperty(R)&&(_[R]=b[R]);b=_}for(var w=0,C=0;C<d.length;C++){var S=d[C][0],N=d[C][1];c&&(S-=w),c&&null===N?(b.splice(S,1),w++):b[S]=N}}u=i.index,p=i.keys,d=i.edits,c=i.inArray,i=i.prev}else{if(y=m?c?u:p[u]:void 0,b=m?m[y]:g,null===b||void 0===b)continue;m&&h.push(y)}var k=void 0;if(!Array.isArray(b)){if(!a(b))throw new Error("Invalid AST Node: "+JSON.stringify(b));var T=s(t,b.kind,v);if(T){if(k=T.call(t,b,y,m,h,f),k===l)break;if(k===!1){if(!v){h.pop();continue}}else if(void 0!==k&&(d.push([y,k]),!v)){if(!a(k)){h.pop();continue}b=k}}}void 0===k&&E&&d.push([y,b]),v||(i={inArray:c,index:u,keys:p,edits:d,prev:i},c=Array.isArray(b),p=c?b:r[b.kind]||[],u=-1,d=[],m&&f.push(m),m=b)}while(void 0!==i);return 0!==d.length&&(g=d[d.length-1][1]),g}function a(e){return e&&"string"==typeof e.kind}function r(e){var t=new Array(e.length);return{enter:function(n){for(var a=0;a<e.length;a++)if(!t[a]){var r=s(e[a],n.kind,!1);if(r){var i=r.apply(e[a],arguments);if(i===!1)t[a]=n;else if(i===l)t[a]=l;else if(void 0!==i)return i}}},leave:function(n){for(var a=0;a<e.length;a++)if(t[a])t[a]===n&&(t[a]=null);else{var r=s(e[a],n.kind,!0);if(r){var i=r.apply(e[a],arguments);if(i===l)t[a]=l;else if(void 0!==i&&i!==!1)return i}}}}}function i(e,t){return{enter:function(n){e.enter(n);var r=s(t,n.kind,!1);if(r){var i=r.apply(t,arguments);return void 0!==i&&(e.leave(n),a(i)&&e.enter(i)),i}},leave:function(n){var a=s(t,n.kind,!0),r=void 0;return a&&(r=a.apply(t,arguments)),e.leave(n),r}}}function s(e,t,n){var a=e[t];if(a){if(!n&&"function"==typeof a)return a;var r=n?a.leave:a.enter;if("function"==typeof r)return r}else{var i=n?e.leave:e.enter;if(i){if("function"==typeof i)return i;var s=i[t];if("function"==typeof s)return s}}}Object.defineProperty(t,"__esModule",{value:!0}),t.visit=n,t.visitInParallel=r,t.visitWithTypeInfo=i;var o=t.QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["name","directives"],ObjectTypeDefinition:["name","interfaces","directives","fields"],FieldDefinition:["name","arguments","type","directives"],InputValueDefinition:["name","type","defaultValue","directives"],InterfaceTypeDefinition:["name","directives","fields"],UnionTypeDefinition:["name","directives","types"],EnumTypeDefinition:["name","directives","values"],EnumValueDefinition:["name","directives"],InputObjectTypeDefinition:["name","directives","fields"],TypeExtensionDefinition:["definition"],DirectiveDefinition:["name","arguments","locations"]},l=t.BREAK={}}])},,,,,,,,,,,,,,,,,,,,,function(e,t,n){/*!
	 * graphql-anywhere (https://npmjs.com/package/graphql-anywhere)
	 * @license MIT
	 * @version 2.2.0
	 * ==graphql-anywhere/LICENSE==
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2015 - 2016 Oleksandr Stubailo
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in all
	 * copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	 * SOFTWARE.undefined
	 */
"use strict";var a=n(71);t.filter=a.filter,t.check=a.check,t.propType=a.propType;var r=n(72);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r.graphql},function(e,t,n){"use strict";function a(e,t){var n=function(e,t,n,a,r){return t[r.resultKey]};return l.graphql(n,e,t)}function r(e,t){var n=function(e,t,n,a,r){if(!{}.hasOwnProperty.call(t,r.resultKey))throw new Error(r.resultKey+" missing on "+t);return t[r.resultKey]};l.graphql(n,e,t,{},{},{fragmentMatcher:function(){return!1}})}function i(e){this.message=e,this.stack=""}function s(e){function t(t,n,a,r,s,o){if(r=r||c,o=o||a,null==n[a]){var l=p[s];return t?new i(null===n[a]?"The "+l+" `"+o+"` is marked as required "+("in `"+r+"`, but its value is `null`."):"The "+l+" `"+o+"` is marked as required in "+("`"+r+"`, but its value is `undefined`.")):null}return e(n,a,r,s,o)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function o(e){return s(function(t,n){var a=t[n];try{return r(e,a),null}catch(i){return i}})}var l=n(72);t.filter=a,t.check=r;var c="<<anonymous>>";i.prototype=Error.prototype;var p={prop:"prop",context:"context",childContext:"child context"};t.propType=o},function(e,t,n){"use strict";function a(e,t,n,a,i,s){void 0===s&&(s={});var o=l.getMainDefinition(t),c=l.getFragmentDefinitions(t),p=l.createFragmentMap(c)||{},u=s.resultMapper,d=s.fragmentMatcher||function(){return!0},m={fragmentMap:p,contextValue:a,variableValues:i,resultMapper:u,resolver:e,fragmentMatcher:d};return r(o.selectionSet,n,m)}function r(e,t,n){var a=n.fragmentMap,s=n.contextValue,l=n.variableValues,u={};return e.selections.forEach(function(e){if(c.shouldInclude(e,l))if(p.isField(e)){var d=i(e,t,n),m=p.resultKeyNameFromField(e);void 0!==d&&(u[m]=d)}else{var h=void 0;if(p.isInlineFragment(e))h=e;else if(h=a[e.name.value],!h)throw new Error("No fragment named "+e.name.value);var f=h.typeCondition.name.value;if(n.fragmentMatcher(t,f,s)){var g=r(h.selectionSet,t,n);o(u,g)}}}),n.resultMapper?n.resultMapper(u,t):u}function i(e,t,n){var a=n.variableValues,i=n.contextValue,o=n.resolver,l=e.name.value,c=p.argumentsObjectFromField(e,a),u={isLeaf:!e.selectionSet,resultKey:p.resultKeyNameFromField(e)},d=o(l,t,c,i,u);return e.selectionSet?null===d||"undefined"==typeof d?d:Array.isArray(d)?s(e,d,n):r(e.selectionSet,d,n):d}function s(e,t,n){return t.map(function(t){return null===t?null:Array.isArray(t)?s(e,t,n):r(e.selectionSet,t,n)})}function o(e,t){return null===t||"undefined"==typeof t||"string"==typeof t||"number"==typeof t||"boolean"==typeof t?t:(Object.keys(e).forEach(function(n){t.hasOwnProperty(n)&&o(e[n],t[n])}),void Object.keys(t).forEach(function(n){e.hasOwnProperty(n)||(e[n]=t[n])}))}var l=n(73),c=n(74),p=n(75);t.graphql=a},function(e,t){"use strict";function n(e){a(e);var t=null;if(e.definitions.forEach(function(e){"OperationDefinition"===e.kind&&"mutation"===e.operation&&(t=e)}),!t)throw new Error("Must contain a mutation definition.");return t}function a(e){if("Document"!==e.kind)throw new Error('Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');var t=e.definitions.filter(function(e){return"OperationDefinition"===e.kind}).length;if(t>1)throw new Error("Queries must have exactly one operation definition.")}function r(e){var t="";return e.definitions.forEach(function(e){"OperationDefinition"===e.kind&&e.name&&(t=e.name.value)}),t}function i(e){var t=e.definitions.filter(function(e){return"FragmentDefinition"===e.kind});return t}function s(e){a(e);var t=null;if(e.definitions.map(function(e){"OperationDefinition"===e.kind&&"query"===e.operation&&(t=e)}),!t)throw new Error("Must contain a query definition.");return t}function o(e){if("Document"!==e.kind)throw new Error('Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');if(e.definitions.length>1)throw new Error("Fragment must have exactly one definition.");var t=e.definitions[0];if("FragmentDefinition"!==t.kind)throw new Error("Must be a fragment definition.");return t}function l(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t}function c(e,t){return a(e),u({},e,{definitions:e.definitions.concat(t)})}function p(e){a(e);try{return s(e)}catch(t){try{return n(e)}catch(t){try{var r=i(e);return r[0]}catch(t){throw new Error("Expected a parsed GraphQL query with a query, mutation, or a fragment.")}}}}var u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};t.getMutationDefinition=n,t.checkDocument=a,t.getOperationName=r,t.getFragmentDefinitions=i,t.getQueryDefinition=s,t.getFragmentDefinition=o,t.createFragmentMap=l,t.addFragmentsToDocument=c,t.getMainDefinition=p},function(e,t){"use strict";function n(e,t){if(t||(t={}),!e.directives)return!0;var n=!0;return e.directives.forEach(function(e){if("skip"===e.name.value||"include"===e.name.value){var a=e.arguments,r=e.name.value;if(1!==a.length)throw new Error("Incorrect number of arguments for the @"+r+" directive.");var i=e.arguments[0];if(!i.name||"if"!==i.name.value)throw new Error("Invalid argument for the @"+r+" directive.");var s=e.arguments[0].value,o=!1;if(s&&"BooleanValue"===s.kind)o=s.value;else{if("Variable"!==s.kind)throw new Error("Argument for the @"+r+" directive must be a variable or a bool ean value.");if(o=t[s.name.value],void 0===o)throw new Error("Invalid variable referenced in @"+r+" directive.")}"skip"===r&&(o=!o),o||(n=!1)}}),n}t.shouldInclude=n},function(e,t){"use strict";function n(e){var t={StringValue:1,BooleanValue:1,EnumValue:1};return!!t[e.kind]}function a(e){var t={IntValue:1,FloatValue:1};return t[e.kind]}function r(e){return"Variable"===e.kind}function i(e){return"ObjectValue"===e.kind}function s(e){return"ListValue"===e.kind}function o(e,t,l,c){if(a(l))e[t.value]=Number(l.value);else if(n(l))e[t.value]=l.value;else if(i(l)){var p={};l.fields.map(function(e){return o(p,e.name,e.value,c)}),e[t.value]=p}else if(r(l)){var u=(c||{})[l.name.value];e[t.value]=u}else{if(!s(l))throw new Error('The inline argument "'+t.value+'" of kind "'+l.kind+'" is not supported. Use variables instead of inline arguments to overcome this limitation.');e[t.value]=l.values.map(function(e){var n={};return o(n,t,e,c),n[t.value]})}}function l(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach(function(e){var a=e.name,r=e.value;return o(n,a,r,t)}),n}return null}function c(e){return e.alias?e.alias.value:e.name.value}function p(e){return"Field"===e.kind}function u(e){return"InlineFragment"===e.kind}function d(e){return e.errors&&e.errors.length}t.argumentsObjectFromField=l,t.resultKeyNameFromField=c,t.isField=p,t.isInlineFragment=u,t.graphQLResultHasError=d},function(e,t,n){/*!
	 * react-apollo (https://npmjs.com/package/react-apollo)
	 * @license MIT
	 * @version 0.9.0
	 * ==react-apollo/LICENSE==
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2015 Ben Newman
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in all
	 * copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	 * SOFTWARE.undefined
	 */
"use strict";var a=n(77);t.ApolloProvider=a["default"];var r=n(79);t.graphql=r["default"],t.withApollo=r.withApollo;var i=n(50);t.compose=i.compose},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(15),i=n(15),s=n(78),o=function(e){function t(t,n){var a=e.call(this,t,n)||this;return s(t.client,'ApolloClient was not passed a client instance. Make sure you pass in your client via the "client" prop.'),a.client=t.client,t.store?(a.store=t.store,t.immutable&&t.client.initStore(),a):(t.client.initStore(),a.store=t.client.store,a)}return a(t,e),t.prototype.getChildContext=function(){return{store:this.store,client:this.client}},t.prototype.render=function(){return r.Children.only(this.props.children)},t}(i.Component);o.propTypes={store:i.PropTypes.shape({subscribe:i.PropTypes.func.isRequired,dispatch:i.PropTypes.func.isRequired,getState:i.PropTypes.func.isRequired}),client:i.PropTypes.object.isRequired,immutable:i.PropTypes.bool,children:i.PropTypes.element.isRequired},o.childContextTypes={store:i.PropTypes.object.isRequired,client:i.PropTypes.object.isRequired},Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o},,function(e,t,n){"use strict";function a(e){var t=c(e,"variables","refetch","fetchMore","updateQuery","startPolling","stopPolling","subscribeToMore");return Object.keys(t).forEach(function(n){"function"==typeof t[n]&&(t[n]=t[n].bind(e))}),t}function r(e){return e.displayName||e.name||"Component"}function i(e,t){void 0===t&&(t={});var n="withApollo("+r(e)+")",a=function(a){function r(e,t){var r=a.call(this,e,t)||this;return r.client=t.client,u(!!r.client,'Could not find "client" in the context of '+('"'+n+'". ')+"Wrap the root component in an <ApolloProvider>"),r}return o(r,a),r.prototype.getWrappedInstance=function(){return u(t.withRef,"To access the wrapped instance, you need to specify { withRef: true } in the options"),this.refs.wrappedInstance},r.prototype.render=function(){var n=d({},this.props);return n.client=this.client,t.withRef&&(n.ref="wrappedInstance"),l.createElement(e,n)},r}(l.Component);return a.displayName=n,a.WrappedComponent=e,a.contextTypes={client:l.PropTypes.object.isRequired},m(a,e,{})}function s(e,t){void 0===t&&(t={});var n=t.options,i=void 0===n?f:n,s=t.skip,c=void 0===s?v:s,b=t.alias,E=void 0===b?"Apollo":b,_=i;"function"!=typeof _&&(_=function(){return i});var R=c;"function"!=typeof R&&(R=function(){return c});var w=t.props,C=h.parser(e),S=y++;return function(n){var i=E+"("+r(n)+")",s=function(s){function c(e,t){var n=s.call(this,e,t)||this;return n.previousData={},n.version=S,n.client=t.client,u(!!n.client,'Could not find "client" in the context of '+('"'+i+'". ')+"Wrap the root component in an <ApolloProvider>"),n.store=n.client.store,n.type=C.type,n.shouldSkip(e)?n:(n.setInitialProps(),n)}return o(c,s),c.prototype.componentDidMount=function(){this.hasMounted=!0,this.type!==h.DocumentType.Mutation&&(this.shouldSkip(this.props)||this.subscribeToQuery())},c.prototype.componentWillReceiveProps=function(e){if(!p["default"](this.props,e)&&(this.shouldRerender=!0,this.type!==h.DocumentType.Mutation)){if(this.type===h.DocumentType.Subscription&&t.shouldResubscribe&&t.shouldResubscribe(this.props,e))return this.unsubscribeFromQuery(),delete this.queryObservable,this.updateQuery(e),void this.subscribeToQuery();if(this.shouldSkip(e))return void(this.shouldSkip(this.props)||this.unsubscribeFromQuery());this.updateQuery(e),this.subscribeToQuery()}},c.prototype.shouldComponentUpdate=function(e,t,n){return!!n||this.shouldRerender},c.prototype.componentWillUnmount=function(){this.type===h.DocumentType.Query&&this.unsubscribeFromQuery(),this.type===h.DocumentType.Subscription&&this.unsubscribeFromQuery(),this.hasMounted=!1},c.prototype.calculateOptions=function(e,t){void 0===e&&(e=this.props);var a=_(e);if(t&&t.variables&&(t.variables=d({},a.variables,t.variables)),t&&(a=d({},a,t)),a.variables||!C.variables.length)return a;for(var s={},o=0,l=C.variables;o<l.length;o++){var c=l[o],p=c.variable,m=c.type;p.name&&p.name.value&&("undefined"==typeof e[p.name.value]?"NonNullType"===m.kind?u("undefined"!=typeof e[p.name.value],"The operation '"+C.name+"' wrapping '"+r(n)+"' "+("is expecting a variable: '"+p.name.value+"' but it was not found in the props ")+("passed to '"+i+"'")):s[p.name.value]=null:s[p.name.value]=e[p.name.value])}return a.variables=s,a},c.prototype.calculateResultProps=function(e){var n=this.type===h.DocumentType.Mutation?"mutate":"data";t.name&&(n=t.name);var a=(r={},r[n]=e,r.ownProps=this.props,r);return w?w(a):(i={},i[n]=g(e),i);var r,i},c.prototype.setInitialProps=function(){if(this.type!==h.DocumentType.Mutation){var e=this.calculateOptions(this.props);this.createQuery(e)}},c.prototype.createQuery=function(t){this.type===h.DocumentType.Subscription?this.queryObservable=this.client.subscribe(d({query:e},t)):this.queryObservable=this.client.watchQuery(d({query:e,metadata:{reactComponent:{displayName:i}}},t))},c.prototype.updateQuery=function(e){var t=this.calculateOptions(e);this.queryObservable||this.createQuery(t),this.queryObservable._setOptionsNoResult?this.queryObservable._setOptionsNoResult(t):this.queryObservable.setOptions&&this.queryObservable.setOptions(t)["catch"](function(e){return null})},c.prototype.fetchData=function(){if(this.shouldSkip())return!1;if(C.type===h.DocumentType.Mutation||C.type===h.DocumentType.Subscription)return!1;var t=this.calculateOptions();if(t.ssr===!1)return!1;t.forceFetch&&delete t.forceFetch;var n=this.client.watchQuery(d({query:e},t)),a=n.currentResult();return!!a.loading&&n.result()},c.prototype.subscribeToQuery=function(){var e=this;if(!this.querySubscription){var t=function(t){e.type===h.DocumentType.Subscription&&(e.lastSubscriptionData=t,t={data:t});var n=Object.keys(a(t.data));u(0===n.length,"the result of the '"+i+"' operation contains keys that conflict with the return object."+n.map(function(e){return"'"+e+"'"}).join(", ")+" not allowed."),e.forceRenderChildren()},n=function(e){if(e.hasOwnProperty("graphQLErrors"))return t({error:e});throw e};this.querySubscription=this.queryObservable.subscribe({next:t,error:n})}},c.prototype.unsubscribeFromQuery=function(){this.querySubscription&&(this.querySubscription.unsubscribe(),delete this.querySubscription)},c.prototype.shouldSkip=function(e){return void 0===e&&(e=this.props),R(e)||_(e).skip},c.prototype.forceRenderChildren=function(){this.shouldRerender=!0,this.hasMounted&&this.setState({})},c.prototype.getWrappedInstance=function(){return u(t.withRef,"To access the wrapped instance, you need to specify { withRef: true } in the options"),this.refs.wrappedInstance},c.prototype.dataForChild=function(){var t=this;if(this.type===h.DocumentType.Mutation)return function(n){var a=t.calculateOptions(t.props,n);return"undefined"==typeof a.variables&&delete a.variables,a.mutation=e,t.client.mutate(a)};var n=this.calculateOptions(this.props),r={};if(d(r,a(this.queryObservable)),this.type===h.DocumentType.Subscription)d(r,{loading:!this.lastSubscriptionData,variables:n.variables},this.lastSubscriptionData);else{var i=this.queryObservable.currentResult(),s=i.loading,o=i.error,l=i.networkStatus;d(r,{loading:s,error:o,networkStatus:l}),s?d(r,this.previousData,i.data):(d(r,i.data),this.previousData=i.data)}return r},c.prototype.render=function(){if(this.shouldSkip())return l.createElement(n,this.props);var e=this,a=e.shouldRerender,r=e.renderedElement,i=e.props;this.shouldRerender=!1;var s=this.dataForChild(),o=this.calculateResultProps(s),c=d({},i,o);return!a&&r?r:(t.withRef&&(c.ref="wrappedInstance"),this.renderedElement=l.createElement(n,c),this.renderedElement)},c}(l.Component);return s.displayName=i,s.WrappedComponent=n,s.contextTypes={store:l.PropTypes.object.isRequired,client:l.PropTypes.object.isRequired},m(s,n,{})}}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},l=n(15),c=n(80),p=n(81),u=n(78),d=n(82),m=n(83),h=n(84),f=function(e){return{}},g=function(e){return e},v=function(e){return!1},y=0;t.withApollo=i,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s},function(e,t){(function(t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function a(e,t){for(var n=-1,a=e?e.length:0,r=Array(a);++n<a;)r[n]=t(e[n],n,e);return r}function r(e,t){for(var n=-1,a=t.length,r=e.length;++n<a;)e[r+n]=t[n];return e}function i(e,t,n,a,s){var o=-1,l=e.length;for(n||(n=c),s||(s=[]);++o<l;){var p=e[o];t>0&&n(p)?t>1?i(p,t-1,n,a,s):r(s,p):a||(s[s.length]=p)}return s}function s(e,t){return e=Object(e),o(e,t,function(t,n){return n in e})}function o(e,t,n){for(var a=-1,r=t.length,i={};++a<r;){var s=t[a],o=e[s];n(o,s)&&(i[s]=o)}return i}function l(e,t){return t=O(void 0===t?e.length-1:t,0),function(){for(var a=arguments,r=-1,i=O(a.length-t,0),s=Array(i);++r<i;)s[r]=a[t+r];r=-1;for(var o=Array(t+1);++r<t;)o[r]=a[r];return o[t]=s,n(e,this,o)}}function c(e){return U(e)||u(e)||!!(D&&e&&e[D])}function p(e){if("string"==typeof e||y(e))return e;var t=e+"";return"0"==t&&1/e==-b?"-0":t}function u(e){return m(e)&&I.call(e,"callee")&&(!M.call(e,"callee")||P.call(e)==_)}function d(e){return null!=e&&f(e.length)&&!h(e)}function m(e){return v(e)&&d(e)}function h(e){var t=g(e)?P.call(e):"";return t==R||t==w}function f(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=E}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){return!!e&&"object"==typeof e}function y(e){return"symbol"==typeof e||v(e)&&P.call(e)==C}/*!
	 * lodash.pick (https://npmjs.com/package/lodash.pick)
	 * @license MIT
	 * @version 4.4.0
	 * ==lodash.pick/LICENSE==
	 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
	 * 
	 * Based on Underscore.js, copyright Jeremy Ashkenas,
	 * DocumentCloud and Investigative Reporters & Editors <http://underscorejs.org/>
	 * 
	 * This software consists of voluntary contributions made by many
	 * individuals. For exact contribution history, see the revision history
	 * available at https://github.com/lodash/lodash
	 * 
	 * The following license applies to all parts of this software except as
	 * documented below:
	 * 
	 * ====
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining
	 * a copy of this software and associated documentation files (the
	 * "Software"), to deal in the Software without restriction, including
	 * without limitation the rights to use, copy, modify, merge, publish,
	 * distribute, sublicense, and/or sell copies of the Software, and to
	 * permit persons to whom the Software is furnished to do so, subject to
	 * the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be
	 * included in all copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
	 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
	 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
	 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
	 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
	 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
	 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
	 * 
	 * ====
	 * 
	 * Copyright and related rights for sample code are waived via CC0. Sample
	 * code is defined as all source code displayed within the prose of the
	 * documentation.
	 * 
	 * CC0: http://creativecommons.org/publicdomain/zero/1.0/
	 * 
	 * ====
	 * 
	 * Files located in the node_modules and vendor directories are externally
	 * maintained libraries used by this software which have their own
	 * licenses; we recommend you read them, as their terms may differ from the
	 * terms above.
	 */
var b=1/0,E=9007199254740991,_="[object Arguments]",R="[object Function]",w="[object GeneratorFunction]",C="[object Symbol]",S="object"==typeof t&&t&&t.Object===Object&&t,N="object"==typeof self&&self&&self.Object===Object&&self,k=S||N||Function("return this")(),T=Object.prototype,I=T.hasOwnProperty,P=T.toString,x=k.Symbol,M=T.propertyIsEnumerable,D=x?x.isConcatSpreadable:void 0,O=Math.max,U=Array.isArray,L=l(function(e,t){return null==e?{}:s(e,a(i(t,1),p))});e.exports=L}).call(t,function(){return this}())},function(e,t){"use strict";function n(e,t){if(!e||!t)return!0;if(e===t)return!0;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var r=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!r.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){/*!
	 * object-assign (https://npmjs.com/package/object-assign)
	 * @license MIT
	 * @version 4.1.1
	 * ==object-assign/license==
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 */
/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function a(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var a=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==a.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=a()?Object.assign:function(e,t){for(var a,o,l=n(e),c=1;c<arguments.length;c++){a=Object(arguments[c]);for(var p in a)i.call(a,p)&&(l[p]=a[p]);if(r){o=r(a);for(var u=0;u<o.length;u++)s.call(a,o[u])&&(l[o[u]]=a[o[u]])}}return l}},,function(e,t,n){"use strict";function a(e){var t,n,a;i(!!e||!!e.kind,"Argument of "+e+" passed to parser was not a valid GraphQL DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document");var s=e.definitions.filter(function(e){return"FragmentDefinition"===e.kind}),o=e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&"query"===e.operation}),l=e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}),c=e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&"subscription"===e.operation});!s.length||o.length&&l.length&&c.length||i(!0,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"),o.length&&l.length&&l.length&&i(o.length+l.length+l.length>1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+e+" had "+o.length+" queries, "+c.length+" subscriptions and "+l.length+" muations. You can use 'compose' to join multiple operation types to a component"),n=o.length?r.Query:r.Mutation,o.length||l.length||(n=r.Subscription);var p=o.length?o:l.length?l:c;1!==p.length&&i(1!==p.length,"react-apollo only supports one defintion per HOC. "+e+" had "+p.length+" definitions. You can use 'compose' to join multiple operation types to a component");var u=p[0];t=u.variableDefinitions||[];var d=u.name&&"Name"===u.name.kind;return a=d?u.name.value:"data",{name:a,type:n,variables:t}}var r,i=n(78);!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(r=t.DocumentType||(t.DocumentType={})),t.parser=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(4),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement("a",{className:r("button-auto-width",this.props.classNames),disabled:this.props.isDisabled,href:this.props.href,onClick:this.props.isDisabled||!this.props.onClick?null:function(t){return e.props.onClick(t)},target:this.props.target},this.props.text)},t}(React.Component);t.ButtonAutoWidth=i,i.docs={description:"A button that does not have a fixed width, but rather fits the text it is given.",examples:[React.createElement(i,{text:"Automagical width you say?"})],staticMarkup:'<ButtonAutoWidth text="Automagical width you say?" />',title:"ButtonAutoWidth"}},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return React.createElement("a",{onClick:this.props.onClick,href:this.props.href,className:this.props.className||"button-round-edged"},this.props.text)},t}(React.Component);t.ButtonRoundEdged=a,a.docs={description:"A button that has rounded edges... Bet you weren't expecting that.",examples:[React.createElement(a,{text:"Round Edges FTW"})],staticMarkup:'<ButtonRoundEdged text="Round Edges FTW" />',title:"ButtonRoundEdged"}},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(4),i=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClick=function(){var e=!n.state.isChecked;n.setState({isChecked:e}),n.props.onChange(e)},n.state={isChecked:!!n.props.isChecked},n}return a(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState($.extend({},{isChecked:e.isChecked}))},t.prototype.render=function(){var e=this;return React.createElement("div",{className:r("checkbox",this.props.isEditable&&this.props.textIsClickable?"checkbox--clickable":"")},React.createElement("span",{className:r("checkbox__box",this.props.isEditable&&!this.props.textIsClickable?"checkbox__box--clickable":"",this.props.isEditable?"":"checkbox__box--static",this.state.isChecked?"checkbox__box--checked":"checkbox__box--unchecked"),onClick:this.props.isEditable?this.handleClick:null}),React.createElement("span",{className:"checkbox__label",onClick:this.props.isEditable&&this.props.textIsClickable?this.handleClick:null},this.props.text),this.props.formInputName?React.createElement("input",{ref:function(t){return e.formInput=t},type:"hidden",name:this.props.formInputName,value:this.state.isChecked.toString()}):null)},t}(React.Component);t.Checkbox=i,i.docs={description:"A standard checkbox used for admin and content owners/editors",examples:[React.createElement(i,{isChecked:!0,text:"Is published?",isEditable:!0,textIsClickable:!0,onChange:function(){}}),React.createElement(i,{isChecked:!1,text:"Is featured?",isEditable:!1,textIsClickable:!1,onChange:function(){}})],staticMarkup:'<Checkbox\n    isChecked={true}\n    text="Is published?"\n    isEditable={true}\n    textIsClickable={true}\n    onChange={() => {}} />\n<Checkbox\n    isChecked={false}\n    text="Is featured?"\n    isEditable={false}\n    textIsClickable={false}\n    onChange={() => {}} />',title:"Checkbox"}},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(24),i=n(14),s=function(e){function t(t){var n=e.call(this,t)||this;return n.getOptions=function(e,t){var a=["locality","neighborhood","administrative_area_level_2","administrative_area_level_1","country"],i=encodeURIComponent(e.trim());$.get("https://maps.googleapis.com/maps/api/geocode/json?address="+i+"&sensor=false").then(function(e){var i=r.chain(e.results).map(function(e){var t=function(t){return n.getAddressLongName(e.address_components,t)},r=a.map(t),i=r[0],s=r[1],o=r[2],l=r[3],c=r[4];return[s||i||o,l,c]}).filter(function(e){var t=e[0],n=(e[1],e[2]);return t&&null!==n}).map(function(e){var t=e.filter(Boolean).join(", ");return{value:t,label:t}}).value();t(null,{options:i,complete:!1})})},n.onChange=function(e){if(n.setState({value:e}),e&&e.value){var t=e.value.split(", "),a=2===t.length;a?n.props.onChange(t[0],null,t[1]):n.props.onChange(t[0],t[1],t[2])}else n.props.onChange(null,null,null)},n.state={value:[n.props.city,n.props.region,n.props.country].filter(Boolean).join(", ")},n}return a(t,e),t.prototype.getAddressLongName=function(e,t){var n=e.filter(function(e){return e.types.some(function(e){return e===t})});return n.length>0?n[0].long_name:null},t.prototype.render=function(){return React.createElement(i.Async,{placeholder:this.props.city?this.state.value:"City",name:"city",value:this.state.value,minimumInput:3,loadOptions:r.debounce(this.getOptions,250),onChange:this.onChange,filterOption:function(e,t){return e}})},t}(React.Component);t.CityLookup=s,s.docs={description:"You guessed it! Look up a city.",examples:[React.createElement(s,{city:"Grand Forks",region:"North Dakota",country:"United States",onChange:function(){return console.log("Changed!")}})],staticMarkup:'<CityLookup\n    city="Grand Forks"\n    region="North Dakota"\n    country="United States"\n    onChange={() => console.log("Changed!")} />',title:"CityLookup"}},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(6),i=n(4),s=n(90);n(91),n(92),n(93),n(94),n(95);var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getAutocompleteHints=function(e,n){r.Current.log("Beginning autocomplete.");var a=t.codeMirror.getDoc(),i=a.getCursor();s.Pos(i.line,i.ch);t.props.getAutocomplete(a.getValue(),a.indexFromPos(i),function(e,t,r){var i=a.posFromIndex(t),s=a.posFromIndex(r);n({list:e,from:i,to:s})})},t.shouldFireAutocomplete=function(){var e=t.codeMirror.getDoc(),n=e.getCursor();if(!n.ch)return!1;var a=e.getValue(),r=e.indexFromPos(n),i=e.indexFromPos({line:n.line,ch:0}),s=a.slice(i,r);return!!/\S/.test(s)},t.handleAutocomplete=function(){var e=t.codeMirror.getDoc();if(!t.props.getAutocomplete||!t.shouldFireAutocomplete()){if(e.somethingSelected())t.codeMirror.execCommand("indentMore");else{var n=Array(t.codeMirror.getOption("indentUnit")+1).join(" ");e.replaceRange(n,e.getCursor(),null)}return void(t.props.onChange&&t.props.onChange(e.getValue()))}var a=t.getAutocompleteHints;a.async=!0,t.codeMirror.showHint({hint:a})},t.focusChanged=function(e){t.setState({isFocused:e}),t.props.onFocusChange&&t.props.onFocusChange(e)},t.codeMirrorValueChanged=function(e,n){var a=e.getValue();t.currentCodeMirrorValue=a,n.origin&&"setValue"!==n.origin&&t.props.onChange&&t.props.onChange(a)},t}return a(t,e),t.prototype.componentDidMount=function(){var e=this;this.codeMirror=s.fromTextArea(this.textarea,this.props.options),this.codeMirror.on("change",this.codeMirrorValueChanged),this.props.onFocusChange&&(this.codeMirror.on("focus",function(){e.props.onFocusChange(!0)}),this.codeMirror.on("blur",function(){e.props.onFocusChange(!1)})),this.codeMirror.on("blur",function(){window.setTimeout(function(){e.codeMirror.getDoc().setSelection({line:0,ch:0},{line:0,ch:0})})}),this.props.onMouseUp&&this.codeMirror.on("mosueup",this.props.onMouseUp),this.currentCodeMirrorValue=this.props.defaultValue||this.props.value||"",this.codeMirror.setValue(this.currentCodeMirrorValue),this.codeMirror.setOption("extraKeys",{Tab:this.handleAutocomplete,"Ctrl-Space":this.handleAutocomplete,"Shift-Tab":"indentLess",Up:function(){return 0===e.codeMirror.getDoc().getCursor().line&&e.props.canMoveUp()?void e.props.onMoveUp():s.Pass},Down:function(){var t=e.codeMirror.getDoc();return t.getCursor().line===t.lineCount()-1&&e.props.canMoveDown()?void e.props.onMoveDown():s.Pass},"Shift-Enter":this.props.onShiftEnter,"Alt-Enter":this.props.onShiftEnter,"Ctrl-Enter":this.props.onCtrlEnter,"Cmd-Enter":this.props.onCtrlEnter}),this.props.hasFocus&&window.setTimeout(function(){return e.codeMirror.focus()})},t.prototype.componentWillUnmount=function(){this.codeMirror&&this.codeMirror.toTextArea()},t.prototype.componentWillReceiveProps=function(e){var t=this;if(this.codeMirror&&e.hasFocus&&!this.codeMirror.hasFocus()&&window.setTimeout(function(){t.codeMirror.refresh(),t.codeMirror.focus()},0),this.codeMirror&&e.value&&this.currentCodeMirrorValue!==e.value&&this.codeMirror.setValue(e.value),"object"==typeof e.options)for(var n in e.options)e.options.hasOwnProperty(n)&&this.codeMirror.setOption(n,e.options[n])},t.prototype.focus=function(){this.codeMirror&&this.codeMirror.focus()},t.prototype.render=function(){var e=this,t=i("code-mirror-editor",this.props.className);return React.createElement("div",{className:t},React.createElement("textarea",{ref:function(t){e.textarea=t},defaultValue:this.props.value,autoComplete:"off"}))},t}(React.Component);t.CodeMirrorEditor=o,o.docs={title:"CodeMirrorEditor",description:"Our code editor, used in Notebooks",examples:[React.createElement("div",{className:"react-components__style-guide-example--overflow"},React.createElement(o,{value:"# Python code\nimport this",defaultValue:"",onChange:function(e){},hasFocus:!1,onMouseUp:function(){},options:{mode:"python",scrollbarStyle:"native",indentUnit:4,indentWithTabs:!1,autoCloseBrackets:!0,readOnly:!1,theme:"kaggle"},getAutocomplete:function(){},canMoveUp:function(){return!0},canMoveDown:function(){return!0},onMoveUp:function(){},onMoveDown:function(){},onCtrlEnter:function(){},onShiftEnter:function(){}}))],staticMarkup:'<CodeMirrorEditor\n    value={"# Code"}\n    defaultValue={""}\n    onChange={screen => {}}\n    hasFocus={false}\n    onMouseUp={() => {}}\n    options={{\n        mode: "python",\n        scrollbarStyle: "native",\n        indentUnit: 4,\n        indentWithTabs: false,\n        autoCloseBrackets: true,\n        readOnly: false,\n        theme: "kaggle"\n    }}\n    getAutocomplete={() => {}}\n    canMoveUp={() => {return true}}\n    canMoveDown={() => {return true}}\n    onMoveUp={() => {}}\n    onMoveDown={() => {}}\n    onCtrlEnter={() => {}}\n    onShiftEnter={() => {}} />'}},,,,,,,function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(97),i=n(40),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state=$.extend(!0,{},n.props.initialState,{commentReplySubmitted:function(e){return n.loadData(n.props.topicId,e)},dataLoaded:!!n.props.initialState,kernelFilterChanged:function(e){return n.changeKernelFilter(e)},replySubmitted:function(){return n.props.replySubmitted(function(e){return n.loadData(n.props.topicId,function(){var t="#"+e,n=100,a=$(t).position();$(document).scrollTop();$("html, body").animate({scrollTop:a.top-n},300)})})},showSortPane:!1,sortChanged:function(e){return n.changeSort(e)},toggleSortPane:function(){return n.setState({showSortPane:!n.state.showSortPane})}}),n}return a(t,e),t.prototype.componentWillMount=function(){var e=this;this.state.dataLoaded||this.loadData(this.props.topicId,function(){return e.setState({dataLoaded:!0},function(){window.setTimeout(function(){var e=100,t=$(window.location.hash).position();if(t){$(document).scrollTop();$("html, body").animate({scrollTop:t.top-e},300)}})})})},t.prototype.render=function(){return this.state.dataLoaded?React.createElement(r.CommentList,$.extend(!0,{},this.props,this.state)):React.createElement(i.LoadingText,{isLoading:!this.state.dataLoaded,text:"Loading Comments"})},t.prototype.changeKernelFilter=function(e){var t=this;this.setState({kernelFilter:e},function(){return t.loadData(t.props.topicId)})},t.prototype.changeSort=function(e){var t=this;history.replaceState(history.state,document.title,window.location.pathname+window.location.search),this.setState({sort:e},function(){return t.loadData(t.props.topicId)})},t.prototype.loadData=function(e,t){var n=this;return void 0===t&&(t=null),null==e?void this.setState({dataLoaded:!0}):void $.ajax("/topics/"+e+"/comments.json",{data:{filter:this.state.kernelFilter,sort:this.state.sort}}).done(function(e){n.setState($.extend(n.state,e),t)})},t}(React.Component);t.CommentListContainer=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=(n(4),n(40)),s=n(98),o=n(109),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this,n=this.props.comments?this.props.comments.reduce(function(e,t){return e+t.replies.length+1},0):0;return React.createElement("div",{className:"comment-list"},React.createElement(i.MediaQuery,{minWidth:0,maxWidth:i.Breakpoints.tabletMax},React.createElement(i.OffCanvasContainer,{closeButtonCallback:function(){return e.props.toggleSortPane()},shouldShowOffCanvas:this.props.showSortPane,shouldUseCloseButton:!0,shouldUseRightSide:!0},React.createElement("div",{className:"comment-list__sort-pane"},this.props.showKernelFilter?React.createElement(i.SelectBox,{className:"comment-list__kernel-filter",onChange:this.props.kernelFilterChanged,options:t.kernelCommentFilters,searchable:!1,value:this.props.kernelFilter}):null,React.createElement("span",{className:"comment-list__sortby-label"},"Sort By"),React.createElement(i.SelectBox,{onChange:this.props.sortChanged,options:t.commentSorts,searchable:!1,value:this.props.sort})))),React.createElement("div",{className:"comment-list__header"},React.createElement("span",{className:"comment-list__title"},"Comments (",n,")"),React.createElement("span",{className:"comment-list__spacer"}),React.createElement(i.MediaQuery,{minWidth:i.Breakpoints.desktopMin},React.createElement("div",{className:"comment-list__sort-pane-button"},this.props.showKernelFilter?React.createElement(i.SelectBox,{onChange:this.props.kernelFilterChanged,options:t.kernelCommentFilters,searchable:!1,value:this.props.kernelFilter}):null,React.createElement("span",{className:"comment-list__sortby-label"},"Sort By"),React.createElement(i.SelectBox,{onChange:this.props.sortChanged,options:t.commentSorts,searchable:!1,value:this.props.sort}))),React.createElement(i.MediaQuery,{minWidth:0,maxWidth:i.Breakpoints.tabletMax},React.createElement("span",{className:"comment-list__sort-pane-button",onClick:function(){return e.props.toggleSortPane()}},"filter / sort >"))),this.props.allowReplies?i.Current.isAnonymous?[React.createElement("div",{className:"comment-list__login-warning"},"Please ",React.createElement("a",{className:"comment-list__link",href:"/account/login?ReturnUrl=${this.props.returnUrl}"},"log in")," to leave a comment"),React.createElement("div",{className:"comment-list__comment-linking-spacer"})]:[React.createElement("div",{id:"topic-reply"},React.createElement(o.NewCommentContainer,{allowAttachments:this.props.allowAttachments,currentUserTier:this.props.currentUserTier,editAttachments:this.props.replyAttachments,editAttachmentAdded:this.props.replyAttachmentAdded,editAttachmentDeleted:this.props.replyAttachmentDeleted,editDraft:this.props.replyDraft,editDraftChanged:this.props.replyDraftChanged,editSubmitted:this.props.replySubmitted,isSubmitting:this.props.isSubmittingReply})),React.createElement("div",{className:"comment-list__comment-linking-spacer"})]:null,this.props.comments?this.props.comments.map(function(t){return[React.createElement(s.CommentContainer,r({},t,{allowAttachments:e.props.allowAttachments,allowReplies:e.props.allowReplies&&!i.Current.isAnonymous,canDownvote:e.props.canDownvote,currentUserTier:e.props.currentUserTier,key:t.id,replySubmitted:e.props.commentReplySubmitted})),React.createElement("div",{className:"comment-list__comment-linking-spacer"})]}):null)},t}(React.Component);l.commentSorts=[{label:"Hotness",value:"hot"},{label:"Most Votes",value:"top"},{label:"Newest",value:"new"},{label:"Oldest",value:"old"},{label:"Chronological",value:"chronological"}],l.kernelCommentFilters=[{label:"All Comments",value:"all"},{label:"Latest Version Comments",value:"version"}],t.CommentList=l},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(99),i=n(40),s=n(107),o=function(e){function t(t){var n=e.call(this,t)||this;n.markdownConverter=new Markdown.getSanitizingConverter;var a=function(e,t){for(var a=n.state.replyDraft||"",r="\n> **"+e+" wrote**\n> \n> ",i=t.split("\n"),s=/\s*\[.*?\]:/,o=0;o<i.length;o++){var l=i[o];s.test(l)||(i[o]="> "+l)}n.setState({replyDraft:a+r+i.join("\n"),showReplyForm:!0},function(){var e="#comment-reply-"+n.props.id,t=100;$("html, body").animate({scrollTop:$(e).position().top-t},200)})};return n.state={attachmentAdded:function(e,t,a){return n.addAttachment(e,t,a)},attachmentDeleted:function(e){return n.deleteAttachment(e)},attachments:n.props.attachments,content:n.props.content,editDraft:n.props.rawMarkdown||r(n.props.content),editDraftChanged:function(e){return n.changeEditDraft(e)},editSubmitted:function(){return n.submitEdit()},flagFormClosed:function(){return n.setState({showFlagForm:!1})},flagged:function(){return $.post("/forums/messages/flag?forumMessageId="+n.props.id).done(function(){return n.setState({hasFlags:!0,isFlagged:!0,showFlagForm:!1})})},hasFlags:n.props.hasFlags,isFlagged:n.props.isFlagged,isSpammed:n.props.isSpammed,isSubmittingReply:!1,isDeleted:n.props.isDeleted,newAttachments:[],quoted:function(e,t){return n.props.quoted?n.props.quoted(e,t):a(e,t)},rawMarkdown:n.props.rawMarkdown||r(n.props.content),replyAttachments:[],replyAttachmentAdded:function(e,t,a){return n.addReplyAttachment(e,t,a)},replyAttachmentDeleted:function(e){return n.deleteReplyAttachment(e)},replyDraft:"",replyDraftChanged:function(e){return n.changeReplyDraft(e)},replySubmitted:function(){return n.submitReply()},showEditForm:!1,showFlagForm:!1,showOptions:!1,showReplyForm:!1,showUpvoters:!1},n}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement(s.Comment,$.extend(!0,{},this.props,this.state,{allowAttachments:this.props.allowAttachments,isNew:!1,leftOptions:this.leftOptions(),onReply:function(t){return e.onReply(t)},rightOptions:this.rightOptions(),titleOptions:this.titleOptions()}))},t.prototype.addAttachment=function(e,t,n){var a=this.state.newAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({newAttachments:a})},t.prototype.addReplyAttachment=function(e,t,n){var a=this.state.replyAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({replyAttachments:a})},t.prototype.changeEditDraft=function(e){this.setState({editDraft:e})},t.prototype.changeReplyDraft=function(e){this.setState({replyDraft:e})},t.prototype.deleteAttachment=function(e){var t=this.state.newAttachments.filter(function(t){return t.name==e})[0],n=this.state.newAttachments.indexOf(t);return n!==-1?(this.state.newAttachments.splice(n,1),void this.setState({newAttachments:this.state.newAttachments})):(t=this.state.attachments.filter(function(t){return t.name==e})[0],n=this.state.attachments.indexOf(t),this.state.attachments.splice(n,1),this.setState({attachments:this.state.attachments}),void $.ajax("/forums/attachments/delete/"+t.id,{contentType:"application/json",type:"POST"}))},t.prototype.deleteReplyAttachment=function(e){var t=this.state.replyAttachments.filter(function(t){return t.name==e})[0],n=this.state.replyAttachments.indexOf(t);if(n!==-1)return this.state.replyAttachments.splice(n,1),void this.setState({replyAttachments:this.state.replyAttachments})},t.prototype.leftOptions=function(){var e=this,t=[{onClick:function(t){e.state.quoted(e.props.author.displayName,e.state.rawMarkdown||r(e.state.content))},text:"Quote"},{href:"#"+this.props.id,onClick:function(t){if(!(t.shiftKey||t.ctrlKey||t.metaKey)){t.preventDefault();var n="#"+e.props.id,a=100;$("html, body").animate({scrollTop:$(n).position().top-a},200,"swing",function(){return window.location.hash=e.props.id+""})}},text:"Permalink"}];i.Current.isAnonymous||(this.state.isFlagged?t.push({className:"discussion-comment__option--disabled",text:"Flagged"}):t.push({onClick:function(){return e.setState({showFlagForm:!0})},text:"Flag"}));var n=this.props.upvoters.length;return n>0&&t.push({className:this.state.showUpvoters?"discussion-comment__option--selected":null,onClick:function(){return e.setState({showUpvoters:!e.state.showUpvoters})},text:React.createElement(i.Pluralize,{count:n,word:"Upvoter"})}),t},t.prototype.onReply=function(e){this.setState({showReplyForm:!this.state.showReplyForm},e)},t.prototype.rightOptions=function(){var e=this,t=[];return i.Current.isAdmin&&(this.state.hasFlags&&t.push({onClick:function(){return $.ajax("/forums/messages/unflag?forumMessageId="+e.props.id,{contentType:"application/json",type:"POST"}).done(function(){return e.setState({hasFlags:!1,isFlagged:!1})})},text:"Unflag"}),t.push({onClick:function(){return $.ajax("/forums/messages/spam?forumMessageId="+e.props.id,{contentType:"application/json",type:"POST"}).done(function(){return e.setState({isDeleted:!!e.state.isSpammed&&e.state.isDeleted,isSpammed:!e.state.isSpammed})})},text:this.state.isSpammed?"Unspam":"Spam"},{onClick:function(){return $.ajax("/forums/messages/delete?forumMessageId="+e.props.id,{contentType:"application/json",type:"POST"}).done(function(){return e.setState({isDeleted:!e.state.isDeleted,isSpammed:!!e.state.isDeleted&&e.state.isSpammed})})},text:this.state.isDeleted?"Restore":"Delete"})),t},t.prototype.submitEdit=function(){var e=this;$.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:this.state.newAttachments.map(function(e){return e.blobToken}),message:this.markdownConverter.makeHtml(this.state.editDraft),rawMarkdown:this.state.editDraft}),type:"PUT",url:"/messages/"+this.props.id}).done(function(){e.setState({content:e.markdownConverter.makeHtml(e.state.editDraft),rawMarkdown:e.state.editDraft,showEditForm:!1})}).fail(function(){i.PageMessages.clear(),i.PageMessages.error({htmlMessage:'We had trouble saving your edit. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})})},t.prototype.submitReply=function(){var e=this;this.setState({isSubmittingReply:!0},function(){return $.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:e.state.replyAttachments.map(function(e){return e.blobToken}),message:e.markdownConverter.makeHtml(e.state.replyDraft),rawMarkdown:e.state.replyDraft}),type:"POST",url:"/messages/"+e.props.id+"/replies"}).done(function(t){e.setState({isSubmittingReply:!1,replyDraft:"",showReplyForm:!1},function(){window.Intercom("trackEvent","forum_post"),e.props.replySubmitted(function(){var e="#"+t,n=100;$("html, body").animate({scrollTop:$(e).position().top-n},200)})})}).fail(function(){e.setState({isSubmittingReply:!1}),i.PageMessages.clear(),i.PageMessages.error({htmlMessage:'We had trouble submitting your reply. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})})})},t.prototype.titleOptions=function(){var e=this,t=[{className:this.state.showOptions?"discussion-comment__title-element--selected":null,onClick:function(){return e.setState({showOptions:!e.state.showOptions})},text:"Options"}];return(i.Current.isAdmin||this.props.isUserAuthor)&&t.push({className:this.state.showEditForm?"discussion-comment__title-element--selected":null,onClick:function(){return e.setState({editDraft:e.props.rawMarkdown||r(e.props.content),showEditForm:!e.state.showEditForm})},text:"Edit"}),this.props.allowReplies&&t.push({className:this.props.parentReplyShown||this.state.showReplyForm?"discussion-comment__title-element--selected":null,onClick:function(){(e.props.onReply||e.onReply.bind(e))(function(){var t="#comment-reply-"+(e.props.parentId||e.props.id),n=100;$("html, body").animate({scrollTop:$(t).position().top-n},200)})},text:"Reply"}),t},t}(React.Component);t.CommentContainer=o},,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(4),s=n(40),o=n(108),l=n(98),c=n(109),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this,t=this.props.author;return React.createElement("div",{id:this.props.id.toString()},React.createElement(s.Modal,{buttonClassName:"discussion-comment__hidden",modalClassName:"flag-form__wrapper",modalIsShown:this.props.showFlagForm,onClose:this.props.flagFormClosed},React.createElement("div",{className:"flag-form"},React.createElement("div",{className:"flag-form__title"},"Flag this post?"),React.createElement("div",{className:"flag-form__body"},"Flagging notifies Kaggle that this message is spam, inappropriate, abusive, or violates rules. Do not use flagging to indicate you disagree with an opinion or to hide a post."),React.createElement("div",{className:"flag-form__actions"},React.createElement(s.Button,{classNames:"flag-form__action flag-form__action--secondary",onClick:this.props.flagFormClosed,text:"Cancel"}),React.createElement("span",{className:"flag-form__action-spacer"}),React.createElement(s.Button,{classNames:"flag-form__action",onClick:this.props.flagged,text:"Flag as Inappropriate"})))),this.props.parentUrl&&this.props.parentName?React.createElement("div",{className:"discussion-comment__parent"},React.createElement("span",{className:"fa fa-share"})," in response to ",React.createElement("a",{className:"discussion-comment__parent-link",href:this.props.parentUrl},this.props.parentName)):null,React.createElement(s.MediaQuery,{minWidth:s.Breakpoints.desktopMin},React.createElement("div",{className:"comment-wrapper"},React.createElement("div",{className:"discussion-comment__author"},React.createElement(s.Avatar,r({},this.props.author,{hideTooltop:!0,width:40})),this.props.medal?React.createElement("img",{className:"discussion-comment__medal",src:"/static/images/medals/discussion/"+this.props.medal+"L@1x.png",title:this.props.medal}):null),React.createElement("div",{className:i("discussion-comment",this.props.showReplyForm||this.props.replies&&this.props.replies.length>0?"discussion-comment--parent":null)},React.createElement("span",{className:"discussion-comment__title"},React.createElement("span",{className:"discussion-comment__title-author-link-wrapper"},React.createElement("a",{className:"discussion-comment__title-author-link"+("parent"==this.props.authorType?" discussion-comment__title-author-link--parent-author":"topic"==this.props.authorType?" discussion-comment__title-author-link--topic-author":""),href:t.userUrl,title:t.displayName},t.displayName)),this.props.competitionRanking?[React.createElement("span",{className:"discussion-comment__title-element"},"•"),React.createElement("span",{className:"discussion-comment__title-element"},"(",React.createElement(s.Ordinal,null,this.props.competitionRanking)," in this Competition)")]:null,this.props.kernelVersion?[React.createElement("span",{className:"discussion-comment__title-element"},"•"),React.createElement("span",{className:"discussion-comment__title-element"},this.props.kernelVersion==this.props.currentKernelVersion?"Posted on Latest Version":"Posted on Version "+this.props.kernelVersion)]:null,this.props.postDate?[React.createElement("span",{className:"discussion-comment__title-element"},"•"),React.createElement("span",{className:"discussion-comment__title-element"},React.createElement(s.TimeAgo,{time:this.props.postDate}))]:null,this.props.titleOptions.map(function(e){return[React.createElement("span",{className:"discussion-comment__title-element"},"•"),React.createElement("a",{className:i("discussion-comment__title-element","discussion-comment__title-element--link",e.className),href:e.href,onClick:e.onClick},e.text)]}),React.createElement("span",{className:"discussion-comment__title-element--spacer"}),this.props.isNew?null:React.createElement(s.VoteButton,{canDownvote:this.props.canDownvote&&s.Current.userId!=this.props.author.id,
canUpvote:s.Current.userId!=this.props.author.id,compact:!0,hasAlreadyVotedDown:this.props.currentUserVote===-1,hasAlreadyVotedUp:1===this.props.currentUserVote,totalVotes:this.props.votes,voteDownUrl:"/forums/messages/downvote?forumMessageId="+this.props.id,voteUpUrl:"/forums/messages/upvote?forumMessageId="+this.props.id,upVoteIntercomEventName:"forum_vote",downVoteIntercomEventName:"forum_vote"})),React.createElement("div",{className:i("discussion-comment__body",this.props.showEditForm?"discussion-comment__body--editing":null)},this.props.showEditForm?[React.createElement(s.MarkdownEditor,{alwaysShowToolbar:!0,compact:window.innerWidth<s.Breakpoints.desktopMin,defaultValue:this.props.rawMarkdown,onChangeCallback:function(t){return e.props.editDraftChanged(t)},placeholder:"Enter your comments",rows:3,shouldSanitizeHtml:!0,suffix:"-comment-"+this.props.id+"-edit",useTogglePreview:!0}),React.createElement("span",{className:i((this.props.attachments||[]).length>0||this.props.newAttachments.length>0?"discussion-comment__attachment-spacer":null)}),React.createElement(s.FileList,{compact:!0,fileListItems:this.props.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!0,canDelete:!0,deleteCallback:this.props.attachmentDeleted}),React.createElement(s.FileList,{compact:!0,fileListItems:this.props.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!0,canDelete:!0,deleteCallback:this.props.attachmentDeleted}),React.createElement("div",{className:"discussion-comment__action-buttons"},this.props.allowAttachments?React.createElement("div",{className:"discussion-comment__action-button"},React.createElement(s.FileUploader,{compact:!0,createBlobUrl:"/blobs/inbox/forum-message-attachment-files",mode:"multiple",onFileUploadFinished:this.props.attachmentAdded,autoRemoveOnComplete:!0,maxUncompressedBytesAllowed:5e8,maxCompressedBytesAllowed:5e8,suffix:"-comment-"+this.props.id,multipleFileButtonLabel:" "})):null,React.createElement("span",{className:"discussion-comment__flex-spacer"}),React.createElement("span",{className:"discussion-comment__editor-submit-wrapper"},React.createElement(s.Button,{isDisabled:this.props.isSubmittingReply,isSmall:!0,onClick:this.props.editSubmitted,text:this.props.isNew?"Post Comment":"Save Changes"})))]:[React.createElement(o.ForumMessageContent,{rawHtml:this.props.content,rawMarkdown:this.props.rawMarkdown||""}),React.createElement("span",{className:i((this.props.attachments||[]).length>0||this.props.newAttachments.length>0?"discussion-comment__attachment-spacer":null)}),React.createElement(s.FileList,{compact:!0,fileListItems:this.props.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!1,deleteCallback:this.props.attachmentDeleted}),React.createElement(s.FileList,{compact:!0,fileListItems:this.props.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!1,deleteCallback:this.props.attachmentDeleted})]),this.props.showOptions?React.createElement("span",{className:"discussion-comment__options"},React.createElement("span",{className:"discussion-comment__options-group"},this.props.leftOptions.map(function(e){return[React.createElement("a",{className:i("discussion-comment__option",e.className),href:e.href,onClick:e.onClick},e.text),React.createElement("span",{className:"discussion-comment__option-spacer"},"|")]})),React.createElement("span",{className:"discussion-comment__spacer"}),React.createElement("span",{className:"discussion-comment__options-group"},this.props.rightOptions.map(function(e){return[React.createElement("a",{className:i("discussion-comment__option",e.className),href:e.href,onClick:e.onClick},e.text),React.createElement("span",{className:"discussion-comment__option-spacer"},"|")]}))):null,this.props.showReplyForm||this.props.replies&&this.props.replies.length>0?React.createElement("div",{className:"discussion-comment__replies"},this.props.replies.map(function(t){return[React.createElement(l.CommentContainer,r({},t,{allowReplies:e.props.allowReplies,canDownvote:e.props.canDownvote,key:t.id,onReply:e.props.onReply,parentId:e.props.id,parentReplyShown:e.props.showReplyForm,quoted:e.props.quoted})),React.createElement("div",{className:"discussion-comment__linking-line"})]}),this.props.showReplyForm?React.createElement("div",{id:"comment-reply-"+this.props.id},React.createElement(c.NewCommentContainer,{currentUserTier:this.props.currentUserTier,editAttachments:this.props.replyAttachments,editAttachmentAdded:this.props.replyAttachmentAdded,editAttachmentDeleted:this.props.replyAttachmentDeleted,editDraft:this.props.replyDraft,editDraftChanged:this.props.replyDraftChanged,editSubmitted:this.props.replySubmitted,isSubmitting:this.props.isSubmittingReply})):null):null,this.props.showUpvoters?React.createElement("div",{className:"discussion-comment__upvoters"},this.props.upvoters.map(function(e){return React.createElement(s.Avatar,r({},e,{className:"discussion-comment__upvoter"}))})):null))),React.createElement(s.MediaQuery,{minWidth:0,maxWidth:s.Breakpoints.tabletMax},React.createElement("div",{className:i("discussion-comment",this.props.showReplyForm||this.props.replies&&this.props.replies.length>0?"discussion-comment--parent":null)},React.createElement("span",{className:"discussion-comment__title"},React.createElement("a",{className:"discussion-comment__title-author-link"+("parent"==this.props.authorType?" discussion-comment__title-author-link--parent-author":"topic"==this.props.authorType?" discussion-comment__title-author-link--topic-author":""),href:t.userUrl,title:t.displayName},t.displayName),this.props.postDate?[React.createElement("span",{className:"discussion-comment__title-element"},"•"),React.createElement("span",{className:"discussion-comment__title-element"},React.createElement(s.TimeAgo,{time:this.props.postDate}))]:null,React.createElement("span",{className:"discussion-comment__title-element--spacer"}),this.props.isNew?null:React.createElement(s.VoteButton,{canDownvote:this.props.canDownvote&&s.Current.userId!=this.props.author.id,canUpvote:s.Current.userId!=this.props.author.id,compact:!0,hasAlreadyVotedDown:this.props.currentUserVote===-1,hasAlreadyVotedUp:1===this.props.currentUserVote,totalVotes:this.props.votes,voteDownUrl:"/forums/messages/downvote?forumMessageId="+this.props.id,voteUpUrl:"/forums/messages/upvote?forumMessageId="+this.props.id})),React.createElement("div",{className:i("discussion-comment__body",this.props.showEditForm?"discussion-comment__body--editing":null)},React.createElement("div",{className:"discussion-comment__content"},this.props.showEditForm?[React.createElement(s.MarkdownEditor,{alwaysShowToolbar:!0,compact:window.innerWidth<s.Breakpoints.desktopMin,defaultValue:this.props.rawMarkdown,onChangeCallback:function(t){return e.props.editDraftChanged(t)},placeholder:"Enter your comments",rows:3,shouldSanitizeHtml:!0,suffix:"-comment-"+this.props.id+"-edit",useTogglePreview:!0}),React.createElement("span",{className:i((this.props.attachments||[]).length>0||this.props.newAttachments.length>0?"discussion-comment__attachment-spacer":null)}),React.createElement(s.FileList,{compact:!0,fileListItems:this.props.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!0,canDelete:!0,deleteCallback:this.props.attachmentDeleted}),React.createElement(s.FileList,{compact:!0,fileListItems:this.props.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!0,canDelete:!0,deleteCallback:this.props.attachmentDeleted}),React.createElement("div",{className:"discussion-comment__action-buttons"},this.props.allowAttachments?React.createElement("div",{className:"discussion-comment__action-button"},React.createElement(s.FileUploader,{compact:!0,createBlobUrl:"/blobs/inbox/forum-message-attachment-files",mode:"multiple",onFileUploadFinished:this.props.attachmentAdded,autoRemoveOnComplete:!0,maxUncompressedBytesAllowed:5e8,maxCompressedBytesAllowed:5e8,suffix:"-comment-"+this.props.id,multipleFileButtonLabel:" "})):null,React.createElement("span",{className:"discussion-comment__flex-spacer"}),React.createElement("span",{className:"discussion-comment__editor-submit-wrapper"},React.createElement(s.Button,{isDisabled:this.props.isSubmittingReply,isSmall:!0,onClick:this.props.editSubmitted,text:this.props.isNew?"Post Comment":"Save Changes"})))]:[React.createElement(o.ForumMessageContent,{rawHtml:this.props.content,rawMarkdown:this.props.rawMarkdown||""}),React.createElement("span",{className:i((this.props.attachments||[]).length>0||this.props.newAttachments.length>0?"discussion-comment__attachment-spacer":null)}),React.createElement(s.FileList,{compact:!0,fileListItems:this.props.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!1,deleteCallback:this.props.attachmentDeleted}),React.createElement(s.FileList,{compact:!0,fileListItems:this.props.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!1,deleteCallback:this.props.attachmentDeleted})]),React.createElement("div",{className:"discussion-comment__title-elements"},this.props.titleOptions.map(function(e){return React.createElement("a",{className:i("discussion-comment__title-element","discussion-comment__title-element--link",e.className),href:e.href,onClick:e.onClick},e.text)})),this.props.showOptions?React.createElement("span",{className:"discussion-comment__options"},this.props.leftOptions.map(function(e){return React.createElement("a",{className:i("discussion-comment__option",e.className),href:e.href,onClick:e.onClick},e.text)}),this.props.rightOptions.map(function(e){return React.createElement("a",{className:i("discussion-comment__option",e.className),href:e.href,onClick:e.onClick},e.text)})):null,this.props.showUpvoters?React.createElement("div",{className:"discussion-comment__upvoters"},this.props.upvoters.map(function(e){return React.createElement(s.Avatar,r({},e,{className:"discussion-comment__upvoter"}))})):null,this.props.showReplyForm||this.props.replies&&this.props.replies.length>0?React.createElement("div",{className:"discussion-comment__replies"},React.createElement("div",{className:"discussion-comment__linking-line"},this.props.replies.map(function(t){return[React.createElement(l.CommentContainer,r({},t,{allowReplies:e.props.allowReplies,canDownvote:e.props.canDownvote,key:t.id,onReply:e.props.onReply,parentId:e.props.id,parentReplyShown:e.props.showReplyForm,quoted:e.props.quoted}))]}),this.props.showReplyForm?React.createElement("div",{id:"comment-reply-"+this.props.id},React.createElement(c.NewCommentContainer,{currentUserTier:this.props.currentUserTier,editAttachments:this.props.replyAttachments,editAttachmentAdded:this.props.replyAttachmentAdded,editAttachmentDeleted:this.props.replyAttachmentDeleted,editDraft:this.props.replyDraft,editDraftChanged:this.props.replyDraftChanged,editSubmitted:this.props.replySubmitted,isSubmitting:this.props.isSubmittingReply})):null)):null))))},t}(React.Component);t.Comment=p},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.componentDidUpdate=function(){var e=this,t=["$$","\\[","\\("],n=t.some(function(t){return(e.props.rawHtml||"").indexOf(t)>-1||e.props.rawMarkdown.indexOf(t)>-1});n&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,this.renderedDiv])},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"forum-message-content",dangerouslySetInnerHTML:{__html:this.props.rawHtml||""},ref:function(t){e.renderedDiv=t}})},t}(React.Component);t.ForumMessageContent=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=(n(99),n(40)),i=n(107),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.markdownConverter=new Markdown.getSanitizingConverter,t}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement(i.Comment,{allowAttachments:this.props.allowAttachments,attachmentAdded:this.props.editAttachmentAdded,attachmentDeleted:this.props.editAttachmentDeleted,author:{displayName:$("<textarea/>").html(r.Current.userDisplayName).text(),id:r.Current.userId,thumbnailUrl:r.Current.userThumbnailUrl,tier:this.props.currentUserTier,userUrl:r.Current.userProfileUrl},editDraft:this.props.editDraft,editDraftChanged:function(t){return e.props.editDraftChanged(t)},editSubmitted:function(){return e.props.editSubmitted()},id:9e7*Math.random()+1e7,isNew:!0,isSubmittingReply:this.props.isSubmitting,leftOptions:[],newAttachments:this.props.editAttachments,rawMarkdown:this.props.editDraft,rightOptions:[],showEditForm:!0,titleOptions:[]})},t}(React.Component);t.NewCommentContainer=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(111),i=n(7),s=n(32),o=function(e){function t(t){var n=e.call(this,t)||this;return n.hostSegmentModifier=n.props.competition.isInClass?"inclass":n.props.competition.hostSegment.replace(" ",""),n}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement(s.BlockLink,{key:this.props.index,href:this.props.competition.competitionUrl,onClick:function(){return e.props.onClick("competition-"+e.props.competition.competitionId,e.props.competition.competitionUrl,e.props.index)}},React.createElement("div",{className:"competition-card competition-card--"+this.hostSegmentModifier+" "+(this.props.competition.userHasEntered?"competition-card--user-entered":"")},React.createElement("div",null,React.createElement("img",{src:this.props.competition.thumbnailImageUrl,alt:this.props.competition.competitionTitle,className:"competition-card__thumbnail"})),React.createElement("div",{className:"competition-card__title"},React.createElement("div",null,React.createElement("a",{href:this.props.competition.competitionUrl,className:"competition-card__competition-link"},this.props.competition.competitionTitle),this.props.competition.isPrivate?React.createElement("span",{className:"competition-card__tag"},"Private"):null,this.props.competition.isLimited?React.createElement("span",{className:"competition-card__tag"},"Limited"):null),React.createElement("div",{className:"competition-card__description"},this.props.competition.competitionDescription),React.createElement("div",{className:"competition-card__meta"},React.createElement("span",{className:"competition-card__host-segment competition-card__host-segment--"+this.hostSegmentModifier},this.props.competition.isInClass?"In-Class":this.props.competition.hostSegment),React.createElement("span",{className:"competition-card__deadline"},"   ·   ",React.createElement(i.TimeAgo,{time:this.props.competition.deadline})),this.props.competition.userHasEntered?React.createElement("span",null,"   ·   Entered"):null,this.props.competition.totalKernels?React.createElement("span",null,"   ·   ",React.createElement("a",{className:"competition-card__kernel-link",href:this.props.competition.competitionUrl+"/kernels"},React.createElement(r.Pluralize,{count:this.props.competition.totalKernels,formatNumber:!0,word:"kernel"}))):null)),React.createElement("div",{className:"competition-card__stats"},"Knowledge"!=this.props.competition.rewardDisplay?React.createElement("div",null,this.props.competition.rewardDisplay):null,React.createElement("div",{className:"competition-card__teams"},React.createElement(r.Pluralize,{count:this.props.competition.totalTeams,formatNumber:!0,word:"team"})))))},t}(React.Component);t.CompetitionCard=o,o.docs={title:"CompetitionCard",description:"A quick glance at a given competition",examples:[React.createElement(o,{competition:{competitionDescription:"Just a nonexistent competition",competitionId:123456789,competitionTitle:"Sample competition",competitionUrl:"#",deadline:new Date,hostSegment:"playground",isInClass:!1,isLimited:!1,isPrivate:!0,organizationName:"Some Org",organizationUrl:"#",rewardDisplay:"100000 Kudos",rewardQuantity:1e5,rewardTypeName:"Kudos",thumbnailImageUrl:"https://kaggle2.blob.core.windows.net/avatars/thumbnails/default-thumb.png",totalKernels:999,totalTeams:999,userHasEntered:!1}})],staticMarkup:'<CompetitionCard\n    competition={{\n        competitionDescription: "Just a nonexistent competition",\n        competitionId: 123456789,\n        competitionTitle: "Sample competition",\n        competitionUrl: "#",\n        deadline: new Date(),\n        hostSegment: "playground",\n        isInClass: false,\n        isLimited: false,\n        isPrivate: true,\n        organizationName: "Some Org",\n        organizationUrl: "#",\n        rewardDisplay: "Playground",\n        rewardQuantity: 100000,\n        rewardTypeName: "Kudos",\n        thumbnailImageUrl: "https://kaggle2.blob.core.windows.net/avatars/thumbnails/default-thumb.png",\n        totalKernels: 999,\n        totalTeams: 999,\n        userHasEntered: false\n    }} />'}},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(3),i=n(112),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.formattedNumber=function(e){return i.numberWithCommas(e)},t.prototype.render=function(){return this.props.formatNumber?React.createElement("span",null,i.numberWithCommas(this.props.count)+" "+r(this.props.word,this.props.count)):React.createElement("span",null,r(this.props.word,this.props.count,!0))},t}(React.Component);t.Pluralize=s},function(e,t){"use strict";function n(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};t.numberWithCommas=n;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement("span",null,n(this.props.number))},t}(React.Component);t.FormatNumber=r},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(40),i=n(40),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement("div",null,React.createElement(i.Modal,{onClose:this.props.onCancel,onShow:function(){},modalIsShown:this.props.isShown},React.createElement("div",{className:"confirm__modal"},React.createElement("div",{className:"confirm__title"},this.props.title),React.createElement("div",{className:"confirm__content"},this.props.children),React.createElement("div",{className:"confirm__buttons"},React.createElement("div",{className:"confirm__cancel-button",onClick:this.props.onCancel},this.props.cancelText),React.createElement("div",{className:"confirm__confirm-button",onClick:this.props.onConfirm},this.props.confirmText)))))},t}(React.Component);t.Confirm=s;var o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isShown:!1},n}return a(t,e),t.prototype.handleClick=function(){this.setState({isShown:!this.state.isShown})},t.prototype.render=function(){var e=this;return React.createElement("div",null,React.createElement(s,{isShown:this.state.isShown,title:"Are you for real??",children:"This is super duper serious, did you really want to click that?",confirmText:"Fo sho!",cancelText:"I'm outta here.",onConfirm:function(){return e.handleClick()},onCancel:function(){return e.handleClick()}}),React.createElement(r.ButtonAutoWidth,{onClick:function(){return e.handleClick()},text:"Click me! I Triple Dog Dare You!"}))},t}(React.Component);s.docs={title:"Confirm",description:"Displays a confirmation modal. Stateless (State and callbacks are controlled by its parent).",examples:[React.createElement(o,null)],staticMarkup:'<Confirm\n    isShown={this.state.isShown}\n    title="Are you for real??"\n    children="This is super duper serious, did you really want to click that?"\n    confirmText="Fo sho!"\n    cancelText="I\'m outta here."\n    onConfirm={() => this.handleClick()}\n    onCancel={() => this.handleClick()} />\n\n<ButtonAutoWidth\n    onClick={() => this.handleClick()}\n    text="Click me! I Triple Dog Dare You!" />\n        )\n    }\n}'}},function(e,t){"use strict";function n(e,t){return $.ajax({type:"POST",url:r(e.addUrl,t),contentType:"application/json",dataType:"json",data:JSON.stringify({sourceId:e.Id})})}function a(e,t){return $.ajax({type:"DELETE",url:r(e.removeUrl,t),contentType:"application/json",dataType:"json"})}function r(e,t){return e.replace(/\/kernels\/\d+\//,"/kernels/"+t+"/")}t.addDataSource=n,t.removeDataSource=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(86),i=function(e){function t(t){var n=e.call(this,t)||this;return n.onCancel=function(){n.props.cancelCallback(n.props.sectionName,n.props.cancelPropName)},n.onToggle=function(){n.props.toggleCallback(n.props.sectionName)},n.state={isEditing:t.isEditing},n}return a(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({isEditing:e.isEditing})},t.prototype.render=function(){var e=React.createElement(r.ButtonRoundEdged,{onClick:this.onToggle,className:this.props.className||"edit-state-toggle-button",text:this.state.isEditing?this.props.saveButtonText||"Save":this.props.editButtonText||"Edit"});return this.state.isEditing&&this.props.cancelCallback&&this.props.cancelPropName?React.createElement("div",{className:"edit-state-toggle-button__multiple-button-container"},React.createElement("a",{onClick:this.onCancel,className:"edit-state-toggle-button--cancel"},"cancel"),e):e},t}(React.Component);t.EditStateToggleButton=i;var s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isEditing:t.isEditing||!1},n}return a(t,e),t.prototype.onButtonClick=function(){this.setState({isEditing:!this.state.isEditing})},t.prototype.render=function(){var e=this.onButtonClick.bind(this);return React.createElement(i,{isEditing:!1,sectionName:"isEditing",toggleCallback:function(){return e()}})},t}(React.Component);t.EditStateToggleButtonExample=s,i.docs={title:"EditStateToggleButton",description:"Toggleable button that is good at handling binary state changes.",examples:[React.createElement(i,{sectionName:"Example",toggleCallback:function(e){return console.log("State changed: "+e)}})],staticMarkup:'<EditStateToggleButton\n    sectionName="Example"\n    toggleCallback={(name) => console.log("State changed:" + name)} />'}},function(e,t,n){"use strict";var a,r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};!function(e){e[e.Compressing=0]="Compressing",e[e.Waiting=1]="Waiting",e[e.Uploading=2]="Uploading",e[e.Paused=3]="Paused",e[e.Canceled=4]="Canceled",e[e.Failed=5]="Failed",e[e.Complete=6]="Complete"}(a||(a={}));var i=n(2),s=n(38),o=n(4),l=(n(117),n(161)),c=function(e){function t(t){var n=e.call(this,t)||this;return n.dragCount=0,n.dropFiles=function(e,t){"single"==n.props.mode&&n.state.files.length?n.removeFile(n.state.files[0],function(){n.uploadFiles(e)}):n.uploadFiles(e)},n.uploadFiles=function(e){for(var t=[],r=0,i=e;r<i.length;r++){var s=i[r];t=t.concat(s)}t=t.filter(function(e){return 0==n.state.files.filter(function(t){return t.name==e.name&&t.status!=a.Canceled&&t.status!=a.Failed}).length}),n.addFilesToState(t)},n.addFilesToState=function(e){var t=n.state.files.filter(function(t){return 0==e.filter(function(e){return e.name==t.name}).length});n.setState({files:t.concat(e.map(function(e,r){var i=n.fileIsCompressed(e),o=null;return n.props.maxCompressedBytesAllowed&&i&&e.size>n.props.maxCompressedBytesAllowed&&(o="File exceeds the maximum allowed bytes for compressed files ("+s(n.props.maxCompressedBytesAllowed)+")"),n.props.maxUncompressedBytesAllowed&&!i&&e.size>n.props.maxUncompressedBytesAllowed&&(o="File exceeds the maximum allowed bytes ("+s(n.props.maxUncompressedBytesAllowed)+")"),{index:r+t.length,name:e.name,totalBytes:e.size,html5File:e,status:o?a.Failed:a.Waiting,lastModifiedDateUtc:e.lastModifiedDate?new Date(e.lastModifiedDate.toUTCString()).getTime():null,isCompressed:i,failureMessage:o}}))},function(){e.forEach(function(e){return n.compressThenStartUploadingFile(e.name)})})},n.compressThenStartUploadingFile=function(e){n.getFileState(e);n.startUploadingFile(e)},n.startUploadingFile=function(e){var t=n.getFileState(e);n.props.onFileUploadStarted&&n.props.onFileUploadStarted(e),i.ajax({url:n.props.createBlobUrl,type:"POST",dataType:"json",data:{fileName:t.compressedName||t.name,contentLength:t.totalBytes,lastModifiedDateUtc:t.lastModifiedDateUtc},success:function(e){n.setFileState(t.name,{uploadUrl:e.resumeUrl||e.createUrl,totalBytesUploadedInPreviousChunks:e.uploadedBytes,totalBytesUplaodedInCurrentChunk:0,maxChunkSize:e.maxChunkSize,status:t.status},function(){e.isComplete?n.markFileAsComplete(t.name,e.token):n.uploadNextChunk(t.name)})}})},n.uploadNextChunk=function(e){var t=n.getFileState(e);switch(t.status){case a.Canceled:case a.Complete:case a.Failed:return}var r=t.totalBytesUploadedInPreviousChunks,s=Math.min(t.totalBytesUploadedInPreviousChunks+t.maxChunkSize-1,t.totalBytes),o=t.html5File.slice(r,s,t.html5File.type),l=new FormData;l.append("file",o,t.compressedName||t.name);i.ajax({url:n.getFileState(t.name).uploadUrl,type:"POST",dataType:"json",headers:{"Content-Range":"bytes "+r+"-"+s+"/"+t.totalBytes},contentType:!1,processData:!1,data:l,xhr:function(){var e=i.ajaxSettings.xhr();return n.setFileState(t.name,{abortCallback:function(){e.abort()}}),e.upload.onprogress=function(e){return n.setFileState(t.name,{status:a.Uploading,totalBytesUplaodedInCurrentChunk:e.loaded})},e.upload.onload=function(e){return n.setFileState(t.name,{status:a.Uploading,totalBytesUplaodedInCurrentChunk:e.loaded})},e},success:function(e){e.isComplete?n.markFileAsComplete(t.name,e.token):n.setFileState(t.name,{totalBytesUploadedInPreviousChunks:e.uploadedBytes,totalBytesUplaodedInCurrentChunk:0},function(){return n.uploadNextChunk(t.name)})}})},n.cancelFile=function(e){n.multipleFileInput&&(n.multipleFileInput.value=""),n.singleFileInput&&(n.singleFileInput.value=""),n.removeFile(e)},n.removeFile=function(e,t){e.abortCallback&&e.abortCallback();var a=n.state.files.filter(function(t){return t.name!=e.name});n.setState({files:a},function(){t&&t()})},n.pauseFile=function(e){e.abortCallback(),n.setFileState(e.name,{status:a.Paused})},n.markFileAsComplete=function(e,t){var r=n.getFileState(e),i=function(){return n.props.onFileUploadFinished(r.compressedName||r.name,t,r.totalBytes)};n.setFileState(e,{status:a.Complete,totalBytesUploadedInPreviousChunks:r.totalBytes,token:t},i)},n.getFileState=function(e){var t=n.state.files.filter(function(t){return t.name==e});return 0==t.length?null:t[0]},n.setFileState=function(e,t,a){var r=n.state.files.filter(function(t){return t.name!=e}),s=n.getFileState(e);n.setState(i.extend({},n.state,{files:r.concat(i.extend({},s,t))}),a)},n.state={files:[],isDraggingOverWindow:!1,isDraggingOverFileDrop:!1},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this;document.addEventListener("dragenter",function(){e.dragCount++,e.setState({isDraggingOverWindow:!0})}),document.addEventListener("dragleave",function(){0==--e.dragCount&&e.setState({isDraggingOverWindow:!1})})},t.prototype.componentDidUnmount=function(){document.removeEventListener("dragleave"),document.removeEventListener("dragenter")},t.prototype.componentDidUpdate=function(e,t){if(this.props.onFilesPendingUpdated){var n=function(e){return e.filter(function(e){return e.status==a.Paused||e.status==a.Uploading||e.status==a.Waiting}).length},r=function(e){return e.filter(function(e){return e.status==a.Complete}).length},i=n(t.files),s=r(t.files),o=n(this.state.files),l=r(this.state.files);i==o&&s==l||this.props.onFilesPendingUpdated(o,l)}},t.prototype.fileIsCompressed=function(e){var t=["application/zip","application/x-zip","application/x-zip-compressed","application/x-compressed","application/x-compress","application/gzip","application/gzipped","application/gzip-compressed","application/gunzip","application/x-gzip","gzip/document","application/x-7z-compressed","application/x-rar-compressed"],n=t.filter(function(t){return t===e.type}).length>0;return n},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"file-uploader"},React.createElement(l,{name:"files"+this.props.suffix,id:"files"+this.props.suffix,className:"file-uploader__file-drop file-uploader__file-drop--"+(this.props.compact?"compact":"full")+" "+(this.state.isDraggingOverWindow?"file-uploader__file-drop--window-active":"")+" "+(this.state.isDraggingOverFileDrop?"file-uploader__file-drop--file-drop-active":""),onDrop:this.dropFiles,multiple:"multiple"==this.props.mode,onDragLeave:function(){return e.setState({isDraggingOverFileDrop:!1})},onDragEnter:function(){return e.setState({isDraggingOverFileDrop:!0})}},React.createElement("div",{className:"fa "+(!this.props.compact&&this.state.isDraggingOverWindow?"fa-hand-grab-o":"fa-upload")+" file-uploader__upload-icon "+(this.props.compact?"file-uploader__upload-icon--compact":"")}),this.props.compact?null:this.state.isDraggingOverWindow?React.createElement("div",null,"Drop ","multiple"==this.props.mode?"Files":"File"," Here"):React.createElement("div",null,"Upload ","multiple"==this.props.mode?"Files":"File")),React.createElement("div",{className:"file-uploader__files-container",style:this.state.files.length>0?{}:{display:"none"}},null==this.state?"":this.state.files.sort(function(e,t){return e.index>t.index?1:-1}).map(function(t){if(e.props.autoRemoveOnComplete&&t.status==a.Complete)return null;var n=Math.min((t.totalBytesUploadedInPreviousChunks||0)+(t.totalBytesUplaodedInCurrentChunk||0),t.totalBytes),r=n/t.totalBytes*100,i=t.status==a.Waiting||t.status==a.Uploading||t.status==a.Paused,l=t.status==a.Waiting||t.status==a.Uploading,c=t.status==a.Paused,p=c?{display:"none"}:null,u=c?null:{display:"none"},d={width:r+"%"},m=s(t.totalBytes-n,{output:"object"}),h=s(t.totalBytes);return React.createElement("div",{className:"file-uploader__file-row",key:t.name},React.createElement("div",{className:"file-uploader__file-name"},t.compressedName||t.name," (",h,") "),React.createElement("div",{className:"file-uploader__progress-container"},React.createElement("div",{className:o("file-uploader__progress-bar","file-uploader__progress-bar--"+a[t.status].toLowerCase()),style:d}),t.status==a.Failed?React.createElement("div",{className:"file-uploader__status-container file-uploader__status-container--failed"},"Failed: "+t.failureMessage):React.createElement("div",{className:o("file-uploader__status-container","file-uploader__status-container--"+a[t.status].toLowerCase())},React.createElement("div",{title:"Cancel upload",className:o("file-uploader__status-button","file-uploader__status-button--cancel",i?null:"file-uploader__status-button--disabled"),onClick:i?function(){return e.cancelFile(t)}:null}),React.createElement("div",{title:"Pause upload",className:o("file-uploader__status-button","file-uploader__status-button--pause",l?null:"file-uploader__status-button--disabled"),onClick:l?function(){
return e.pauseFile(t)}:null,style:p}),React.createElement("div",{title:"Resume upload",className:o("file-uploader__status-button","file-uploader__status-button--resume",c?null:"file-uploader__status-button--disabled"),onClick:c?function(){return e.startUploadingFile(t.name)}:null,style:u}),React.createElement("div",{className:"file-uploader__status"},a[t.status]),React.createElement("div",{className:"file-uploader__percent"},Math.floor(r),"%"),t.status==a.Complete?React.createElement("div",{className:"file-uploader__bytes"},h):React.createElement("div",{className:"file-uploader__bytes"},m.value.toFixed(2)+" "+m.suffix," left"))))})))},t}(React.Component);t.FileUploader=c,c.docs={title:"FileUploader",description:"Upload files for the win! Works with single files or multiple files.",examples:[React.createElement("div",{className:"file-uploader__example"},React.createElement(c,{createBlobUrl:"#",mode:"single"})),React.createElement("div",{className:"file-uploader__example"},React.createElement(c,{compact:!0,createBlobUrl:"#",mode:"multiple"}))],staticMarkup:'<FileUploader\n    createBlobUrl="#"\n    mode={FileUploaderMode.Single} />\n<FileUploader\n    compact={true}\n    createBlobUrl="#"\n    mode={FileUploaderMode.Multiple} />'}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){/*!
	 * react-dropzone (https://npmjs.com/package/react-dropzone)
	 * @license MIT
	 * @version 3.11.0
	 * ==react-dropzone/LICENSE==
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2014 Param Aggarwal
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in all
	 * copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	 * SOFTWARE.undefined
	 */
!function(t,a){e.exports=a(n(15))}(this,function(e){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=n(1),u=a(p),d=n(2),m=a(d),h=n(3),f=n(4),g=a(f),v="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input"),y=function(e){function t(e,n){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.onClick=a.onClick.bind(a),a.onDragStart=a.onDragStart.bind(a),a.onDragEnter=a.onDragEnter.bind(a),a.onDragLeave=a.onDragLeave.bind(a),a.onDragOver=a.onDragOver.bind(a),a.onDrop=a.onDrop.bind(a),a.onFileDialogCancel=a.onFileDialogCancel.bind(a),a.fileAccepted=a.fileAccepted.bind(a),a.isFileDialogActive=!1,a.state={isDragActive:!1},a}return o(t,e),c(t,null,[{key:"renderChildren",value:function(e,t,n){return"function"==typeof e?e({isDragActive:t,isDragReject:n}):e}}]),c(t,[{key:"componentDidMount",value:function(){this.enterCounter=0,document.body.onfocus=this.onFileDialogCancel}},{key:"componentWillUnmount",value:function(){document.body.onfocus=null}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){e.preventDefault(),++this.enterCounter;var t=this.allFilesAccepted((0,g["default"])(e,this.props.multiple));this.setState({isDragActive:t,isDragReject:!t}),this.props.onDragEnter&&this.props.onDragEnter.call(this,e)}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect="copy"}catch(t){}return this.props.onDragOver&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){e.preventDefault(),--this.enterCounter>0||(this.setState({isDragActive:!1,isDragReject:!1}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function n(e){var t=this,a=this.props,n=a.onDrop,r=a.onDropAccepted,i=a.onDropRejected,s=a.multiple,o=a.disablePreview,l=(0,g["default"])(e,s),c=[],p=[];e.preventDefault(),this.enterCounter=0,this.isFileDialogActive=!1,l.forEach(function(e){o||(e.preview=window.URL.createObjectURL(e)),t.fileAccepted(e)&&t.fileMatchSize(e)?c.push(e):p.push(e)}),n&&n.call(this,c,p,e),p.length>0&&i&&i.call(this,p,e),c.length>0&&r&&r.call(this,c,e),this.setState({isDragActive:!1,isDragReject:!1})}},{key:"onClick",value:function a(e){var t=this.props,a=t.onClick,n=t.disableClick;n||(e.stopPropagation(),this.open(),a&&a.call(this,e))}},{key:"onFileDialogCancel",value:function p(){var p=this.props.onFileDialogCancel,e=this.fileInputEl,t=this.isFileDialogActive;p&&t&&setTimeout(function(){var n=e.files;n.length||(t=!1,p())},300)}},{key:"fileAccepted",value:function(e){return(0,m["default"])(e,this.props.accept)}},{key:"fileMatchSize",value:function(e){return e.size<=this.props.maxSize&&e.size>=this.props.minSize}},{key:"allFilesAccepted",value:function(e){return e.every(this.fileAccepted)}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this,n=this.props,a=n.accept,i=n.activeClassName,s=n.inputProps,o=n.multiple,c=n.name,p=n.rejectClassName,d=n.children,m=r(n,["accept","activeClassName","inputProps","multiple","name","rejectClassName","children"]),h=m.activeStyle,f=m.className,g=m.rejectStyle,y=m.style,b=r(m,["activeStyle","className","rejectStyle","style"]),E=this.state,_=E.isDragActive,R=E.isDragReject;f=f||"",_&&i&&(f+=" "+i),R&&p&&(f+=" "+p),f||y||h||g||(y={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},h={borderStyle:"solid",backgroundColor:"#eee"},g={borderStyle:"solid",backgroundColor:"#ffdddd"});var w=void 0;w=h&&_?l({},y,h):g&&R?l({},y,g):l({},y);var C={accept:a,type:"file",style:{display:"none"},multiple:v&&o,ref:function(t){return e.fileInputEl=t},onChange:this.onDrop};c&&c.length&&(C.name=c);var S=["acceptedFiles","disablePreview","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize"],N=l({},b);return S.forEach(function(e){return delete N[e]}),u["default"].createElement("div",l({className:f,style:w},N,{onClick:this.onClick,onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop}),t.renderChildren(d,_,R),u["default"].createElement("input",l({},s,C)))}}]),t}(u["default"].Component);y.defaultProps={disablePreview:!1,disableClick:!1,multiple:!0,maxSize:1/0,minSize:0},y.propTypes={onClick:u["default"].PropTypes.func,onDrop:u["default"].PropTypes.func,onDropAccepted:u["default"].PropTypes.func,onDropRejected:u["default"].PropTypes.func,onDragStart:u["default"].PropTypes.func,onDragEnter:u["default"].PropTypes.func,onDragOver:u["default"].PropTypes.func,onDragLeave:u["default"].PropTypes.func,children:u["default"].PropTypes.oneOfType([u["default"].PropTypes.node,u["default"].PropTypes.func]),style:(0,h.deprecate)(u["default"].PropTypes.object,"Prop style is deprecated. Use function as children to style dropzone and its contents."),activeStyle:(0,h.deprecate)(u["default"].PropTypes.object,"Prop activeStyle is deprecated. Use function as children to style dropzone and its contents."),rejectStyle:(0,h.deprecate)(u["default"].PropTypes.object,"Prop rejectStyle is deprecated. Use function as children to style dropzone and its contents."),className:(0,h.deprecate)(u["default"].PropTypes.string,"Prop className is deprecated. Use function as children to style dropzone and its contents."),activeClassName:(0,h.deprecate)(u["default"].PropTypes.string,"Prop activeClassName is deprecated. Use function as children to style dropzone and its contents."),rejectClassName:(0,h.deprecate)(u["default"].PropTypes.string,"Prop rejectClassName is deprecated. Use function as children to style dropzone and its contents."),disablePreview:u["default"].PropTypes.bool,disableClick:u["default"].PropTypes.bool,onFileDialogCancel:u["default"].PropTypes.func,inputProps:u["default"].PropTypes.object,multiple:u["default"].PropTypes.bool,accept:u["default"].PropTypes.string,name:u["default"].PropTypes.string,maxSize:(0,h.deprecate)(u["default"].PropTypes.number,"Prop maxSize is deprecated and will be removed in the next major release"),minSize:(0,h.deprecate)(u["default"].PropTypes.number,"Prop minSize is deprecated and will be removed in the next major release")},t["default"]=y,e.exports=t["default"]},function(t,n){t.exports=e},function(e,t){e.exports=function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";t.__esModule=!0,n(8),n(9),t["default"]=function(e,t){if(e&&t){var n=function(){var n=Array.isArray(t)?t:t.split(","),a=e.name||"",r=e.type||"",i=r.replace(/\/.*$/,"");return{v:n.some(function(e){var t=e.trim();return"."===t.charAt(0)?a.toLowerCase().endsWith(t.toLowerCase()):/\/\*$/.test(t)?i===t.replace(/\/.*$/,""):r===t})}}();if("object"==typeof n)return n.v}return!0},e.exports=t["default"]},function(e,t){var n=e.exports={version:"1.2.2"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var a=n(2),r=n(1),i=n(4),s=n(19),o="prototype",l=function(e,t){return function(){return e.apply(t,arguments)}},c=function(e,t,n){var p,u,d,m,h=e&c.G,f=e&c.P,g=h?a:e&c.S?a[t]||(a[t]={}):(a[t]||{})[o],v=h?r:r[t]||(r[t]={});h&&(n=t);for(p in n)u=!(e&c.F)&&g&&p in g,d=(u?g:n)[p],m=e&c.B&&u?l(d,a):f&&"function"==typeof d?l(Function.call,d):d,g&&!u&&s(g,p,d),v[p]!=d&&i(v,p,m),f&&((v[o]||(v[o]={}))[p]=d)};a.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,e.exports=c},function(e,t,n){var a=n(5),r=n(18);e.exports=n(22)?function(e,t,n){return a.setDesc(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t){var n=0,a=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+a).toString(36))}},function(e,t,n){var a=n(20)("wks"),r=n(2).Symbol;e.exports=function(e){return a[e]||(a[e]=r&&r[e]||(r||n(6))("Symbol."+e))}},function(e,t,n){n(26),e.exports=n(1).Array.some},function(e,t,n){n(25),e.exports=n(1).String.endsWith},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var a=n(10);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,r){return e.call(t,n,a,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[n(7)("match")]=!1,!"/./"[e](t)}catch(r){}}return!0}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var a=n(16),r=n(11),i=n(7)("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var a=n(2),r=n(4),i=n(6)("src"),s="toString",o=Function[s],l=(""+o).split(s);n(1).inspectSource=function(e){return o.call(e)},(e.exports=function(e,t,n,s){"function"==typeof n&&(r(n,i,e[t]?""+e[t]:l.join(String(t))),"name"in n||(n.name=t)),e===a?e[t]=n:(s||delete e[t],r(e,t,n))})(Function.prototype,s,function(){return"function"==typeof this&&this[i]||o.call(this)})},function(e,t,n){var a=n(2),r="__core-js_shared__",i=a[r]||(a[r]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var a=n(17),r=n(13);e.exports=function(e,t,n){if(a(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},function(e,t,n){e.exports=!n(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},function(e,t,n){var a=n(23),r=Math.min;e.exports=function(e){return e>0?r(a(e),9007199254740991):0}},function(e,t,n){"use strict";var a=n(3),r=n(24),i=n(21),s="endsWith",o=""[s];a(a.P+a.F*n(14)(s),"String",{endsWith:function(e){var t=i(this,e,s),n=arguments,a=n.length>1?n[1]:void 0,l=r(t.length),c=void 0===a?l:Math.min(r(a),l),p=String(e);return o?o.call(t,p,c):t.slice(c-p.length,c)===p}})},function(e,t,n){var a=n(5),r=n(3),i=n(1).Array||Array,s={},o=function(e,t){a.each.call(e.split(","),function(e){void 0==t&&e in i?s[e]=i[e]:e in[]&&(s[e]=n(12)(Function.call,[][e],t))})};o("pop,reverse,shift,keys,values,entries",1),o("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),o("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),r(r.S,"Array",s)}])},function(e,t){"use strict";function n(e,t){var n=!1;return function(){for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];var s=r[0],o=r[1],l=s[o];return void 0===l||null===l||n||(n=!0,console.warn(t)),e.call.apply(e,[this].concat(r))}}function a(e){var t=r({},e);for(var a in t)if(t.hasOwnProperty(a)){var i=t[a];i=i.bind(t),i.isDeprecated=n.bind(t,i),t[a]=i}return t}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.deprecate=n,t.addIsDeprecated=a},function(e,t){"use strict";function n(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];if(e.dataTransfer){var a=e.dataTransfer;a.files&&a.files.length?n=a.files:a.items&&a.items.length&&(n=a.items)}else e.target&&e.target.files&&(n=e.target.files);return n.length>0&&(n=t?n:[n[0]]),Array.prototype.slice.call(n)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}])})},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=(n(38),n(4)),s=n(163),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement("div",{className:i("file-list",this.props.compact?"file-list--compact":null)},0==this.props.fileListItems.length&&this.props.placeholderText?React.createElement("div",{className:"file-list__placeholder-text"},this.props.placeholderText):this.props.fileListItems.map(function(t,n){return React.createElement(s.FileListItem,r({},t,e.props,{index:n,key:t.name}))}))},t}(React.Component);t.FileList=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(38),i=n(4),s=n(164),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={previewIsShown:!1},n}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement("div",null,React.createElement("div",{className:i("file-list-item",this.props.compact?"file-list-item--compact":this.props.isEditing?"file-list-item--editing":"file-list-item--read-only")},React.createElement("div",{className:i("file-list-item__name-container",this.props.isEditing?"file-list-item__name--editing":"",this.props.compact?"file-list-item__name-container--compact":null)},React.createElement("div",{className:"file-list-item__name"},null==this.props.url?React.createElement("span",null,this.props.compact?React.createElement("span",{className:"fa fa-paperclip"}):null," ",this.props.name," (",r(this.props.totalBytes),") "):React.createElement("a",{className:"file-list-item__link",href:this.props.url,onClick:this.props.downloadCallback||null},this.props.compact?React.createElement("span",{className:"fa fa-paperclip"}):null," ",this.props.name," (",r(this.props.totalBytes),")")),React.createElement("div",null,this.props.canDelete?React.createElement("span",{className:i("file-list-item__delete-link",this.props.compact?"file-list-item__delete-link--compact":null),title:"Delete file from list",onClick:function(){return e.props.deleteCallback(e.props.name)}},"delete"):"",this.props.previewUrl?React.createElement("span",{className:"file-list-item__preview-link",onClick:function(){return e.setState({previewIsShown:!e.state.previewIsShown})}},this.state.previewIsShown?React.createElement("span",null,React.createElement("span",{className:"fa fa-minus-square-o"})," hide preview"):React.createElement("span",null,React.createElement("span",{className:"fa fa-plus-square-o"})," preview")):"")),this.props.fileDescriptionRenderer?React.createElement("div",{className:"file-list-item__description"},this.props.fileDescriptionRenderer(this.props.description,this.props.index,this.props.isEditing,this.props.textareaPlaceholder,this.props.fileListIndex)):null),this.state.previewIsShown&&this.props.previewUrl?React.createElement("div",{className:"file-list-item__preview-container"},React.createElement(s.FilePreviewContainer,{showSubmitToCompButton:!1,csvHeaderValidationErrors:"",filePreviewUrl:this.props.previewUrl,fileName:this.props.name,fileType:".csv",fileUrl:this.props.url,size:this.props.totalBytes,submitToCompUrl:"",hideFileName:!0,maxLinesToShow:10,downloadCallback:this.props.downloadCallback})):null)},t}(React.Component);t.FileListItem=o},function(e,t,n){"use strict";function a(e){var t="."==e.substring(0,1)?e.substring(1):e;switch(t){case"csv":return"fa fa-table";case"sqlite":return"fa fa-database";case"sqlitetable":return"fa fa-table";case"png":case"jpg":case"gif":return"fa fa-picture-o";case"txt":case"json":return"fa fa-file-text-o";case"zip":case"7z":case"gz":case"tar":return"fa fa-file-zip-o";default:return"fa fa-file-o"}}function r(e){var t="."==e.substring(0,1)?e.substring(1):e;switch(t){case"csv":return 0;case"json":return 1;case"sqlite":return 2;case"sqlitetable":return 3;case"txt":return 4;case"png":case"jpg":case"gif":return 5;case"zip":case"7z":case"gz":case"tar":return 10;default:return 6}}var i,s=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l=n(33),c=n(165),p=n(86),u=n(166),d=n(170),m=n(6),h=n(13),f=n(85),g=n(111),v=n(44),y=n(114),b=n(7),E=n(24),_=n(38),R=n(171),w=n(173);!function(e){e[e.Image=0]="Image",e[e.Csv=1]="Csv",e[e.File=2]="File",e[e.Text=3]="Text",e[e.Archive=4]="Archive",e[e.Json=5]="Json",e[e.Sqlite=6]="Sqlite"}(i=t.FilePreviewDisplayType||(t.FilePreviewDisplayType={}));var C=function(e){function t(t){var n=e.call(this,t)||this;return n.setActiveFile=function(e){var t=n.state.dataSources&&E.find(n.state.dataSources,function(t){return E.includes(t.files,e)});n.setState({activeFile:e,activeDataSource:t})},n.handleFileContentUpdated=function(e){var t=null==n.state.fileContentCache?[]:n.state.fileContentCache.filter(function(t){return t.fileName!=e.fileName});t.push(e),n.setState({fileContentCache:t})},n.toggleVisibility=function(e){var t=n.state.expandedDataSources;t[e]=!t[e],n.setState({expandedDataSources:t})},n.onAddDataSourceClicked=function(){n.setState({showAddDataSource:!0})},n.onAddDataSourceClosed=function(){n.setState({showAddDataSource:!1})},n.onDataSourceRemoved=function(e,t){y.removeDataSource(t,n.props.scriptVersionId).then(function(e){return n.props.onDataSourceRemoved&&n.props.onDataSourceRemoved(),n.setState({dataSources:e})}),e.stopPropagation()},n.onDataSourceAdded=function(e){return y.addDataSource(e,n.props.scriptVersionId).then(function(e){return n.props.onDataSourceAdded&&n.props.onDataSourceAdded(),n.setState({dataSources:e,showAddDataSource:!1})})},n.renderDataSource=function(e,t){var a=e.files.map(function(e){return e.contentLengthInBytes}).reduce(function(e,t){return e+t},0),r=n.state.expandedDataSources[t];return React.createElement("div",{key:t},React.createElement("div",{className:"file-preview-list__list-data-source-header",onClick:function(){return n.toggleVisibility(t)}},React.createElement("i",{className:"file-preview-list__list-data-source-caret fa fa-caret-"+(r?"down":"right")}),React.createElement("div",{className:"file-preview-list__list-data-source-data"},React.createElement("div",{className:"file-preview-list__list-data-source-name",title:e.name},n.truncateText(e.name)),React.createElement("div",{className:"file-preview-list__list-data-source-metadata"},React.createElement(g.Pluralize,{word:"file",count:e.files.length}),", ",_(a))),e.sourceId&&React.createElement("i",{className:"file-preview-list__list-data-source-delete fa fa-times",onClick:function(t){return n.onDataSourceRemoved(t,e)}})),r&&React.createElement("div",{className:"file-preview-list__list-data-source-files"},e.files.map(n.renderDataSourceFile)))},n.renderDataSourceFile=function(e,t){return React.createElement("div",{className:"file-preview-list__list-item"+(e.fileName===(n.state.activeFile&&n.state.activeFile.fileName)?" file-preview-list__list-item--active":"")+(".sqlitetable"==e.fileType?" file-preview-list__list-item--indented":""),onClick:function(){return n.setActiveFile(e)},key:"file-header-"+e.fileName},React.createElement("div",{className:"file-preview-list__icon"},React.createElement("span",{className:a(e.fileType)})),React.createElement("div",{className:"file-preview-list__filename",title:e.fileName},n.truncateText(e.fileName),e.validationError?React.createElement("span",{className:"file-preview-list__validation-error"},React.createElement("span",{title:e.validationError,className:"fa fa-warning"})):null))},n.getFiles=function(){return n.state.hasMultipleDataSources?E.flatten(E.pluck(n.state.dataSources,"files")):n.props.files},n.handleMetadataChange=function(e,t,a){var r=(n.state.fileContentCache||[]).filter(function(t){return t.fileName===e})[0];if(!r)return void m.Current.warn("Ignoring metadata update; cache invalid");r.columns[t]=a;var i=(n.state.fileContentCache||[]).filter(function(t){return t.fileName!==e});i.push(r),n.setState({fileContentCache:i}),n.props.onMetadataChange(e,t,a)},n.state={activeFile:n.props.files&&n.props.files.length>0&&n.props.files[0],hasMultipleDataSources:n.props.hasMultipleDataSourcesEnabled,expandedDataSources:n.defaultExpandedDataSources(),showAddDataSource:!1,dataSources:n.props.dataSources},n}return s(t,e),t.prototype.componentWillReceiveProps=function(e){!this.state.activeFile&&this.props.files&&this.props.files.length>0&&this.setState({activeFile:this.props.files[0]})},t.prototype.defaultExpandedDataSources=function(){var e=this.props.dataSources&&1===this.props.dataSources.length;return e?[!0]:[]},t.prototype.truncateText=function(e){return e.length>20?e.substring(0,20)+"…":e},t.prototype.render=function(){var e=this;if(!this.props.files)return null;var t=this.props.files.slice();t.sort(function(e,t){var n=e.fileName.split("."),a=t.fileName.split("."),i=n[n.length-1],s=a[a.length-1],o=r(e.fileType||i),l=r(t.fileType||s);return o<l?-1:l<o?1:e.fileName.toLowerCase()<t.fileName.toLowerCase()?-1:e.fileName.toLowerCase()>t.fileName.toLowerCase()?1:0});var n=this.state.hasMultipleDataSources?React.createElement("div",{className:"file-preview-list__list file-preview-list__list--data-sources"},React.createElement("div",{className:"file-preview-list__list-header--data-sources"},this.state.dataSources.length," Data Sources"),this.state.dataSources.map(this.renderDataSource),React.createElement(f.ButtonAutoWidth,{text:"Add a Data Source",classNames:"file-preview-list__list-add-button",onClick:this.onAddDataSourceClicked})):React.createElement("div",{className:"file-preview-list__list"},React.createElement("div",{className:"file-preview-list__list-file-count"},this.props.files.length+" files"),t.map(function(t){return React.createElement("div",{className:"file-preview-list__list-item"+(t.fileName===(e.state.activeFile&&e.state.activeFile.fileName)?" file-preview-list__list-item--active":"")+(".sqlitetable"==t.fileType?" file-preview-list__list-item--indented":""),onClick:function(){e.setActiveFile(t)},key:"file-list-"+t.fileName+(".sqlitetable"==t.fileType?"-table":"")},React.createElement("div",{className:"file-preview-list__icon"},React.createElement("span",{className:a(t.fileType)})),React.createElement("div",{className:"file-preview-list__filename",title:t.fileName},t.fileName.length>20?t.fileName.substring(0,20)+"…":t.fileName,t.validationError?React.createElement("span",{className:"file-preview-list__validation-error"},React.createElement("span",{title:t.validationError,className:"fa fa-warning"})):null))})),i=null==this.state.fileContentCache?null:this.state.fileContentCache.filter(function(t){return t.fileName==e.state.activeFile.fileName})[0];return React.createElement("div",{className:"file-preview-list__section"},n,React.createElement(S,o({key:"file-"+this.state.activeFile.fileName,submitToCompUrl:this.props.submitToCompUrl,showSubmitToCompButton:this.props.showSubmitToCompButtons,scriptVersionId:this.props.scriptVersionId,competitionName:this.props.competitionName,onFileContentUpdated:this.handleFileContentUpdated,csvPreviewContents:null==i?null:i.csvPreviewContents,textPreviewContents:null==i?null:i.textPreviewContents,exceededMaxSize:null==i?null:i.exceededMaxSize,userCanEditMetadata:this.props.userCanEditMetadata,onMetadataChange:function(t,n){return e.handleMetadataChange(e.state.activeFile.fileName,t,n)},columnMetadata:null==i?null:i.columns,onStartEditingDescription:this.props.onStartEditingDescription,onStopEditingDescription:this.props.onStopEditingDescription,onStartEditingMetadata:this.props.onStartEditingMetadata,dataSource:this.state.activeDataSource},this.state.activeFile)),React.createElement(v.AddDataSourceModal,{isShown:this.state.showAddDataSource,onClose:this.onAddDataSourceClosed,onDataSourceAdded:this.onDataSourceAdded,scriptVersionId:this.props.scriptVersionId}))},t}(React.Component);t.FilePreviewList=C;var S=function(e){function t(t){var n=e.call(this,t)||this;return n.shouldFetchPreview=function(){return n.displayType!==i.Archive&&n.displayType!==i.Image},n.fetchLastVersionMetadata=function(){$.ajax({url:n.props.lastVersionMetadataUrl,dataType:"json",success:function(e){n.populateNewFileColumnDataFromLastVersion(e.columns)},error:function(e,t,n){m.Current.warn("Could not populate new file column descriptions"),m.Current.log(t+": "+n)}})},n.populateNewFileColumnDataFromLastVersion=function(e){for(var t=0;t<Math.min(n.state.csvPreviewContents[0].length,(e||[]).length)&&n.state.csvPreviewContents[0][t]===e[t].name;t++)n.props.onMetadataChange(t,e[t])},n.handleShowMore=function(e){e.preventDefault(),n.setState({isShowingLess:!1,isShowingMore:!0})},n.handleToggleShowColumnDescriptions=function(e){e.preventDefault(),n.setState({isShowingColumnDescriptionList:!n.state.isShowingColumnDescriptionList})},[".png",".jpg",".jpeg",".gif"].indexOf(n.props.fileType)>-1?n.displayType=i.Image:".csv"===n.props.fileType?n.displayType=i.Csv:".json"===n.props.fileType?n.displayType=i.Json:[".zip",".gz",".7z",".tar"].indexOf(n.props.fileType)>-1?n.displayType=i.Archive:".sqlite"===n.props.fileType?n.displayType=i.Sqlite:n.displayType=i.File,n.state={previewRequestInFlight:n.shouldFetchPreview(),csvPreviewContents:n.props.csvPreviewContents||[[]],textPreviewContents:n.props.textPreviewContents||"",previewFetchErrorText:"",dataIsTruncated:null,isShowingLess:!1,isShowingMore:!1,noPreviewAvailable:!1,columnMetadata:n.props.columnMetadata||[]},n}return s(t,e),t.prototype.parsePreviewData=function(e){return e.error?void this.setState({previewRequestInFlight:!1,previewFetchErrorText:e.error||"Invalid CSV data"}):e.noPreviewAvailable?void this.setState({previewRequestInFlight:!1,noPreviewAvailable:!0}):(this.props.onFileContentUpdated&&this.props.onFileContentUpdated({fileName:this.props.fileName,csvPreviewContents:e.csvData,textPreviewContents:e.textData,exceededMaxSize:e.exceededMaxSize,columns:e.columns}),void this.setState({previewRequestInFlight:!1,csvPreviewContents:e.csvData,textPreviewContents:e.textData,previewFetchErrorText:null,dataIsTruncated:!!e.exceededMaxSize,isShowingLess:!this.props.alwaysShowMore&&(e.csvData||e.textData)&&(e.csvData||e.textData.split("\n")).length>11,isShowingMore:this.props.alwaysShowMore,columnMetadata:e.columns,isShowingColumnDescriptionList:!1,editingColumnIndex:null}))},t.prototype.componentDidMount=function(){var e=this;if(this.shouldFetchPreview())return this.props.csvPreviewContents||this.props.textPreviewContents?void this.parsePreviewData({csvData:this.props.csvPreviewContents,textData:this.props.textPreviewContents,exceededMaxSize:this.props.exceededMaxSize,columns:this.props.columnMetadata}):void $.ajax({url:this.props.filePreviewUrl,success:function(t){e.parsePreviewData(t),e.props.lastVersionMetadataUrl&&e.fetchLastVersionMetadata()},error:function(t,n,a){e.setState({previewRequestInFlight:!1,previewFetchErrorText:n+" "+a})}})},t.prototype.render=function(){return React.createElement(N,o({imagePreviewUrl:this.displayType===i.Image?this.props.fileUrl:null,onShowMore:this.handleShowMore,onToggleShowColumnDescriptionList:this.handleToggleShowColumnDescriptions,displayType:this.displayType},this.props,this.state))},t}(React.Component);t.FilePreviewContainer=S;var N=function(e){function t(t){var n=e.call(this,t)||this;return n.canShowColumnDescriptionList=function(){var e=n.props.columnMetadata&&n.props.columnMetadata.some(function(e){return!!e.description});return!(!e&&!n.props.userCanEditMetadata)},n.guessCsvDataType=function(e){var t=Math.min(10,n.props.csvPreviewContents.length),a=n.props.csvPreviewContents.slice(1,t).map(function(t){return t[e]});return a.some(function(e){return"true"===e||"false"===e})?"Boolean":a.some(function(e){return!isNaN(new Date(e).getTime())})?"DateTime":a.some(function(e){return!isNaN(+e)})?"Numeric":"String"},n.renderCsvHeaderCell=function(e,t,a){var r=!1,i=null;if(a&&a.length>t){var s=a[t],o=null,l=null;s.description?(o=React.createElement("div",{className:"file-preview__csv-preview-info-tooltip"},React.createElement("div",{className:"file-preview__csv-preview-info-tooltip-header"},s.harmonizedDataType),React.createElement(u.MarkdownConverter,{contentClassName:"file-preview__csv-preview-info-tooltip-description",content:s.description,mimeType:"text/markdown",insertNofollow:!0})),l=React.createElement("span",{className:"file-preview__csv-preview-info-icon fa fa-info-circle"}),r=!0):(o=React.createElement("div",{className:"file-preview__csv-preview-info-tooltip"},React.createElement("div",{className:"file-preview__csv-preview-info-tooltip-header"},s.harmonizedDataType)),l=React.createElement("span",{className:"file-preview__csv-preview-info-icon file-preview__csv-preview-info-icon--notooltip"+(n.props.userCanEditMetadata?" fa fa-pencil":"")})),i=React.createElement(c.ToolTipMultiLine,{tipContent:o,alignLeft:!0},s.name||e,l)}else i=React.createElement("span",null,e);return React.createElement("div",{key:n.props.reactKey+"-header-"+t,className:"file-preview__csv-preview-header-cell"+(r?" file-preview__csv-preview-header-cell--info":"")},React.createElement("div",{className:"file-preview__csv-preview-header-cell-inner"+(r?" file-preview__csv-preview-header-cell-inner--info":""),onClick:n.canShowColumnDescriptionList()&&!n.props.isShowingColumnDescriptionList?n.props.onToggleShowColumnDescriptionList:null},i))},n.props.maxLinesToShow?(n.numLinesWhenShowingLess=Math.min(10,n.props.maxLinesToShow),n.numLinesWhenShowingMore=Math.min(100,n.props.maxLinesToShow)):(n.numLinesWhenShowingLess=10,
n.numLinesWhenShowingMore=100),n}return s(t,e),t.prototype.renderFetchMessage=function(){return this.props.previewRequestInFlight?React.createElement("div",{className:"file-preview__contents-loading-message"},"Loading..."):this.props.previewFetchErrorText?React.createElement("div",{className:"file-preview__error-message"},this.props.previewFetchErrorText):this.props.noPreviewAvailable?React.createElement("div",{className:"file-preview__no-preview-message"},"No preview available for this format"):null},t.prototype.renderOptionalImagePreview=function(){return this.props.imagePreviewUrl?React.createElement("img",{src:this.props.imagePreviewUrl}):null},t.prototype.renderOptionalTextPreview=function(){return this.props.textPreviewContents&&this.props.displayType!=i.Json?React.createElement("div",{className:"file-preview__text-preview-container"},this.props.textPreviewContents):null},t.prototype.isCsvFile=function(){return!(!this.props.csvPreviewContents||0===this.props.csvPreviewContents.length||0===this.props.csvPreviewContents[0].length)},t.prototype.renderOptionalColumnDescriptionList=function(){var e=this;if(!this.isCsvFile())return null;var t=this.props.columnMetadata&&this.props.columnMetadata.some(function(e){return!!e.description});if(!this.canShowColumnDescriptionList())return null;var n,a;this.props.isShowingColumnDescriptionList||t||!this.props.userCanEditMetadata?this.props.isShowingColumnDescriptionList?(n="Hide",a="up"):(n="Show",a="down"):(n="Edit",a="down");var r=this.getColumnMetadata();return React.createElement("div",null,React.createElement("div",{className:"file-preview__csv-column-description-toggle",onClick:this.props.onToggleShowColumnDescriptionList},React.createElement("span",{style:{marginRight:"5px"},className:"fa fa-info-circle"}),n," column descriptions",React.createElement("span",{style:{marginLeft:"5px"},className:"fa fa-angle-"+a})),this.props.isShowingColumnDescriptionList?r.map(function(t,n){return React.createElement(k,{key:e.props.reactKey+"col-metadata-"+n,initialMetadata:t,canEdit:e.props.userCanEditMetadata,onStartEditing:e.props.onStartEditingMetadata,onMetadataChange:function(t){return e.props.onMetadataChange(n,t)}})}):null)},t.prototype.getColumnMetadata=function(){var e=this,t=this.props.columnMetadata||[],n=this.props.csvPreviewContents[0].map(function(t,n){return{name:t,description:"",harmonizedDataType:e.guessCsvDataType(n)}});return n.map(function(e,n){return t[n]?t[n]:e})},t.prototype.renderOptionalCsvPreviewTable=function(){var e=this;if(!this.isCsvFile())return null;var t=this.props.csvPreviewContents[0],n=this.props.isShowingLess?this.props.csvPreviewContents.slice(1,this.numLinesWhenShowingLess+1):this.props.csvPreviewContents.slice(1,this.numLinesWhenShowingMore+1),a=this.getColumnMetadata();return React.createElement("div",{className:"file-preview__csv-preview-container"},React.createElement("div",{className:"file-preview__csv-preview-inner"},React.createElement("div",{className:"file-preview__csv-preview-inner-inner"},React.createElement("div",{className:"file-preview__csv-preview"},React.createElement("div",{className:"file-preview__csv-preview-header-row"},t.map(function(t,n){return e.renderCsvHeaderCell(t,n,a)})),n.map(function(t,n){return React.createElement("div",{key:e.props.reactKey+"-row-"+n,className:"file-preview__csv-preview-row"},t.map(function(t,a){return React.createElement("div",{key:e.props.reactKey+"-row-"+n+"-col-"+a,className:"file-preview__csv-preview-cell"},t)}))})))))},t.prototype.renderOptionalJsonPreview=function(){return this.props.textPreviewContents&&this.props.displayType==i.Json?React.createElement(w,{data:JSON.parse(this.props.textPreviewContents)}):null},t.prototype.render=function(){var e=this.renderFetchMessage(),t=null;if(this.props.showSubmitToCompButton&&!this.props.csvHeaderValidationErrors){var n="Submit to Competition";t=React.createElement("div",{className:"rounded-open-button"},React.createElement("form",{action:this.props.submitToCompUrl,method:"POST"},React.createElement("input",{type:"hidden",name:"scriptVersionId",value:this.props.scriptVersionId.toString()}),React.createElement("input",{type:"hidden",name:"fileName",value:this.props.fileName}),React.createElement("input",{type:"submit",className:"file-preview__submit-csv-button",value:n})))}else this.props.showSubmitToCompButton&&this.props.csvHeaderValidationErrors&&(t=React.createElement(l.ToolTip,{tipText:this.props.csvHeaderValidationErrors,size:"medium"},React.createElement("span",{className:"fa fa-exclamation-triangle file-preview-list__validation-error"})));var a=null;this.props.fileUrl&&(a=React.createElement(p.ButtonRoundEdged,{href:this.props.fileUrl,onClick:this.props.downloadCallback||null,text:"Download File"}));var r=null;this.props.canDelete&&(r=React.createElement(p.ButtonRoundEdged,{onClick:this.props.onDelete,text:"Delete"}));var i=null;this.props.fullPath&&(i=React.createElement("div",{className:"file-preview__full-path-row"},React.createElement("span",{className:"file-preview__row-title"},"Full path: "),React.createElement("span",{className:"file-preview__full-path"},this.props.fullPath)));var s=null;this.props.isEditingDescription?s=React.createElement("div",null,React.createElement("div",{className:"file-preview__sub-header"},"Description: "),this.props.onStopEditingDescription?React.createElement("div",{className:"file-preview__description-edit-icon file-preview__description-edit-icon--editing",onClick:this.props.onStopEditingDescription},React.createElement("span",{className:"fa fa-save"})):null,React.createElement(d.MarkdownEditor,{shouldSanitizeHtml:!0,alwaysShowToolbar:!0,hidePreview:!0,defaultValue:this.props.description,placeholder:this.props.descriptionPlaceholder,suffix:"-file-preview-description",maxRows:10,onChangeCallback:this.props.onDescriptionChange})):this.props.description?s=React.createElement("div",null,React.createElement("div",{className:"file-preview__sub-header"},"Description "),this.props.userCanEditMetadata&&this.props.onStartEditingDescription?React.createElement("div",{className:"file-preview__description-edit-icon",onClick:this.props.onStartEditingDescription},React.createElement("span",{className:"fa fa-pencil"})):null,React.createElement(u.MarkdownConverter,{contentClassName:"file-preview__description",mimeType:"text/markdown",content:this.props.description})):this.props.userCanEditMetadata&&this.props.onStartEditingDescription&&(s=React.createElement("div",null,React.createElement("div",{className:"file-preview__sub-header"},"Description: "),React.createElement("div",{className:"file-preview__description-edit-icon",onClick:this.props.onStartEditingDescription},React.createElement("span",{className:"fa fa-pencil"})),React.createElement("div",{className:"file-preview__missing-description-notice"},"Help us describe this table")));var o=null;if(this.isCsvFile()&&this.props.isShowingLess){var c=this.numLinesWhenShowingMore-this.numLinesWhenShowingLess;o=React.createElement("div",{className:"file-preview__preview-show-more-less"},React.createElement("a",{onClick:this.props.onShowMore},React.createElement("span",{className:"fa fa-plus"}),"Load ",c," more rows"))}return React.createElement("div",{className:"file-preview__item"},m.Current.hasMultipleDataSources&&this.props.dataSource&&React.createElement("div",null,React.createElement("div",{className:"file-preview__data-source-info"},this.props.dataSource.imageUrl&&React.createElement("div",null,React.createElement("img",{src:this.props.dataSource.imageUrl})),React.createElement("div",null,React.createElement("div",{className:"file-preview__data-source-name"},this.props.dataSource.name),React.createElement("div",{className:"file-preview__data-source-overview"},this.props.dataSource.overview),React.createElement("div",{className:"file-preview__data-source-last-updated"},"Last updated ",React.createElement(b.TimeAgo,{time:this.props.dataSource.lastUpdated})))),React.createElement("hr",{className:"file-preview__horizontal-rule"})),React.createElement("div",{className:"file-preview__name-row"},React.createElement("span",{className:"file-preview__item-filename"},this.props.fileName),React.createElement("div",{className:"file-preview__buttons"},t,a,r)),this.props.fullPath?React.createElement("div",{className:"file-preview__meta-container"},React.createElement("div",{className:"file-preview__meta-label"},"Full path"),React.createElement("div",{className:"file-preview__meta-value"},this.props.fullPath)):null,this.props.size?React.createElement("div",{className:"file-preview__meta-container"},React.createElement("div",{className:"file-preview__meta-label"},"File size"),React.createElement("div",{className:"file-preview__meta-value"},_(this.props.size))):null,s,this.props.hideFilePreview?null:React.createElement("div",null,React.createElement("hr",{className:"file-preview__horizontal-rule"}),React.createElement("div",{className:"file-preview__sub-header"},"Preview "),React.createElement("div",{className:"file-preview__preview-row"},e,this.props.previewRequestInFlight?null:React.createElement("div",null,this.renderOptionalImagePreview(),this.renderOptionalColumnDescriptionList(),this.renderOptionalCsvPreviewTable(),this.renderOptionalJsonPreview(),this.renderOptionalTextPreview()))),o)},t}(React.Component),k=function(e){function t(t){var n=e.call(this,t)||this;return n.descriptionBeingEdited="",n.previousDataType="",n.textarea=null,n.handleStartEditing=function(e){return e.preventDefault(),n.props.onStartEditing?void n.props.onStartEditing():(n.descriptionBeingEdited=n.state.metadata.description,n.previousDataType=n.state.metadata.harmonizedDataType,void n.setState({isEditing:!0}))},n.handleDoneEditing=function(e){e.preventDefault();var t=$.extend({},n.state.metadata);t.description=n.descriptionBeingEdited,n.sendMetadataChangeIfNeeded(t),n.setState({metadata:t,isEditing:!1})},n.handleMouseEnter=function(){n.setState({showEditIcon:!0})},n.handleMouseLeave=function(){n.setState({showEditIcon:!1})},n.handleDataTypeChange=function(e){var t=$.extend({},n.state.metadata);t.harmonizedDataType=e,n.setState({metadata:t})},n.state={metadata:n.props.initialMetadata,isEditing:!1,showEditIcon:!1},n}return s(t,e),t.prototype.render=function(){return this.state.isEditing?this.renderEditing():this.renderNonEditing()},t.prototype.componentDidUpdate=function(e,t){!t.isEditing&&this.state.isEditing&&this.textarea&&this.textarea.focus()},t.prototype.sendMetadataChangeIfNeeded=function(e){e.description===this.state.metadata.description&&this.previousDataType===this.state.metadata.harmonizedDataType||this.props.onMetadataChange(e)},t.prototype.renderEditing=function(){var e=this,t=[{value:"String",label:"String"},{value:"Numeric",label:"Numeric"},{value:"DateTime",label:"DateTime"},{value:"Boolean",label:"Boolean"}];return React.createElement("div",{className:"file-preview__description-row"},React.createElement("div",{className:"file-preview__description-row-field-name"},this.state.metadata.name),React.createElement("div",{className:"file-preview__description-row-description"},React.createElement(R["default"],{defaultValue:this.state.metadata.description,onChange:function(t){e.descriptionBeingEdited=t.currentTarget.value},className:"file-preview__description-row-description-editor",minRows:1,maxRows:10,placeholder:"Column description",ref:function(t){e.textarea=t}})),React.createElement("div",{className:"file-preview__description-row-field-type file-preview__description-row-field-type--edit"},React.createElement(h.SelectBox,{className:"file-preview__description-row-field-typeselect-box",options:t,value:this.state.metadata.harmonizedDataType,onChange:this.handleDataTypeChange})),React.createElement("div",{className:"file-preview__description-row-save-icon",onClick:this.handleDoneEditing},React.createElement("span",{className:"fa fa-save"})))},t.prototype.renderNonEditing=function(){var e=this.props.canEdit&&(this.props.onMetadataChange||this.props.onStartEditing),t=e?React.createElement("span",{onClick:this.handleStartEditing,className:"file-preview__description-row-cta"},"Help us describe this column"):React.createElement("span",null,"No description provided");return React.createElement("div",{className:"file-preview__description-row",onMouseEnter:e?this.handleMouseEnter:null,onMouseLeave:e?this.handleMouseLeave:null},React.createElement("div",{className:"file-preview__description-row-field-name"},this.state.metadata.name),this.state.showEditIcon?React.createElement("div",{className:"file-preview__description-row-edit-icon",onClick:this.handleStartEditing},React.createElement("span",{className:"fa fa-pencil"})):React.createElement("div",{className:"file-preview__description-row-edit-icon"}),this.state.metadata.description?React.createElement("div",{className:"file-preview__description-row-description",onClick:e?this.handleStartEditing:null,style:e?{cursor:"pointer"}:null},React.createElement(u.MarkdownConverter,{content:this.state.metadata.description,mimeType:"text/markdown"})):React.createElement("div",{className:"file-preview__description-row-description file-preview__description-row-description--empty",onClick:e?this.handleStartEditing:null,style:e?{cursor:"pointer"}:null},t),React.createElement("div",{className:"file-preview__description-row-field-type",onClick:e?this.handleStartEditing:null,style:e?{cursor:"pointer"}:null},this.state.metadata.harmonizedDataType))},t}(React.Component)},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(35),i=n(4),s=function(e){function t(t){var n=e.call(this,t)||this;return n.showToolTip=function(){n.setState({isShown:!0})},n.hideToolTip=function(){n.setState({isShown:!1})},n.state={isShown:!1},n}return a(t,e),t.prototype.makeClassName=function(e){var t="tooltip-multiline"+(e||"")+"--left";return i("tooltip-multiline"+(e||""),(n={},n[t]=this.props.alignLeft,n),this.props.className);var n},t.prototype.render=function(){return React.createElement("span",{className:this.makeClassName(),onMouseEnter:this.showToolTip,onMouseLeave:this.hideToolTip},React.createElement("span",{className:this.makeClassName("__before"),style:{opacity:this.state.isShown?1:0}}),this.props.children,React.createElement("span",{className:this.makeClassName("__after"),style:{opacity:this.state.isShown?1:0}},this.props.tipContent))},t}(React.Component);t.ToolTipMultiLine=s,s.docs={description:"Inherits styles from standard ToolTip, but accepts JSX Elements as contents via the `after` prop.",examples:[React.createElement(s,{tipContent:React.createElement("div",{className:"tooltip-multiline__example-1"},React.createElement("p",null,"Hi"),React.createElement("p",null,"How are you?"))},React.createElement(r.Badge,{text:"Hover me!",option:"info"})),React.createElement(s,{alignLeft:!0,tipContent:React.createElement("div",{className:"tooltip-multiline__example-2"},React.createElement("h4",{className:"tooltip-multiline__example-2-title"},"Note"),React.createElement("p",null,"This is left-aligned."))},React.createElement(r.Badge,{text:"Me too!",option:"info"}))],staticMarkup:'<ToolTipMultiLine \n    tipContent={(\n        <div>\n            <p>Hi</p>\n            <p>How are you?</p>\n        </div>\n    )}>\n\n    <Badge text="Hover me!" option="info" />\n</ToolTipMultiLine>\n\n<ToolTipMultiLine\n    alignLeft={true}\n    tipContent={(\n        <div>\n            <h4>Note</h4>\n            <p>This is left-aligned.</p>\n        </div>\n    )}>\n\n    <Badge text="Me too!" option="info"/>\n</ToolTipMultiLine>',title:"ToolTipMultiLine"}},function(e,t,n){"use strict";function a(e){switch(e){case s.Html:return"text/html";case s.Markdown:return"text/markdown";default:return"text/markdown"}}function r(e){switch(e){case"":return s.Html;case"text/html":return s.Html;case"text/plain":return s.Markdown;case"text/markdown":return s.Markdown;case"text/x-markdown":return s.Markdown;default:return s.Html}}function i(e){return a(r(e))}var s,o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},l=n(4);n(167);!function(e){e[e.Html=0]="Html",e[e.Markdown=1]="Markdown"}(s=t.MarkdownConverterMimeTypes||(t.MarkdownConverterMimeTypes={})),t.assignMimeType=a,t.lookupMimeType=r,t.translateMimeType=i;var c=function(e){function t(t){var n=e.call(this,t)||this;return n.converter=new Markdown.getSanitizingConverter,n}return o(t,e),t.prototype.createSanitizedMarkup=function(){var e=r(this.props.mimeType)==s.Html,t=this.props.content&&e?this.props.content:this.props.content?this.converter.makeHtml(this.props.content):"";return this.props.insertNofollow&&(t=t.replace(/(<a .*?href=".*?".*?)(>)/g,'$1 rel="nofollow"$2')),{__html:t}},t.prototype.componentDidMount=function(){this.renderMathJax()},t.prototype.componentDidUpdate=function(){this.renderMathJax()},t.prototype.renderMathJax=function(){var e=this.props.content&&(this.props.content.indexOf("$$")>-1||this.props.content.indexOf("\\[")>-1||this.props.content.indexOf("\\(")>-1);e&&"undefined"!=typeof MathJax&&MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,this.renderedDiv])},t.prototype.render=function(){var e=this;return React.createElement("div",{className:l("markdown-converter__text--rendered",this.props.contentClassName),ref:function(t){e.renderedDiv=t},dangerouslySetInnerHTML:this.createSanitizedMarkup()})},t}(React.Component);t.MarkdownConverter=c},,,,function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(40),i=n(4),s=n(171),o=function(e){function t(t){var n=e.call(this,t)||this;return n.handleButtonClick=function(){var e=n;setTimeout(function(){var t=$(".wmd-prompt-dialog input:button[value='OK']");t.length?t.on("click",function(){return e.handleChange(e.textArea.value)}):e.handleChange(e.textArea.value)},10)},n.handleKeyDown=function(e){var t=38,a=40;e.keyCode===t&&n.props.onMoveUp?n.handleUpArrow(e):e.keyCode===a&&n.props.onMoveDown?n.handleDownArrow(e):n.props.onKeyPress&&n.props.onKeyPress(e)},n.state={content:n.props.defaultValue?n.props.defaultValue:"",hasFocus:n.props.hasFocus,showPreview:!1},n.textAreaId="wmd-input"+(n.props.suffix||""),n}return a(t,e),t.prototype.componentDidMount=function(){this.props.shouldSanitizeHtml?this.converter=new Markdown.Converter:this.converter=Markdown.getSanitizingConverter(),this.editor=new Markdown.Editor(this.converter,this.props.suffix?this.props.suffix:void 0,{strings:{imagedialog:'<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg "optional title"'}}),this.editor.run(),this.props.hasFocus&&$(this.textArea).focus()},t.prototype.componentWillUnmount=function(){},t.prototype.componentWillReceiveProps=function(e){var t=this;"undefined"!=typeof e.defaultValue&&e.defaultValue!=this.props.defaultValue&&(this.textArea.value=e.defaultValue,this.editor.refreshPreview()),e.hasFocus&&!this.props.hasFocus&&window.setTimeout(function(){$(t.textArea).focus()})},t.prototype.createHtml=function(){return{__html:this.converter.makeHtml(this.state.content)}},t.prototype.updateTextState=function(e){this.state.content!==e&&this.props.onChangeCallback(e)},t.prototype.handleChange=function(e){var t=this;this.props.onChangeImmediate&&this.props.onChangeImmediate(e),this.setState($.extend({},this.state,{content:e}),function(){t.props.onChangeCallback(t.state.content)})},t.prototype.setFocus=function(e){this.setState($.extend({},this.state,{hasFocus:e}))},t.prototype.renderPreview=function(){return this.props.hidePreview?null:this.props.useTogglePreview?React.createElement(r.ForumMessageContent,{rawHtml:this.converter.makeHtml(this.state.content),rawMarkdown:this.state.content}):React.createElement("div",{id:"wmd-preview"+(this.props.suffix||""),className:"wmd-panel wmd-preview post-text-styling"})},t.prototype.clearContents=function(){this.textArea&&(this.textArea.value="")},t.prototype.handleUpArrow=function(e){var t=this.textArea.value.substr(0,this.textArea.selectionStart).split("\n").length;1===t&&(e.preventDefault(),this.props.onMoveUp())},t.prototype.handleDownArrow=function(e){var t=this.textArea.value.substr(0,this.textArea.selectionStart).split("\n").length,n=this.textArea.value.split("\n").length;t===n&&(e.preventDefault(),this.props.onMoveDown())},t.prototype.render=function(){var e=this;return React.createElement("div",{className:i("markdown-editor",this.props.compact?"markdown-editor__compact":null)},React.createElement("div",{tabIndex:0,className:"wmd-panel",onFocus:function(){e.setFocus(!0)},onBlur:function(){e.setFocus(!1)}},React.createElement("div",{id:"wmd-button-bar"+(this.props.suffix||""),className:!this.state.hasFocus&&!this.props.alwaysShowToolbar||this.props.hideToolbar||this.props.useTogglePreview&&this.state.showPreview?"wmd-button-bar--disabled":null,onClick:this.handleButtonClick}),React.createElement("a",{href:"http://commonmark.org/help/",target:"__blank",className:i("markdown-editor__help",!this.state.hasFocus&&!this.props.alwaysShowToolbar||this.props.useTogglePreview&&this.state.showPreview?"markdown-editor__help--disabled":null,{"markdown-editor__help--left":this.props.hideToolbar})},this.props.compact?null:[React.createElement("img",{src:"/static/images/markdown.png"})," Styling with Markdown supported"]),this.props.useTogglePreview?[React.createElement("a",{className:"markdown-editor__preview-toggle",onClick:function(){return e.setState({showPreview:!e.state.showPreview})}},React.createElement(r.MediaQuery,{minWidth:r.Breakpoints.tabletMin},React.createElement("span",null,"Show ")),this.state.showPreview?"Editor":"Preview"),this.state.showPreview?this.renderPreview():null]:null,React.createElement(s["default"],{ref:function(t){e.textArea=t},defaultValue:this.state.content,onChange:function(t){return e.handleChange(t.currentTarget.value)},name:"rawMarkdown",className:i("wmd-input",this.props.editorClassName,this.props.useTogglePreview&&this.state.showPreview?"wmd-input--disabled":null),id:this.textAreaId,minRows:this.props.minRows,maxRows:this.props.maxRows,rows:this.props.rows,placeholder:this.props.placeholder,onKeyDown:this.props.onMoveDown||this.props.onMoveUp?this.handleKeyDown:null})),this.props.useTogglePreview?null:this.renderPreview())},t}(React.Component);t.MarkdownEditor=o},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(189),s=n(191),o=n(192),l=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.render=function(){return this.props.topicId?React.createElement(s.TopicContainer,{topicId:this.props.topicId}):this.props.isNew?React.createElement(i.NewTopicContainer,r({},this.props)):React.createElement(o.TopicList,r({},this.props))},t}(React.Component);t.Forum=l},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(40),i=n(190),s=function(e){function t(t){var n=e.call(this,t)||this;return n.markdownConverter=Markdown.getSanitizingConverter(),r.Current.isAnonymous&&(window.location.href="/account/login"),n.state={editDraft:"",editTitleDraft:"",isSubmittingEdit:!1,newAttachments:[]},n}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement(i.Topic,{allowAttachments:this.props.allowAttachments,attachmentAdded:function(t,n,a){return e.addAttachment(t,n,a)},attachmentDeleted:function(t){return e.deleteAttachment(t)},comment:{allowReplies:!1,attachments:[],authorType:this.props.authorType,author:{displayName:r.Current.userDisplayName,thumbnailUrl:r.Current.userThumbnailUrl,userUrl:r.Current.userProfileUrl,tier:this.props.authorTier},competitionRanking:this.props.authorRanking},editDraft:this.state.editDraft,editDraftChanged:function(t){return e.changeEditDraft(t)},editSubmitted:function(){return e.submitTopic()},editTitleDraft:this.state.editTitleDraft,editTitleDraftChanged:function(t){return e.changeEditTitleDraft(t)},isSubmittingEdit:this.state.isSubmittingEdit,isNew:!0,newAttachments:this.state.newAttachments,parentName:this.props.parentName,parentUrl:this.props.parentUrl,showEditForm:!0})},t.prototype.addAttachment=function(e,t,n){var a=this.state.newAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({newAttachments:a})},t.prototype.changeEditDraft=function(e){this.setState({editDraft:e})},t.prototype.changeEditTitleDraft=function(e){this.setState({editTitleDraft:e})},t.prototype.deleteAttachment=function(e){var t=this.state.newAttachments.filter(function(t){return t.name==e})[0],n=this.state.newAttachments.indexOf(t);this.state.newAttachments.splice(n,1),this.setState({newAttachments:this.state.newAttachments})},t.prototype.submitTopic=function(){var e=this;return this.state.editTitleDraft.length<3||this.state.editTitleDraft.length>255?void r.PageMessages.error("Title must be between 3 and 255 characters (inclusive)"):(r.PageMessages.clear(),void this.setState({isSubmittingEdit:!0},function(){return $.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:e.state.newAttachments.map(function(e){return e.blobToken}),subject:e.state.editTitleDraft,content:e.markdownConverter.makeHtml(e.state.editDraft),rawMarkdown:e.state.editDraft}),type:"POST",url:"/forums/"+e.props.forumId+"/topics"}).done(function(t){e.setState({isSubmittingEdit:!1}),e.props.topicSubmitted(t)})}))},t}(React.Component);t.NewTopicContainer=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(4),s=n(40),o=n(96),l=n(108),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.comment;return React.createElement("div",null,React.createElement(s.Modal,{buttonClassName:"discussion-comment__hidden",modalClassName:"flag-form__wrapper",modalIsShown:this.props.showFlagForm,onClose:this.props.flagFormClosed},React.createElement("div",{className:"flag-form"},React.createElement("div",{className:"flag-form__title"},"Flag this post?"),React.createElement("div",{className:"flag-form__body"},"Flagging notifies Kaggle that this message is spam, inappropriate, abusive, or violates rules. Do not use flagging to indicate you disagree with an opinion or to hide a post."),React.createElement("div",{className:"flag-form__actions"},React.createElement(s.Button,{classNames:"flag-form__action flag-form__action--secondary",onClick:this.props.flagFormClosed,text:"Cancel"}),React.createElement("span",{className:"flag-form__action-spacer"}),React.createElement(s.Button,{classNames:"flag-form__action",onClick:this.props.flagged,text:"Flag as Inappropriate"})))),React.createElement(s.MediaQuery,{minWidth:s.Breakpoints.desktopMin},React.createElement("div",{className:"topic"},React.createElement("div",{className:"topic__author"},React.createElement(s.Avatar,r({},n.author,{hideTooltop:!0,width:75})),React.createElement("a",{className:i("topic__author-link","parent"==n.authorType?"topic__author-link--parent-author":null),href:n.author.userUrl,title:n.author.displayName},n.author.displayName),React.createElement("span",{className:"topic__author-ranking"},n.competitionRanking?React.createElement("span",null,React.createElement(s.Ordinal,null,n.competitionRanking)," place"):null),React.createElement("span",{className:"topic__author-options"},n.titleOptions?n.titleOptions.map(function(e){return[React.createElement("a",{className:i("topic__author-option",e.className),href:e.href,onClick:e.onClick},e.text),React.createElement("span",{className:"topic__author-option-spacer"},"|")]}):null)),React.createElement("div",{className:"topic__body-wrapper"},React.createElement("div",{className:"topic__body"},React.createElement("div",{className:"topic__body-header"},React.createElement("div",{className:"topic__title"},this.props.showEditForm?React.createElement(s.InlineTextEditor,{className:"topic__title-editor",onChangeCallback:this.props.editTitleDraftChanged,placeholder:"Topic Title...",value:this.props.editTitleDraft}):t.title,React.createElement("div",{className:"topic__subtitle"},"posted in ",React.createElement("a",{className:"topic__parent-link",href:t.parentUrl,title:t.parentName},t.parentName)," ",n.postDate&&React.createElement(s.TimeAgo,{time:n.postDate}))),n.medal?React.createElement("img",{className:"topic__medal",src:"/static/images/medals/discussion/"+n.medal+"L@1x.png",title:n.medal}):React.createElement("div",{className:"topic__medal"}),t.isNew?null:React.createElement(s.VoteButton,{canDownvote:t.canDownvote&&s.Current.userId!=n.author.id,canUpvote:s.Current.userId!=n.author.id,hasAlreadyVotedDown:n.currentUserVote===-1,hasAlreadyVotedUp:1===n.currentUserVote,totalVotes:n.votes,voteDownUrl:"/forums/messages/downvote?forumMessageId="+n.id,voteUpUrl:"/forums/messages/upvote?forumMessageId="+n.id,upVoteIntercomEventName:"forum_vote",downVoteIntercomEventName:"forum_vote"})),React.createElement("div",{className:"topic__content"},this.props.showEditForm?[React.createElement(s.MarkdownEditor,{alwaysShowToolbar:!0,compact:window.innerWidth<s.Breakpoints.desktopMin,defaultValue:n.rawMarkdown,onChangeCallback:function(t){return e.props.editDraftChanged(t)},placeholder:"Topic Content...",rows:3,shouldSanitizeHtml:!0,suffix:"-topic",useTogglePreview:!0}),React.createElement("span",{className:i((n.attachments||[]).length>0||t.newAttachments.length>0?"topic__attachment-spacer":null)}),React.createElement(s.FileList,{compact:!0,fileListItems:n.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!0,canDelete:!0,deleteCallback:t.attachmentDeleted}),React.createElement(s.FileList,{compact:!0,fileListItems:t.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!0,canDelete:!0,deleteCallback:t.attachmentDeleted}),React.createElement("div",{className:"topic__action-buttons"},this.props.allowAttachments?React.createElement(s.FileUploader,{autoRemoveOnComplete:!0,compact:!0,createBlobUrl:"/blobs/inbox/forum-message-attachment-files",maxCompressedBytesAllowed:5e8,maxUncompressedBytesAllowed:5e8,mode:"multiple",onFileUploadFinished:t.attachmentAdded,multipleFileButtonLabel:" ",suffix:"-topic"}):null,React.createElement("span",{className:"topic__flex-spacer"}),React.createElement("span",{className:"topic__edit-submit-wrapper"},React.createElement(s.Button,{classNames:i("topic__editor-submit",t.isNew?"topic__editor-submit--new":null),isDisabled:this.props.isSubmittingEdit,onClick:t.editSubmitted,text:t.isNew?"Publish Topic":"Save Changes"})))]:[React.createElement(l.ForumMessageContent,{rawHtml:n.content,rawMarkdown:n.rawMarkdown||""}),React.createElement("span",{className:i((n.attachments||[]).length>0||t.newAttachments.length>0?"topic__attachment-spacer":null)}),React.createElement(s.FileList,{compact:!0,fileListItems:n.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!1,deleteCallback:t.attachmentDeleted}),React.createElement(s.FileList,{compact:!0,fileListItems:t.newAttachments,fileListKeyBaseName:"new-attachment-",
isEditing:!1,deleteCallback:t.attachmentDeleted})]),this.props.showOptions?React.createElement("span",{className:"topic__options"},React.createElement("div",{className:"topic__left-options"},n.leftOptions.map(function(e){return[React.createElement("a",{className:i("topic__option",e.className),href:e.href,onClick:e.onClick},e.text),React.createElement("span",{className:"topic__option-spacer"},"|")]})),n.rightOptions.map(function(e){return[React.createElement("a",{className:i("topic__option",e.className),href:e.href,onClick:e.onClick},e.text),React.createElement("span",{className:"topic__option-spacer"},"|")]})):null),this.props.showUpvoters?React.createElement("div",{className:"topic__upvoters"},this.props.comment.upvoters.map(function(e){return React.createElement(s.Avatar,r({className:"topic__upvoter"},e))})):null))),React.createElement(s.MediaQuery,{minWidth:0,maxWidth:s.Breakpoints.tabletMax},React.createElement("div",{className:"topic"},React.createElement("div",{className:"topic__body"},React.createElement("div",{className:"topic__body-header"},React.createElement("div",{className:"topic__title"},t.isNew?null:React.createElement("span",{className:"topic__vote-button"},React.createElement(s.VoteButton,{canDownvote:t.canDownvote&&s.Current.userId!=n.author.id,canUpvote:s.Current.userId!=n.author.id,hasAlreadyVotedDown:n.currentUserVote===-1,hasAlreadyVotedUp:1===n.currentUserVote,totalVotes:n.votes,voteDownUrl:"/forums/messages/downvote?forumMessageId="+n.id,voteUpUrl:"/forums/messages/upvote?forumMessageId="+n.id})),this.props.showEditForm?React.createElement(s.InlineTextEditor,{className:"topic__title-editor",onChangeCallback:this.props.editTitleDraftChanged,placeholder:"Topic Title...",value:this.props.editTitleDraft}):React.createElement("span",{className:"topic__title-text"},t.title)),React.createElement("div",{className:"topic__subtitle"},"by ",React.createElement("a",{className:"topic__author-link",href:n.author.userUrl,title:n.author.displayName},this.props.comment.author.displayName),"  in ",React.createElement("a",{className:"topic__parent-link",href:t.parentUrl,title:t.parentName},t.parentName)," ",n.postDate?React.createElement(s.TimeAgo,{time:n.postDate}):null)),React.createElement("div",{className:"topic__content"},this.props.showEditForm?[React.createElement(s.MarkdownEditor,{alwaysShowToolbar:!0,compact:window.innerWidth<s.Breakpoints.desktopMin,defaultValue:n.rawMarkdown,onChangeCallback:function(t){return e.props.editDraftChanged(t)},placeholder:"Topic Content...",rows:3,shouldSanitizeHtml:!0,suffix:"-topic",useTogglePreview:!0}),React.createElement("span",{className:i((n.attachments||[]).length>0||t.newAttachments.length>0?"topic__attachment-spacer":null)}),React.createElement(s.FileList,{compact:!0,fileListItems:n.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!0,canDelete:!0,deleteCallback:t.attachmentDeleted}),React.createElement(s.FileList,{compact:!0,fileListItems:t.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!0,canDelete:!0,deleteCallback:t.attachmentDeleted}),React.createElement("div",{className:"topic__action-buttons"},this.props.allowAttachments?React.createElement(s.FileUploader,{autoRemoveOnComplete:!0,compact:!0,createBlobUrl:"/blobs/inbox/forum-message-attachment-files",mode:"multiple",maxCompressedBytesAllowed:5e8,maxUncompressedBytesAllowed:5e8,onFileUploadFinished:t.attachmentAdded,multipleFileButtonLabel:" ",suffix:"-topic"}):null,React.createElement("span",{className:"topic__flex-spacer"}),React.createElement("span",{className:"topic__edit-submit-wrapper"},React.createElement(s.Button,{classNames:i("topic__editor-submit",t.isNew?"topic__editor-submit--new":null),isDisabled:this.props.isSubmittingEdit,onClick:t.editSubmitted,text:t.isNew?"Publish Topic":"Save Changes"})))]:[React.createElement(l.ForumMessageContent,{rawHtml:n.content,rawMarkdown:n.rawMarkdown||""}),React.createElement("span",{className:i((n.attachments||[]).length>0||t.newAttachments.length>0?"topic__attachment-spacer":null)}),React.createElement(s.FileList,{compact:!0,fileListItems:n.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!1,deleteCallback:t.attachmentDeleted}),React.createElement(s.FileList,{compact:!0,fileListItems:t.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!1,deleteCallback:t.attachmentDeleted})])),React.createElement("div",{className:"topic__author-options"},n.titleOptions?n.titleOptions.map(function(e){return React.createElement("a",{className:i("topic__author-option",e.className),href:e.href,onClick:e.onClick},e.text)}):null),this.props.showOptions?React.createElement("span",{className:"topic__options"},n.leftOptions.map(function(e){return React.createElement("a",{className:i("topic__option",e.className),href:e.href,onClick:e.onClick},e.text)}),n.rightOptions.map(function(e){return React.createElement("a",{className:i("topic__option",e.className),href:e.href,onClick:e.onClick},e.text)})):null,this.props.showUpvoters?React.createElement("div",{className:"topic__upvoters"},this.props.comment.upvoters.map(function(e){return React.createElement(s.Avatar,r({className:"topic__upvoter"},e))})):null)),this.props.isNew?null:React.createElement(o.CommentListContainer,{allowAttachments:this.props.allowAttachments,canDownvote:this.props.canDownvote,initialState:this.props.commentList,isSubmittingReply:this.props.isSubmittingReply,replyAttachmentAdded:this.props.replyAttachmentAdded,replyAttachmentDeleted:this.props.replyAttachmentDeleted,replyAttachments:this.props.replyAttachments,replyDraft:this.props.replyDraft,replyDraftChanged:this.props.replyDraftChanged,replySubmitted:this.props.replySubmitted,allowReplies:!this.props.isLocked,topicId:this.props.id}))},t}(React.Component);t.Topic=c},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(99),i=n(40),s=n(190),o=function(e){function t(t){var n=e.call(this,t)||this;return n.markdownConverter=Markdown.getSanitizingConverter(),i.PageMessages.clear(),n.state={attachmentAdded:function(e,t,a){return n.addAttachment(e,t,a)},attachmentDeleted:function(e){return n.deleteAttachment(e)},dataLoaded:!1,editDraftChanged:function(e){return n.changeEditDraft(e)},editSubmitted:function(){return n.submitEdit()},editTitleDraftChanged:function(e){return n.changeEditTitleDraft(e)},flagFormClosed:function(){return n.setState({showFlagForm:!1})},flagged:function(){return $.post("/forums/messages/flag?forumMessageId="+n.state.comment.id).done(function(){return n.setState($.extend(!0,{},n.state,{comment:{hasFlags:!0,isFlagged:!0},showFlagForm:!1}))})},isNew:!1,isSubmittingReply:!1,newAttachments:[],quoted:function(){return n.quoted()},replyAttachmentAdded:function(e,t,a){return n.addReplyAttachment(e,t,a)},replyAttachmentDeleted:function(e){return n.deleteReplyAttachment(e)},replyAttachments:[],replyDraft:"",replyDraftChanged:function(e){return n.changeReplyDraft(e)},replySubmitted:function(e){return n.submitReply(e)},showEditForm:!1,showFlagForm:!1,showOptions:!1,showUpvoters:!1},n}return a(t,e),t.prototype.componentWillMount=function(){this.loadData(this.props.topicId)},t.prototype.componentWillReceiveProps=function(e){e.topicId&&e.topicId!=this.props.topicId&&this.loadData(e.topicId)},t.prototype.render=function(){return this.state.dataLoaded?React.createElement(s.Topic,$.extend(!0,{},this.props,this.state,{comment:{leftOptions:this.leftOptions(),rightOptions:this.rightOptions(),titleOptions:this.titleOptions()}})):React.createElement(i.LoadingText,{isLoading:!this.state.dataLoaded,text:"Loading Topic"})},t.prototype.addAttachment=function(e,t,n){var a=this.state.newAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({newAttachments:a})},t.prototype.addReplyAttachment=function(e,t,n){var a=this.state.replyAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({replyAttachments:a})},t.prototype.changeEditDraft=function(e){this.setState({editDraft:e})},t.prototype.changeEditTitleDraft=function(e){this.setState({editTitleDraft:e})},t.prototype.changeReplyDraft=function(e){this.setState({replyDraft:e})},t.prototype.deleteAttachment=function(e){var t=this,n=this.state.newAttachments.filter(function(t){return t.name==e})[0],a=this.state.newAttachments.indexOf(n);return a!==-1?(this.state.newAttachments.splice(a,1),void this.setState({newAttachments:this.state.newAttachments})):(n=this.state.comment.attachments.filter(function(t){return t.name==e})[0],a=this.state.comment.attachments.indexOf(n),this.state.comment.attachments.splice(a,1),void $.ajax("/forums/attachments/delete/"+n.id,{contentType:"application/json",type:"POST"}).done(function(){return t.setState({comment:$.extend(!0,{},t.state.comment,{attachments:t.state.comment.attachments})})}))},t.prototype.deleteReplyAttachment=function(e){var t=this.state.replyAttachments.filter(function(t){return t.name==e})[0],n=this.state.replyAttachments.indexOf(t);this.state.replyAttachments.splice(n,1),this.setState({replyAttachments:this.state.replyAttachments})},t.prototype.leftOptions=function(){var e=this,t=[{onClick:function(){return e.quoted()},text:"Quote"},{text:"Permalink"}];i.Current.isAnonymous||(t.push({onClick:function(){return $.post("/forums/topics/watches/"+(e.state.isSubscribed?"stop":"start")+"?forumTopicId="+e.props.topicId).done(function(){return e.setState({isSubscribed:!e.state.isSubscribed})})},text:this.state.isSubscribed?"Unsubscribe":"Subscribe"}),this.state.comment.isFlagged?t.push({className:"topic__option--disabled",text:"Flagged"}):t.push({onClick:function(){return e.setState({showFlagForm:!0})},text:"Flag"}));var n=this.state.comment.upvoters.length;return n>0&&t.push({className:this.state.showUpvoters?"topic__option--selected":null,onClick:function(){return e.setState({showUpvoters:!e.state.showUpvoters})},text:React.createElement(i.Pluralize,{count:n,word:"Upvoter"})}),t},t.prototype.loadData=function(e){var t=this;$.ajax("/topics/"+e+".json").done(function(e){t.setState($.extend(!0,{},t.state,e,{dataLoaded:!0}))})},t.prototype.quoted=function(){for(var e=this.state.replyDraft||"",t="\n> **"+this.state.comment.author.displayName+" wrote**\n> \n> ",n=this.state.comment.rawMarkdown||r(this.state.comment.content),a=n.split("\n"),i=/\s*\[.*?\]:/,s=0;s<a.length;s++){var o=a[s];i.test(o)||(a[s]="> "+o)}this.setState({replyDraft:e+t+a.join("\n")});var l="#topic-reply",c=100;$("html, body").animate({scrollTop:$(l).position().top-c},200)},t.prototype.rightOptions=function(){var e=this,t=[];return i.Current.isAdmin&&(this.state.comment.hasFlags&&t.push({onClick:function(){return $.ajax("/forums/messages/unflag?forumMessageId="+e.state.comment.id,{contentType:"application/json",data:JSON.stringify({forumMessageId:e.state.comment.id}),type:"POST"}).done(function(){return e.setState($.extend(!0,{},e.state,{comment:{hasFlags:!1,isFlagged:!1}}))})},text:"Unflag"}),t.push({onClick:function(){return $.post("/forums/topics/"+e.props.topicId+"/spam").done(function(){return e.setState({isDeleted:!!e.state.isSpammed&&e.state.isDeleted,isSpammed:!e.state.isSpammed})})},text:this.state.isSpammed?"Unspam":"Spam"},{onClick:function(){return $.post("/forums/topics/"+e.props.topicId+"/delete").done(function(){return e.setState({isDeleted:!e.state.isDeleted,isSpammed:!!e.state.isDeleted&&e.state.isSpammed})})},text:this.state.isDeleted?"Restore":"Delete"},{onClick:function(){return $.ajax("/forums/topics/sticky/toggle?forumTopicId="+e.props.topicId,{contentType:"application/json",type:"POST"}).done(function(){return e.setState({isPinned:!e.state.isPinned})})},text:this.state.isPinned?"Unpin":"Pin"},{onClick:function(){return $.post("/forums/topics/"+e.props.topicId+"/readonly/toggle").done(function(){return e.setState({isLocked:!e.state.isLocked})})},text:this.state.isLocked?"Unlock":"Lock"},{onClick:function(){return $.post("/forums/topics/"+e.props.topicId+"/file-uploads/toggle").done(function(){return e.setState({allowAttachments:!e.state.allowAttachments})})},text:this.state.allowAttachments?"Disable Attachments":"Enable Attachments"})),t},t.prototype.submitEdit=function(){var e=this;return this.state.editTitleDraft.length<3||this.state.editTitleDraft.length>255?void i.PageMessages.error("Title must be between 3 and 255 characters (inclusive)"):(i.PageMessages.clear(),void $.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:this.state.newAttachments.map(function(e){return e.blobToken}),message:this.markdownConverter.makeHtml(this.state.editDraft),rawMarkdown:this.state.editDraft,title:this.state.editTitleDraft}),type:"PUT",url:"/messages/"+this.state.comment.id}).done(function(){e.setState($.extend(!0,{},e.state,{comment:{content:e.markdownConverter.makeHtml(e.state.editDraft),rawMarkdown:e.state.editDraft},showEditForm:!1,title:e.state.editTitleDraft}))}).fail(function(){i.PageMessages.clear(),i.PageMessages.error({htmlMessage:'We had trouble saving your edit. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})}))},t.prototype.submitReply=function(e){var t=this;i.PageMessages.clear(),this.setState({isSubmittingReply:!0},function(){return $.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:t.state.replyAttachments.map(function(e){return e.blobToken}),message:t.markdownConverter.makeHtml(t.state.replyDraft),rawMarkdown:t.state.replyDraft}),type:"POST",url:"/topics/"+t.state.id+"/replies"}).done(function(n){t.setState({isSubmittingReply:!1,replyAttachments:[],replyDraft:""},function(){i.PageMessages.clear(),window.Intercom("trackEvent","forum_post"),e(n)})}).fail(function(){t.setState({isSubmittingReply:!1}),i.PageMessages.clear(),i.PageMessages.error({htmlMessage:'We had trouble submitting your reply. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})})})},t.prototype.titleOptions=function(){var e=this,t=[];return(i.Current.isAdmin||this.state.comment.isUserAuthor)&&t.push({className:this.state.showEditForm?"topic__author-option--selected":null,onClick:function(){return e.setState({editDraft:e.state.comment.rawMarkdown||r(e.state.comment.content),editTitleDraft:e.state.title,showEditForm:!e.state.showEditForm})},text:"Edit"}),t.push({className:this.state.showOptions?"topic__author-option--selected":null,onClick:function(){return e.setState({showOptions:!e.state.showOptions})},text:"Options"}),t},t}(React.Component);t.TopicContainer=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(40),s=n(4),o=function(e){function t(t){var n=e.call(this,t)||this;return i.PageMessages.clear(),n.state={isSubscribed:t.isSubscribed,totalRows:0},n}return a(t,e),t.prototype.render=function(){return React.createElement(i.SmartListContainer,{dataPathToList:"topics",dataUrl:this.props.dataUrl,filtersOptions:this.getFiltersOptions(),groups:t.groups,itemRenderer:this.renderItem.bind(this),mobileSortUpperBound:i.Breakpoints.tabletMax,pluralItemDescription:"topics",sortOptions:t.sortOptions,titleResolver:this.renderTitle.bind(this),data:this.props.initialTopics,values:this.props.paramValues,searchIndex:"topics",searchableGroups:["all","owned"]})},t.prototype.getFiltersOptions=function(){var e=[{"default":this.props.isSitewide?"topics":"all",parameter:"kind",options:[{label:"Topics & Kernels",value:"all"},{label:"Topics",value:"topics"}]}];return this.props.isRootLevel&&e.unshift({"default":"all",parameter:"category",options:[{label:"All Categories",value:"all"},{label:"Forums",value:"forums"},{label:"Competitions",value:"competitions"},{label:"Datasets",value:"datasets"}]}),e},t.prototype.renderItem=function(e){var t=this;return React.createElement(i.BlockLink,{borderless:e.isSticky,className:s("topic-list-item",e.isSticky?"topic-list-item--sticky":null),href:e.topicUrl,key:e.topicUrl,onClick:function(n){e.isKernel||n.shiftKey||n.ctrlKey||n.metaKey||(n.preventDefault(),t.props.onTopicClicked(e))}},React.createElement(i.VoteButton,{canDownvote:e.userAvatar.id!=i.Current.userId&&this.props.canDownvote,canUpvote:e.userAvatar.id!=i.Current.userId,hasAlreadyVotedDown:e.currentUserVote===-1,hasAlreadyVotedUp:1===e.currentUserVote,totalVotes:e.votes,voteDownUrl:e.downvoteUrl,voteUpUrl:e.upvoteUrl,upVoteIntercomEventName:"forum_vote",downVoteIntercomEventName:"forum_vote"}),React.createElement(i.MediaQuery,{minWidth:i.Breakpoints.desktopMin},React.createElement("div",{className:"topic-list-item__avatar"},React.createElement(i.Avatar,r({},e.userAvatar,{hideTooltop:!0})))),React.createElement(i.MediaQuery,{minWidth:i.Breakpoints.desktopMin},e.isKernel?React.createElement("a",{className:"fa fa-bar-chart topic-list-item__kernel-link",href:e.kernelUrl,title:e.title}):e.medal?React.createElement("img",{className:"topic-list-item__medal",src:"/static/images/medals/discussion/"+e.medal+"L@1x.png",title:e.medal}):React.createElement("span",{className:"topic-list-item__medal"})),React.createElement("div",{className:"topic-list-item__title",onClick:function(n){e.isKernel||n.shiftKey||n.ctrlKey||n.metaKey||(n.preventDefault(),t.props.onTopicClicked(e))}},e.title,React.createElement("div",{className:"topic-list-item__subtitle"},e.isKernel?"last run":"posted"," ",e.postDate?React.createElement(i.TimeAgo,{time:e.postDate}):null,React.createElement(i.MediaQuery,{minWidth:i.Breakpoints.desktopMin},React.createElement("span",null," by ",React.createElement("a",{className:"topic-list-item__link"+("parent"==e.authorType?" topic-list-item__link--parent-author":""),href:e.userAvatar.userUrl,title:e.userAvatar.displayName},e.userAvatar.displayName),e.parentName&&e.parentUrl?React.createElement("span",null," in ",React.createElement("a",{className:"topic-list-item__link",href:e.parentUrl,title:e.parentName},e.parentName)):null)))),React.createElement("div",{className:"topic-list-item__last-comment"},React.createElement("div",null,"last comment",React.createElement(i.MediaQuery,{minWidth:i.Breakpoints.desktopMin},React.createElement("span",null," by"))),React.createElement(i.MediaQuery,{minWidth:i.Breakpoints.desktopMin},React.createElement("a",{className:"topic-list-item__link topic-list-item__last-commenter",href:e.lastCommenterUrl,title:e.lastCommenterName},e.lastCommenterName," ")),React.createElement("div",{className:"topic-list-item__last-comment-time"},e.lastCommentPostDate?React.createElement(i.TimeAgo,{time:e.lastCommentPostDate}):null)),React.createElement("a",{className:"topic-list-item__comment-count",href:e.topicUrl},e.commentCount,React.createElement("span",{className:"fa fa-comments topic-list-item__comment-count-icon"})))},t.prototype.renderTitle=function(e,t){var n=this;return React.createElement("span",null,(t&&t.data&&void 0!==t.data.totalRows?i.numberWithCommas(t.data.totalRows):"Loading")+("all"===t.values.kind?" topics and kernels":" topics"),this.props.id?this.state.isSubscribed?React.createElement("a",{className:"topic-list__subscribe-link",onClick:function(){return $.ajax("/forums/watches/stop?forumId="+n.props.id).done(function(){return n.setState({isSubscribed:!1})})},title:"(Unsubscribe)"},"(Unsubscribe)"):React.createElement("a",{className:"topic-list__subscribe-link",onClick:function(){return $.ajax("/forums/watches/start?forumId="+n.props.id).done(function(){return n.setState({isSubscribed:!0})})},title:"(Subscribe)"},"(Subscribe)"):null)},t}(React.Component);o.groups=[{label:"All",value:"all"},{label:"Mine",value:"owned"},{separator:!0},{label:"Upvoted",value:"upvoted"}],o.sortOptions=[{label:"Hotness",value:"hot"},{label:"Recent Comments",value:"recent"},{label:"Recently Posted",value:"new"},{label:"Most Votes",value:"top"},{label:"Most Comments",value:"active"},{label:"Relevance",value:"relevance"}],t.TopicList=o},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(t){var n=e.call(this,t)||this;return n.handleKeyPress=function(e){if(n.props.rejectedCharacterRegExp){var t=String.fromCharCode(e.which);t.match(n.props.rejectedCharacterRegExp)&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())}},n.handleKeyDown=function(e){return"Enter"==e.key&&n.props.isToggleable?void n.handleSave():"Escape"==e.key&&n.props.isToggleable?void n.handleCancel():void 0},n.handleSave=function(){n.setState({isEditing:!1}),n.props.onSaveCallback&&n.props.onSaveCallback(n.state.content)},n.handleCancel=function(){n.setState({isEditing:!1})},n.handleEdit=function(){n.setState({isEditing:!0},function(){n.inputBox.focus()})},n.state={content:n.props.value||"",isEditing:!n.props.isToggleable},n}return n(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState($.extend({},{content:e.value||""}))},t.prototype.handleChange=function(e){var t=this;this.setState({content:e.target.value},function(){t.props.onChangeCallback&&t.props.onChangeCallback(t.state.content)})},t.prototype.renderInput=function(){var e=this;return React.createElement("input",{ref:function(t){e.inputBox=t},className:"inline-text-editor__input "+this.props.className,value:this.state.content,placeholder:this.props.placeholder,onChange:function(t){return e.handleChange(t)},onFocus:this.props.onGainFocusCallback,onBlur:this.props.onLoseFocusCallback,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown})},t.prototype.renderReadOnly=function(){return React.createElement("div",{className:(this.state.content?"":"inline-text-editor__placeholder")+" "+(this.props.readOnlyClassName||"")+" inline-text-editor__readonly",onClick:this.handleEdit},this.state.content||this.props.placeholder)},t.prototype.render=function(){return this.props.isToggleable?React.createElement("div",{className:"inline-text-editor__toggle-container"},this.state.isEditing?this.renderInput():this.renderReadOnly(),this.state.isEditing?React.createElement("span",{className:"fa fa-floppy-o inline-text-editor__button",onClick:this.handleSave}):React.createElement("span",{className:"fa fa-pencil inline-text-editor__button",onClick:this.handleEdit})):this.renderInput()},t}(React.Component);t.InlineTextEditor=a},function(e,t){"use strict";function n(e){var t=/^(https?):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;return t.test(e)}t.isValidUrl=n},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__decorate||function(e,t,n,a){var r,i=arguments.length,s=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,a);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},i=n(76),s=n(196),o=n(198),l=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.render=function(){return React.createElement(o["default"],$.extend({},this.props,this.state))},t}(React.Component);l=r([i.graphql((c=["query Jobs($input: JobInputType) {\n    jobs(input: $input) {\n        companyName,\n        id,\n        locations,\n        maximumSalary,\n        minimumSalary,\n        positionName,\n        publishDate,\n        thumbnailUrl,\n        totalViews,\n        url\n    }\n}"],c.raw=["query Jobs($input: JobInputType) {\n    jobs(input: $input) {\n        companyName,\n        id,\n        locations,\n        maximumSalary,\n        minimumSalary,\n        positionName,\n        publishDate,\n        thumbnailUrl,\n        totalViews,\n        url\n    }\n}"],s["default"](c)),{options:function(e){return{variables:{input:e}}}})],l),t.JobListContainer=l;var c},function(e,t,n){function a(e){return e.replace(/[\s,]+/g," ").trim()}function r(e){return a(e.source.body.substring(e.start,e.end))}function i(){d={},m={}}function s(e){for(var t={},n=[],a=0;a<e.definitions.length;a++){var i=e.definitions[a];if("FragmentDefinition"===i.kind){var s=i.name.value,o=r(i.loc);m.hasOwnProperty(s)&&!m[s][o]?(h&&console.warn("Warning: fragment with name "+s+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),m[s][o]=!0):m.hasOwnProperty(s)||(m[s]={},m[s][o]=!0),t[o]||(t[o]=!0,n.push(i))}else n.push(i)}return e.definitions=n,e}function o(){h=!1}function l(e,t){var n=Object.prototype.toString.call(e);if("[object Array]"===n)return e.map(function(e){return l(e,t)});if("[object Object]"!==n)throw new Error("Unexpected input.");t&&e.loc&&delete e.loc;var a,r,i,s=Object.keys(e);for(a in s)s.hasOwnProperty(a)&&(r=e[s[a]],i=Object.prototype.toString.call(r),"[object Object]"!==i&&"[object Array]"!==i||(e[s[a]]=l(r,!0)));return e}function c(e){var t=a(e);if(d[t])return d[t];var n=u(e);if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");return n=s(n),n=l(n,!1),d[t]=n,n}function p(){for(var e=Array.prototype.slice.call(arguments),t=e[0],n=t[0],a=1;a<e.length;a++)n+=e[a]&&e[a].kind&&"Document"===e[a].kind?e[a].loc.source.body:e[a],n+=t[a];return c(n)}/*!
	 * graphql-tag (https://npmjs.com/package/graphql-tag)
	 * @license MIT
	 * @version 1.2.4
	 * ==graphql-tag/LICENSE==
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2015 - 2016 Meteor Development Group, Inc.
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in all
	 * copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	 * SOFTWARE.
	 */
var u=n(197).parse,d={},m={},h=!0;p["default"]=p,p.resetCaches=i,p.disableFragmentWarnings=o,e.exports=p},function(e,t){e.exports=function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function a(e,t){var n=e instanceof ie.Source?e:new ie.Source(e),a=$(n,t||{});return s(a)}function r(e,t){var n=e instanceof ie.Source?e:new ie.Source(e),a=$(n,t||{});return _(a,!1)}function i(e){var t=ee(e,oe.TokenKind.NAME);return{kind:le.NAME,value:t.value,loc:J(e,t.start)}}function s(e){var t=e.token.start,n=[];do n.push(o(e));while(!X(e,oe.TokenKind.EOF));return{kind:le.DOCUMENT,definitions:n,loc:J(e,t)}}function o(e){if(Z(e,oe.TokenKind.BRACE_L))return l(e);if(Z(e,oe.TokenKind.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return l(e);case"fragment":return b(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"extend":case"directive":return x(e)}throw ne(e)}function l(e){var t=e.token.start;if(Z(e,oe.TokenKind.BRACE_L))return{kind:le.OPERATION_DEFINITION,operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:m(e),loc:J(e,t)};var n=c(e),a=void 0;return Z(e,oe.TokenKind.NAME)&&(a=i(e)),{kind:le.OPERATION_DEFINITION,operation:n,name:a,variableDefinitions:p(e),directives:k(e),selectionSet:m(e),loc:J(e,t)}}function c(e){var t=ee(e,oe.TokenKind.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw ne(e,t)}function p(e){return Z(e,oe.TokenKind.PAREN_L)?re(e,oe.TokenKind.PAREN_L,u,oe.TokenKind.PAREN_R):[]}function u(e){var t=e.token.start;return{kind:le.VARIABLE_DEFINITION,variable:d(e),type:(ee(e,oe.TokenKind.COLON),I(e)),defaultValue:X(e,oe.TokenKind.EQUALS)?_(e,!0):null,loc:J(e,t)}}function d(e){var t=e.token.start;return ee(e,oe.TokenKind.DOLLAR),{kind:le.VARIABLE,name:i(e),loc:J(e,t)}}function m(e){var t=e.token.start;return{kind:le.SELECTION_SET,selections:re(e,oe.TokenKind.BRACE_L,h,oe.TokenKind.BRACE_R),loc:J(e,t)}}function h(e){return Z(e,oe.TokenKind.SPREAD)?y(e):f(e)}function f(e){var t=e.token.start,n=i(e),a=void 0,r=void 0;return X(e,oe.TokenKind.COLON)?(a=n,r=i(e)):(a=null,r=n),{kind:le.FIELD,alias:a,name:r,arguments:g(e),directives:k(e),selectionSet:Z(e,oe.TokenKind.BRACE_L)?m(e):null,loc:J(e,t)}}function g(e){return Z(e,oe.TokenKind.PAREN_L)?re(e,oe.TokenKind.PAREN_L,v,oe.TokenKind.PAREN_R):[]}function v(e){var t=e.token.start;return{kind:le.ARGUMENT,name:i(e),value:(ee(e,oe.TokenKind.COLON),_(e,!1)),loc:J(e,t)}}function y(e){var t=e.token.start;if(ee(e,oe.TokenKind.SPREAD),Z(e,oe.TokenKind.NAME)&&"on"!==e.token.value)return{kind:le.FRAGMENT_SPREAD,name:E(e),directives:k(e),loc:J(e,t)};var n=null;return"on"===e.token.value&&(Y(e),n=P(e)),{kind:le.INLINE_FRAGMENT,typeCondition:n,directives:k(e),selectionSet:m(e),loc:J(e,t)}}function b(e){var t=e.token.start;return te(e,"fragment"),{kind:le.FRAGMENT_DEFINITION,name:E(e),typeCondition:(te(e,"on"),P(e)),directives:k(e),selectionSet:m(e),loc:J(e,t)}}function E(e){if("on"===e.token.value)throw ne(e);return i(e)}function _(e,t){var n=e.token;switch(n.kind){case oe.TokenKind.BRACKET_L:return C(e,t);case oe.TokenKind.BRACE_L:return S(e,t);case oe.TokenKind.INT:return Y(e),{kind:le.INT,value:n.value,loc:J(e,n.start)};case oe.TokenKind.FLOAT:return Y(e),{kind:le.FLOAT,value:n.value,loc:J(e,n.start)};case oe.TokenKind.STRING:return Y(e),{kind:le.STRING,value:n.value,loc:J(e,n.start)};case oe.TokenKind.NAME:if("true"===n.value||"false"===n.value)return Y(e),{kind:le.BOOLEAN,value:"true"===n.value,loc:J(e,n.start)};if("null"!==n.value)return Y(e),{kind:le.ENUM,value:n.value,loc:J(e,n.start)};break;case oe.TokenKind.DOLLAR:if(!t)return d(e)}throw ne(e)}function R(e){return _(e,!0)}function w(e){return _(e,!1)}function C(e,t){var n=e.token.start,a=t?R:w;return{kind:le.LIST,values:ae(e,oe.TokenKind.BRACKET_L,a,oe.TokenKind.BRACKET_R),loc:J(e,n)}}function S(e,t){var n=e.token.start;ee(e,oe.TokenKind.BRACE_L);for(var a=[];!X(e,oe.TokenKind.BRACE_R);)a.push(N(e,t));return{kind:le.OBJECT,fields:a,loc:J(e,n)}}function N(e,t){var n=e.token.start;return{kind:le.OBJECT_FIELD,name:i(e),value:(ee(e,oe.TokenKind.COLON),_(e,t)),loc:J(e,n)}}function k(e){for(var t=[];Z(e,oe.TokenKind.AT);)t.push(T(e));return t}function T(e){var t=e.token.start;return ee(e,oe.TokenKind.AT),{kind:le.DIRECTIVE,name:i(e),arguments:g(e),loc:J(e,t)}}function I(e){var t=e.token.start,n=void 0;return X(e,oe.TokenKind.BRACKET_L)?(n=I(e),ee(e,oe.TokenKind.BRACKET_R),n={kind:le.LIST_TYPE,type:n,loc:J(e,t)}):n=P(e),X(e,oe.TokenKind.BANG)?{kind:le.NON_NULL_TYPE,type:n,loc:J(e,t)}:n}function P(e){var t=e.token.start;return{kind:le.NAMED_TYPE,name:i(e),loc:J(e,t)}}function x(e){if(Z(e,oe.TokenKind.NAME))switch(e.token.value){case"schema":return M(e);case"scalar":return O(e);case"type":return U(e);case"interface":return j(e);case"union":return V(e);case"enum":return z(e);case"input":return K(e);case"extend":return W(e);case"directive":return Q(e)}throw ne(e)}function M(e){var t=e.token.start;te(e,"schema");var n=k(e),a=re(e,oe.TokenKind.BRACE_L,D,oe.TokenKind.BRACE_R);return{kind:le.SCHEMA_DEFINITION,directives:n,operationTypes:a,loc:J(e,t)}}function D(e){var t=e.token.start,n=c(e);ee(e,oe.TokenKind.COLON);var a=P(e);return{kind:le.OPERATION_TYPE_DEFINITION,operation:n,type:a,loc:J(e,t)}}function O(e){var t=e.token.start;te(e,"scalar");var n=i(e),a=k(e);return{kind:le.SCALAR_TYPE_DEFINITION,name:n,directives:a,loc:J(e,t)}}function U(e){var t=e.token.start;te(e,"type");var n=i(e),a=L(e),r=k(e),s=ae(e,oe.TokenKind.BRACE_L,A,oe.TokenKind.BRACE_R);return{kind:le.OBJECT_TYPE_DEFINITION,name:n,interfaces:a,directives:r,fields:s,loc:J(e,t)}}function L(e){var t=[];if("implements"===e.token.value){Y(e);do t.push(P(e));while(Z(e,oe.TokenKind.NAME))}return t}function A(e){var t=e.token.start,n=i(e),a=F(e);ee(e,oe.TokenKind.COLON);var r=I(e),s=k(e);return{kind:le.FIELD_DEFINITION,name:n,arguments:a,type:r,directives:s,loc:J(e,t)}}function F(e){return Z(e,oe.TokenKind.PAREN_L)?re(e,oe.TokenKind.PAREN_L,B,oe.TokenKind.PAREN_R):[]}function B(e){var t=e.token.start,n=i(e);ee(e,oe.TokenKind.COLON);var a=I(e),r=null;X(e,oe.TokenKind.EQUALS)&&(r=R(e));var s=k(e);return{kind:le.INPUT_VALUE_DEFINITION,name:n,type:a,defaultValue:r,directives:s,loc:J(e,t)}}function j(e){var t=e.token.start;te(e,"interface");var n=i(e),a=k(e),r=ae(e,oe.TokenKind.BRACE_L,A,oe.TokenKind.BRACE_R);return{kind:le.INTERFACE_TYPE_DEFINITION,name:n,directives:a,fields:r,loc:J(e,t)}}function V(e){var t=e.token.start;te(e,"union");var n=i(e),a=k(e);ee(e,oe.TokenKind.EQUALS);var r=H(e);return{kind:le.UNION_TYPE_DEFINITION,name:n,directives:a,types:r,loc:J(e,t)}}function H(e){var t=[];do t.push(P(e));while(X(e,oe.TokenKind.PIPE));return t}function z(e){var t=e.token.start;te(e,"enum");var n=i(e),a=k(e),r=re(e,oe.TokenKind.BRACE_L,q,oe.TokenKind.BRACE_R);return{kind:le.ENUM_TYPE_DEFINITION,name:n,directives:a,values:r,loc:J(e,t)}}function q(e){var t=e.token.start,n=i(e),a=k(e);return{kind:le.ENUM_VALUE_DEFINITION,name:n,directives:a,loc:J(e,t)}}function K(e){var t=e.token.start;te(e,"input");var n=i(e),a=k(e),r=ae(e,oe.TokenKind.BRACE_L,B,oe.TokenKind.BRACE_R);return{kind:le.INPUT_OBJECT_TYPE_DEFINITION,name:n,directives:a,fields:r,loc:J(e,t)}}function W(e){var t=e.token.start;te(e,"extend");var n=U(e);return{kind:le.TYPE_EXTENSION_DEFINITION,definition:n,loc:J(e,t)}}function Q(e){var t=e.token.start;te(e,"directive"),ee(e,oe.TokenKind.AT);var n=i(e),a=F(e);te(e,"on");var r=G(e);return{kind:le.DIRECTIVE_DEFINITION,name:n,arguments:a,locations:r,loc:J(e,t)}}function G(e){var t=[];do t.push(i(e));while(X(e,oe.TokenKind.PIPE));return t}function $(e,t){var n=(0,oe.lex)(e);return{_lexToken:n,source:e,options:t,prevEnd:0,token:n()}}function J(e,t){return e.options.noLocation?null:e.options.noSource?{start:t,end:e.prevEnd}:{start:t,end:e.prevEnd,source:e.source}}function Y(e){var t=e.token.end;e.prevEnd=t,e.token=e._lexToken(t)}function Z(e,t){return e.token.kind===t}function X(e,t){var n=e.token.kind===t;return n&&Y(e),n}function ee(e,t){var n=e.token;if(n.kind===t)return Y(e),n;throw(0,se.syntaxError)(e.source,n.start,"Expected "+(0,oe.getTokenKindDesc)(t)+", found "+(0,oe.getTokenDesc)(n))}function te(e,t){var n=e.token;if(n.kind===oe.TokenKind.NAME&&n.value===t)return Y(e),n;throw(0,se.syntaxError)(e.source,n.start,'Expected "'+t+'", found '+(0,oe.getTokenDesc)(n))}function ne(e,t){var n=t||e.token;return(0,se.syntaxError)(e.source,n.start,"Unexpected "+(0,oe.getTokenDesc)(n))}function ae(e,t,n,a){ee(e,t);for(var r=[];!X(e,a);)r.push(n(e));return r}function re(e,t,n,a){ee(e,t);for(var r=[n(e)];!X(e,a);)r.push(n(e));return r}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=a,t.parseValue=r,t.parseConstValue=R,t.parseType=I,t.parseNamedType=P;var ie=n(2),se=n(3),oe=n(7),le=n(10)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.Source=function a(e,t){n(this,a),this.body=e,this.name=t||"GraphQL"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4);Object.defineProperty(t,"GraphQLError",{enumerable:!0,get:function(){return a.GraphQLError}});var r=n(11);Object.defineProperty(t,"syntaxError",{enumerable:!0,get:function(){return r.syntaxError}});var i=n(12);Object.defineProperty(t,"locatedError",{enumerable:!0,get:function(){return i.locatedError}});var s=n(13);Object.defineProperty(t,"formatError",{enumerable:!0,get:function(){return s.formatError}})},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.GraphQLError=void 0;var s=n(5);t.GraphQLError=function(e){function t(n,i,o,l,c,p,u){a(this,t);var d=r(this,e.call(this,n));return Object.defineProperty(d,"message",{value:n,enumerable:!0,writable:!0}),Object.defineProperty(d,"stack",{value:o||n,writable:!0}),Object.defineProperty(d,"nodes",{value:i}),Object.defineProperty(d,"source",{get:function(){if(l)return l;if(i&&i.length>0){var e=i[0];return e&&e.loc&&e.loc.source}}}),Object.defineProperty(d,"positions",{get:function(){if(c)return c;if(i){var e=i.map(function(e){return e.loc&&e.loc.start});if(e.some(function(e){return e}))return e}}}),Object.defineProperty(d,"locations",{get:function(){var e=this.positions,t=this.source;if(e&&e.length>0&&t)return e.map(function(e){return(0,s.getLocation)(t,e)})},enumerable:!0}),Object.defineProperty(d,"path",{value:p,enumerable:!0}),Object.defineProperty(d,"originalError",{value:u}),d}return i(t,e),t}(Error)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.BREAK=t.visitWithTypeInfo=t.visitInParallel=t.visit=t.Source=t.print=t.parseValue=t.parse=t.lex=t.Kind=t.getLocation=void 0;var r=n(6);Object.defineProperty(t,"getLocation",{enumerable:!0,get:function(){return r.getLocation}});var i=n(7);Object.defineProperty(t,"lex",{enumerable:!0,get:function(){return i.lex}});var s=n(1);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(t,"parseValue",{enumerable:!0,get:function(){return s.parseValue}});var o=n(8);Object.defineProperty(t,"print",{enumerable:!0,get:function(){return o.print}});var l=n(2);Object.defineProperty(t,"Source",{enumerable:!0,get:function(){return l.Source}});var c=n(9);Object.defineProperty(t,"visit",{enumerable:!0,get:function(){return c.visit}}),Object.defineProperty(t,"visitInParallel",{enumerable:!0,get:function(){return c.visitInParallel}}),Object.defineProperty(t,"visitWithTypeInfo",{enumerable:!0,get:function(){return c.visitWithTypeInfo}}),Object.defineProperty(t,"BREAK",{enumerable:!0,get:function(){return c.BREAK}});var p=n(10),u=a(p);t.Kind=u},function(e,t){"use strict";function n(e,t){for(var n=/\r\n|[\n\r]/g,a=1,r=t+1,i=void 0;(i=n.exec(e.body))&&i.index<t;)a+=1,r=t+1-(i.index+i[0].length);return{line:a,column:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=n},function(e,t,n){"use strict";function a(e){var t=0;return function(n){var a=l(e,void 0===n?t:n);return t=a.end,a}}function r(e){var t=e.value;return t?i(e.kind)+' "'+t+'"':i(e.kind)}function i(e){return y[e]}function s(e,t,n,a){return{kind:e,start:t,end:n,value:a}}function o(e){return isNaN(e)?"<EOF>":e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'+("00"+e.toString(16).toUpperCase()).slice(-4)+'"'}function l(e,t){var n=e.body,a=n.length,r=c(n,t);if(r>=a)return s(v.EOF,r,r);var i=b.call(n,r);if(i<32&&9!==i&&10!==i&&13!==i)throw(0,g.syntaxError)(e,r,"Invalid character "+o(i)+".");switch(i){case 33:return s(v.BANG,r,r+1);case 36:return s(v.DOLLAR,r,r+1);case 40:return s(v.PAREN_L,r,r+1);case 41:return s(v.PAREN_R,r,r+1);case 46:if(46===b.call(n,r+1)&&46===b.call(n,r+2))return s(v.SPREAD,r,r+3);break;case 58:return s(v.COLON,r,r+1);case 61:return s(v.EQUALS,r,r+1);case 64:return s(v.AT,r,r+1);case 91:return s(v.BRACKET_L,r,r+1);case 93:return s(v.BRACKET_R,r,r+1);case 123:return s(v.BRACE_L,r,r+1);case 124:return s(v.PIPE,r,r+1);case 125:return s(v.BRACE_R,r,r+1);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return f(e,r);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return p(e,r,i);case 34:return d(e,r)}throw(0,g.syntaxError)(e,r,"Unexpected character "+o(i)+".")}function c(e,t){for(var n=e.length,a=t;a<n;){var r=b.call(e,a);if(65279===r||9===r||32===r||10===r||13===r||44===r)++a;else{if(35!==r)break;for(++a;a<n&&null!==(r=b.call(e,a))&&(r>31||9===r)&&10!==r&&13!==r;)++a}}return a}function p(e,t,n){var a=e.body,r=n,i=t,l=!1;if(45===r&&(r=b.call(a,++i)),48===r){if(r=b.call(a,++i),r>=48&&r<=57)throw(0,g.syntaxError)(e,i,"Invalid number, unexpected digit after 0: "+o(r)+".")}else i=u(e,i,r),r=b.call(a,i);return 46===r&&(l=!0,r=b.call(a,++i),i=u(e,i,r),r=b.call(a,i)),69!==r&&101!==r||(l=!0,r=b.call(a,++i),43!==r&&45!==r||(r=b.call(a,++i)),i=u(e,i,r)),s(l?v.FLOAT:v.INT,t,i,E.call(a,t,i))}function u(e,t,n){var a=e.body,r=t,i=n;if(i>=48&&i<=57){do i=b.call(a,++r);while(i>=48&&i<=57);return r}throw(0,g.syntaxError)(e,r,"Invalid number, expected digit but got: "+o(i)+".")}function d(e,t){for(var n=e.body,a=t+1,r=a,i=0,l="";a<n.length&&null!==(i=b.call(n,a))&&10!==i&&13!==i&&34!==i;){if(i<32&&9!==i)throw(0,g.syntaxError)(e,a,"Invalid character within String: "+o(i)+".");if(++a,92===i){switch(l+=E.call(n,r,a-1),i=b.call(n,a)){case 34:l+='"';break;case 47:l+="/";break;case 92:l+="\\";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+="\n";break;case 114:l+="\r";break;case 116:l+="\t";break;case 117:var c=m(b.call(n,a+1),b.call(n,a+2),b.call(n,a+3),b.call(n,a+4));if(c<0)throw(0,g.syntaxError)(e,a,"Invalid character escape sequence: "+("\\u"+n.slice(a+1,a+5)+"."));l+=String.fromCharCode(c),a+=4;break;default:throw(0,g.syntaxError)(e,a,"Invalid character escape sequence: \\"+String.fromCharCode(i)+".")}++a,r=a}}if(34!==i)throw(0,g.syntaxError)(e,a,"Unterminated string.");return l+=E.call(n,r,a),s(v.STRING,t,a+1,l)}function m(e,t,n,a){return h(e)<<12|h(t)<<8|h(n)<<4|h(a)}function h(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function f(e,t){for(var n=e.body,a=n.length,r=t+1,i=0;r!==a&&null!==(i=b.call(n,r))&&(95===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122);)++r;return s(v.NAME,t,r,E.call(n,t,r))}Object.defineProperty(t,"__esModule",{value:!0}),t.TokenKind=void 0,t.lex=a,t.getTokenDesc=r,t.getTokenKindDesc=i;var g=n(3),v=t.TokenKind={EOF:1,BANG:2,DOLLAR:3,PAREN_L:4,PAREN_R:5,SPREAD:6,COLON:7,EQUALS:8,AT:9,BRACKET_L:10,BRACKET_R:11,BRACE_L:12,PIPE:13,BRACE_R:14,NAME:15,INT:16,FLOAT:17,STRING:18},y={};y[v.EOF]="EOF",y[v.BANG]="!",y[v.DOLLAR]="$",y[v.PAREN_L]="(",y[v.PAREN_R]=")",y[v.SPREAD]="...",y[v.COLON]=":",y[v.EQUALS]="=",y[v.AT]="@",y[v.BRACKET_L]="[",y[v.BRACKET_R]="]",y[v.BRACE_L]="{",y[v.PIPE]="|",y[v.BRACE_R]="}",y[v.NAME]="Name",y[v.INT]="Int",y[v.FLOAT]="Float",y[v.STRING]="String";var b=String.prototype.charCodeAt,E=String.prototype.slice},function(e,t,n){"use strict";function a(e){return(0,l.visit)(e,{leave:c})}function r(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function i(e){return e&&0!==e.length?o("{\n"+r(e,"\n"))+"\n}":"{}"}function s(e,t,n){return t?e+t+(n||""):""}function o(e){return e&&e.replace(/\n/g,"\n  ")}Object.defineProperty(t,"__esModule",{value:!0}),t.print=a;var l=n(9),c={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return r(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,a=s("(",r(e.variableDefinitions,", "),")"),i=r(e.directives," "),o=e.selectionSet;return n||i||a||"query"!==t?r([t,r([n,a]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,a=e.defaultValue;return t+": "+n+s(" = ",a)},SelectionSet:function(e){var t=e.selections;return i(t)},Field:function(e){var t=e.alias,n=e.name,a=e.arguments,i=e.directives,o=e.selectionSet;return r([s("",t,": ")+n+s("(",r(a,", "),")"),r(i," "),o]," ")},Argument:function(e){var t=e.name,n=e.value;return t+": "+n},FragmentSpread:function(e){var t=e.name,n=e.directives;return"..."+t+s(" ",r(n," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,a=e.selectionSet;return r(["...",s("on ",t),r(n," "),a]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,a=e.directives,i=e.selectionSet;return"fragment "+t+" on "+n+" "+s("",r(a," ")," ")+i},IntValue:function(e){var t=e.value;return t},FloatValue:function(e){var t=e.value;return t},StringValue:function(e){var t=e.value;return JSON.stringify(t)},BooleanValue:function(e){var t=e.value;return JSON.stringify(t)},EnumValue:function(e){var t=e.value;return t},ListValue:function(e){var t=e.values;return"["+r(t,", ")+"]"},ObjectValue:function(e){var t=e.fields;return"{"+r(t,", ")+"}"},ObjectField:function(e){var t=e.name,n=e.value;return t+": "+n},Directive:function(e){var t=e.name,n=e.arguments;return"@"+t+s("(",r(n,", "),")")},NamedType:function(e){var t=e.name;return t},ListType:function(e){var t=e.type;return"["+t+"]"},NonNullType:function(e){var t=e.type;return t+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return r(["schema",r(t," "),i(n)]," ")},OperationTypeDefinition:function(e){var t=e.operation,n=e.type;return t+": "+n},ScalarTypeDefinition:function(e){var t=e.name,n=e.directives;return r(["scalar",t,r(n," ")]," ")},ObjectTypeDefinition:function(e){var t=e.name,n=e.interfaces,a=e.directives,o=e.fields;return r(["type",t,s("implements ",r(n,", ")),r(a," "),i(o)]," ")},FieldDefinition:function(e){var t=e.name,n=e.arguments,a=e.type,i=e.directives;return t+s("(",r(n,", "),")")+": "+a+s(" ",r(i," "))},InputValueDefinition:function(e){var t=e.name,n=e.type,a=e.defaultValue,i=e.directives;return r([t+": "+n,s("= ",a),r(i," ")]," ")},InterfaceTypeDefinition:function(e){var t=e.name,n=e.directives,a=e.fields;return r(["interface",t,r(n," "),i(a)]," ")},UnionTypeDefinition:function(e){var t=e.name,n=e.directives,a=e.types;return r(["union",t,r(n," "),"= "+r(a," | ")]," ")},EnumTypeDefinition:function(e){var t=e.name,n=e.directives,a=e.values;return r(["enum",t,r(n," "),i(a)]," ")},EnumValueDefinition:function(e){var t=e.name,n=e.directives;return r([t,r(n," ")]," ")},InputObjectTypeDefinition:function(e){var t=e.name,n=e.directives,a=e.fields;return r(["input",t,r(n," "),i(a)]," ")},TypeExtensionDefinition:function(e){var t=e.definition;return"extend "+t},DirectiveDefinition:function(e){var t=e.name,n=e.arguments,a=e.locations;return"directive @"+t+s("(",r(n,", "),")")+" on "+r(a," | ")}}},function(e,t){"use strict";function n(e,t,n){var r=n||o,i=void 0,c=Array.isArray(e),p=[e],u=-1,d=[],m=void 0,h=[],f=[],g=e;do{u++;var v=u===p.length,y=void 0,b=void 0,E=v&&0!==d.length;if(v){if(y=0===f.length?void 0:h.pop(),b=m,m=f.pop(),E){if(c)b=b.slice();else{var _={};for(var R in b)b.hasOwnProperty(R)&&(_[R]=b[R]);b=_}for(var w=0,C=0;C<d.length;C++){var S=d[C][0],N=d[C][1];c&&(S-=w),c&&null===N?(b.splice(S,1),w++):b[S]=N}}u=i.index,p=i.keys,d=i.edits,c=i.inArray,i=i.prev}else{if(y=m?c?u:p[u]:void 0,b=m?m[y]:g,null===b||void 0===b)continue;m&&h.push(y)}var k=void 0;if(!Array.isArray(b)){if(!a(b))throw new Error("Invalid AST Node: "+JSON.stringify(b));var T=s(t,b.kind,v);if(T){if(k=T.call(t,b,y,m,h,f),k===l)break;if(k===!1){if(!v){h.pop();continue}}else if(void 0!==k&&(d.push([y,k]),!v)){if(!a(k)){h.pop();continue}b=k}}}void 0===k&&E&&d.push([y,b]),v||(i={inArray:c,index:u,keys:p,edits:d,prev:i},c=Array.isArray(b),p=c?b:r[b.kind]||[],u=-1,d=[],m&&f.push(m),m=b)}while(void 0!==i);return 0!==d.length&&(g=d[d.length-1][1]),g}function a(e){return e&&"string"==typeof e.kind}function r(e){var t=new Array(e.length);return{enter:function(n){for(var a=0;a<e.length;a++)if(!t[a]){var r=s(e[a],n.kind,!1);if(r){var i=r.apply(e[a],arguments);if(i===!1)t[a]=n;else if(i===l)t[a]=l;else if(void 0!==i)return i}}},leave:function(n){for(var a=0;a<e.length;a++)if(t[a])t[a]===n&&(t[a]=null);else{var r=s(e[a],n.kind,!0);if(r){var i=r.apply(e[a],arguments);if(i===l)t[a]=l;else if(void 0!==i&&i!==!1)return i}}}}}function i(e,t){return{enter:function(n){e.enter(n);var r=s(t,n.kind,!1);if(r){var i=r.apply(t,arguments);return void 0!==i&&(e.leave(n),a(i)&&e.enter(i)),i}},leave:function(n){var a=s(t,n.kind,!0),r=void 0;return a&&(r=a.apply(t,arguments)),e.leave(n),r}}}function s(e,t,n){var a=e[t];if(a){if(!n&&"function"==typeof a)return a;var r=n?a.leave:a.enter;if("function"==typeof r)return r}else{var i=n?e.leave:e.enter;if(i){if("function"==typeof i)return i;var s=i[t];if("function"==typeof s)return s}}}Object.defineProperty(t,"__esModule",{value:!0}),t.visit=n,t.visitInParallel=r,t.visitWithTypeInfo=i;var o=t.QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["name","directives"],ObjectTypeDefinition:["name","interfaces","directives","fields"],FieldDefinition:["name","arguments","type","directives"],InputValueDefinition:["name","type","defaultValue","directives"],InterfaceTypeDefinition:["name","directives","fields"],UnionTypeDefinition:["name","directives","types"],EnumTypeDefinition:["name","directives","values"],EnumValueDefinition:["name","directives"],InputObjectTypeDefinition:["name","directives","fields"],TypeExtensionDefinition:["definition"],DirectiveDefinition:["name","arguments","locations"]},l=t.BREAK={}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.VARIABLE="Variable",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.TYPE_EXTENSION_DEFINITION="TypeExtensionDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition"},function(e,t,n){"use strict";function a(e,t,n){var a=(0,s.getLocation)(e,t),i=new o.GraphQLError("Syntax Error "+e.name+" ("+a.line+":"+a.column+") "+n+"\n\n"+r(e,a),(void 0),(void 0),e,[t]);return i}function r(e,t){var n=t.line,a=(n-1).toString(),r=n.toString(),s=(n+1).toString(),o=s.length,l=e.body.split(/\r\n|[\n\r]/g);return(n>=2?i(o,a)+": "+l[n-2]+"\n":"")+i(o,r)+": "+l[n-1]+"\n"+Array(2+o+t.column).join(" ")+"^\n"+(n<l.length?i(o,s)+": "+l[n]+"\n":"")}function i(e,t){return Array(e-t.length+1).join(" ")+t}Object.defineProperty(t,"__esModule",{value:!0}),t.syntaxError=a;var s=n(6),o=n(4)},function(e,t,n){"use strict";function a(e,t,n){if(e&&e.hasOwnProperty("locations"))return e;var a=e?e.message||String(e):"An unknown error occurred.",i=e?e.stack:null;return new r.GraphQLError(a,t,i,null,null,n,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.locatedError=a;var r=n(4)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){return(0,s["default"])(e,"Received null or undefined error."),{message:e.message,locations:e.locations}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatError=r;var i=n(14),s=a(i)},function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n}])},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(40),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderJob=function(e){return React.createElement(r.BlockLink,{className:"job-list-item",href:e.url,key:e.id},React.createElement("img",{className:"job-list-item__image",src:e.thumbnailUrl}),React.createElement("div",{className:"job-list-item__body"},React.createElement("span",{className:"job-list-item__title"},e.positionName),React.createElement("span",{className:"job-list-item__subtitle"},e.companyName,e.locations.length?React.createElement("span",{className:"job-list-item__locations"},React.createElement("span",{className:"fa fa-map-marker"}),e.locations.join("; ")):"")),React.createElement("span",{className:"job-list-item__salary"},e.minimumSalary&&e.maximumSalary?"$"+r.numberWithCommas(e.minimumSalary)+"-"+r.numberWithCommas(e.maximumSalary):e.minimumSalary?"$"+r.numberWithCommas(e.minimumSalary)+"+":e.maximumSalary?"$"+r.numberWithCommas(e.maximumSalary):""),React.createElement("div",{className:"job-list-item__metadata"},React.createElement(r.TimeAgo,{className:"job-list-item__post-date",time:e.publishDate}),React.createElement("span",{className:"job-list-item__views"},React.createElement("span",{className:"fa fa-eye"}),e.totalViews)))},t.prototype.render=function(){return React.createElement("div",{className:"jobs"},this.props.data.loading?"Loading":this.props.data.jobs.map(this.renderJob))},t}(React.Component);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return this.props.isLoading?React.createElement("div",{className:"loading-text"},React.createElement("span",{className:"fa fa-refresh fa-spin fa-fw"}),this.props.text,"..."):null},t}(React.Component);t.LoadingText=a},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOpenClick=function(){n.props.onShow(),$("body").css({"overflow-x":"hidden","overflow-y":"scroll"}),$("html").css("overflow","hidden")},n.handleCloseClick=function(){n.props.onClose(),$("body").css({overflow:"visible"}),$("html").css("overflow","visible")},n.handleKeyDown=function(e){27==e.keyCode&&n.handleCloseClick()},n.handleStopPropagation=function(e){e.stopPropagation()},n}return n(t,e),t.prototype.componentDidMount=function(){$(document.body).on("keydown",this.handleKeyDown)},t.prototype.componentWillUnmount=function(){$(document.body).off("keydown",this.handleKeyDown)},t.prototype.componentWillReceiveProps=function(e){e.modalIsShown!=this.props.modalIsShown&&(e.modalIsShown?($("body").css({"overflow-x":"hidden","overflow-y":"scroll"}),$("html").css("overflow","hidden")):($("body").css({overflow:"visible"}),$("html").css("overflow","visible")))},t.prototype.render=function(){var e=this.props.modalIsShown?{}:{display:"none"};return React.createElement("div",{className:"modal"},React.createElement("div",{className:this.props.buttonClassName,onClick:this.handleOpenClick}),React.createElement("div",{className:"modal__background "+this.props.modalClassName,style:e,onMouseDown:this.handleCloseClick},React.createElement("div",{className:"modal__content",style:{display:"inline-block",margin:"auto"},onMouseDown:this.handleStopPropagation},this.props.modalContent||this.props.children)))},t}(React.Component);t.Modal=a},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getSuffix=function(){var e=this.props.children%10,t=Math.floor(this.props.children%100/10),n="th";return 1===e?n="st":2===e?n="nd":3==e&&(n="rd"),1===t&&(n="th"),n},t.prototype.render=function(){return React.createElement("span",null,this.props.children.toString()+this.getSuffix())},t}(React.Component);t.Ordinal=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(32),i=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.render=function(){
return React.createElement(r.BlockLink,{className:"organization-card",href:this.props.url},React.createElement("img",{src:this.props.imageUrl,alt:this.props.name,className:"organization-card__image"}),React.createElement("span",{className:"organization-card__name"},this.props.name))},t}(React.Component);t.OrganizationCard=i},function(e,t,n){"use strict";function a(e,t){return t?e+" "+e+"--"+t:e}function r(e,t){return t?e+"--"+t:e}function i(e,t,n,a){void 0===t&&(t=null),void 0===n&&(n=""),void 0===a&&(a=null);var r={count:null==a?null:d.numberWithCommas(a),title:e.toLowerCase(),href:n,text:t||e,tab:e.toLowerCase()};return r}var s=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l=n(7),c=n(204),p=n(205),u=n(29),d=n(112),m=n(4);t.buildLink=i;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.renderIcon=function(){return this.props.faIcon&&React.createElement("i",{key:this.props.faIcon,className:"pageheader__page-message-icon fa "+this.props.faIcon})},t.prototype.render=function(){var e=null;if(this.props.message&&""!==this.props.message)e=React.createElement("span",{key:this.props.type,className:m("pageheader__pagemessagecontent","pageheader__pagemessagecontent--"+this.props.type,{"pageheader__pagemessagecontent--custom-icon":!!this.props.faIcon})},this.renderIcon(),React.createElement("span",null,this.props.message));else{if(!this.props.htmlMessage||""===this.props.htmlMessage)return null;e=React.createElement("span",{key:this.props.type,className:m("pageheader__pagemessagecontent","pageheader__pagemessagecontent--"+this.props.type,{"pageheader__pagemessagecontent--custom-icon":!!this.props.faIcon})},this.renderIcon(),React.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.htmlMessage}}))}return React.createElement("div",{className:m("pageheader__pagemessage","pageheader__pagemessage--"+this.props.type)},e)},t}(React.Component);t.PageMessageComponent=h;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){return React.createElement("div",{className:"pageheader"},React.createElement("div",{className:m("pageheader__container",this.props.backgroundClass)},this.props.children))},t}(React.Component);t.PageHeader=f;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){return React.createElement("div",{className:"pageheader__fork-section"},React.createElement("div",{className:"pageheader__forked-symbol"},"L"),React.createElement("span",null,"forked from",React.createElement("span",{className:"pageheader__subtitle-link"}," ",React.createElement("a",{href:this.props.forkParentUrl},this.props.forkParentTitle))," by ",React.createElement("span",{className:"pageheader__subtitle-link"},React.createElement("a",{href:this.props.forkParentAuthorUrl},this.props.forkParentAuthorDisplayName)," "),React.createElement("a",{href:this.props.forkDiffUrl,className:"pageheader__diff"},"(",React.createElement("span",{className:"pageheader__diff-inserted"},"+",this.props.forkDiffLinesInserted),"/",React.createElement("span",{className:"pageheader__diff-deleted"},"-",this.props.forkDiffLinesDeleted),"/",React.createElement("span",{className:"pageheader__diff-changed"},"~",this.props.forkDiffLinesChanged),") ")))},t}(React.Component);t.PageHeaderForkInfo=g;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){var e=React.createElement("a",{href:this.props.userUrl,className:"pageheader__author-name"},this.props.userName),t=null,n=null;this.props.versionLink&&(t=React.createElement("span",null," · ",this.props.versionLink),n=React.createElement("span",null,this.props.versionLink," · "));var a=null;return this.props.dateUpdated&&(a=React.createElement("time",{dateTime:this.props.dateUpdated.toString(),title:this.props.dateUpdated.toString()},"last ",this.props.runTimeVerb," ",React.createElement(l.TimeAgo,{time:this.props.dateUpdated}))),this.props.showUserName&&this.props.showDateUpdated&&this.props.dateUpdated?React.createElement("span",null,"by ",e,t," · ",a):this.props.showUserName?React.createElement("span",null,"by ",e,t):this.props.showDateUpdated&&this.props.dateUpdated?React.createElement("span",null,n,a):null},t}(React.Component);t.PageHeaderUserNameAndRunTime=v;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){var e=this.props.nodeId||null;return React.createElement("div",{className:"pageheader__top--safe",id:e},this.props.children)},t}(React.Component);t.PageHeaderTopRowSafe=y;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){var e,t;this.props.isEditingHeaderInfo?(e=this.props.title,t=this.props.subtitle):(e=this.props.titleUrl?React.createElement("a",{href:this.props.titleUrl,className:a("pageheader__title",this.props.modifier)},this.props.title):React.createElement("div",{className:a("pageheader__title",this.props.modifier),onClick:this.props.onTitleClick||null},this.props.title),t=React.createElement("a",{href:this.props.titleUrl,className:a("pageheader__subtitle",this.props.modifier)},React.createElement("p",null,this.props.subtitle),this.props.forkInfo?this.props.forkInfo:null));var n=this.props.nodeId||null;return React.createElement("div",{className:a("pageheader__top",this.props.modifier),id:n},React.createElement("a",{href:this.props.titleUrl,className:a("pageheader__top-overlay",this.props.modifier)}),this.props.coverImageUrl&&React.createElement("div",{className:a("pageheader__top-image",this.props.modifier)},React.createElement("img",{src:this.props.coverImageUrl})),e,this.props.editHeaderButton&&this.props.canEdit?this.props.editHeaderButton:null,t,this.props.children)},t}(React.Component);t.PageHeaderTopRow=b;var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){return React.createElement("div",{className:r("pageheader__"+this.props.classNameElement,this.props.classNameModifier)},React.createElement("a",{href:this.props.targetUrl},React.createElement("img",{src:this.props.imageUrl})),this.props.thumbnailOverlay?this.props.thumbnailOverlay:null)},t}(React.Component);t.PageHeaderThumbnail=E;var _=function(e){function t(t){var n=e.call(this,t)||this;return n.state={lockOverflowDropdown:!1,showOverflowDropdown:!1},n}return s(t,e),t.prototype.handleNavClick=function(e,t){e.ctrlKey||e.shiftKey||e.metaKey||e.button&&1==e.button||this.props.changeActiveTab&&(e.preventDefault(),this.props.changeActiveTab(t))},t.prototype.getLinkText=function(e){return e.text+(e.count?" ("+e.count+")":e.showZeroCountExplicitly?" (0)":"")},t.prototype.render=function(){var e=this;return React.createElement("nav",{className:a("pageheader__nav",this.props.classNameModifier)},React.createElement(u.MediaQuery,{minWidth:0,maxWidth:u.Breakpoints.tabletMax},React.createElement("div",{className:"pageheader__nav-wrapper"},this.props.menuLinks||this.props.overflowMenuLinks?(this.props.menuLinks?this.props.menuLinks:[]).concat(this.props.overflowMenuLinks).filter(function(e){return null!=e}).map(function(t,n){return React.createElement("a",{key:"pageheader__left-link--"+n,href:t.href||t.tab,title:t.title,className:m("pageheader__left-links","pageheader__left-links--with-onclick",(t.text||"").toUpperCase()===(e.props.activeTab||"").toUpperCase()?"pageheader__left-links--selected":""),onClick:function(n){return t.actionCallback?t.actionCallback(n):t.tab?e.handleNavClick(n,t.text):""},"data-link-text":e.getLinkText(t)},e.getLinkText(t))}):null,React.createElement("div",{className:"pageheader__right-links-wrapper"},this.props.rightMenuLinks?this.props.rightMenuLinks.map(function(t,n){return React.createElement("a",{key:"pageheader__right-link--"+n,href:t.href,title:t.title,className:m("pageheader__right-links","pageheader__right-links--with-onclick",t.text.toUpperCase()==e.props.activeTab.toUpperCase()?"pageheader__right-links--selected":"",t.tab&&t.tab.toUpperCase()==e.props.activeTab.toUpperCase()?"pageheader__right-links--selected":""),onClick:t.actionCallback?function(e){return t.actionCallback(e)}:t.tab?function(n){return e.handleNavClick(n,t.tab)}:!t.href&&t.text?function(n){return e.handleNavClick(n,t.text)}:null,"data-link-text":e.getLinkText(t)},t.text)}):null))),React.createElement(u.MediaQuery,{minWidth:u.Breakpoints.desktopMin},React.createElement("div",{className:"pageheader__nav-wrapper"},this.props.menuLinks?this.props.menuLinks.filter(function(e){return null!=e}).map(function(t,n){return React.createElement("a",{key:"pageheader__left-link--"+n,href:t.href||t.tab,title:t.title,className:m("pageheader__left-links","pageheader__left-links--with-onclick",(t.text||"").toUpperCase()===(e.props.activeTab||"").toUpperCase()?"pageheader__left-links--selected":""),onClick:function(n){return t.actionCallback?t.actionCallback(n):t.tab?e.handleNavClick(n,t.text):""},"data-link-text":e.getLinkText(t)},e.getLinkText(t))}):null,this.props.overflowMenuLinks&&this.props.overflowMenuLinks.length?React.createElement("div",{onMouseEnter:function(){e.state.lockOverflowDropdown||e.setState({showOverflowDropdown:!0})},onMouseLeave:function(){e.state.lockOverflowDropdown||e.setState({showOverflowDropdown:!1})}},React.createElement("a",{key:"pageheader__left-link--"+(this.props.menuLinks?this.props.menuLinks.length:0),title:"More",className:m("pageheader__left-links","pageheader__left-links--with-onclick","pageheader__more-link",this.state.lockOverflowDropdown?"pageheader__left-links--selected":""),"data-link-text":"More"},React.createElement("p",{className:"pageheader__more-link-wrapper"},"More"),this.state.showOverflowDropdown?React.createElement("div",{className:"pageheader__nav-overflow"},this.props.overflowMenuLinks.map(function(t,n){return React.createElement("span",{key:"pageheader__overflow-link--"+n,className:"pageheader__overflow-link-wrapper"},React.createElement("a",{href:t.href||t.tab,title:t.title,className:m("pageheader__left-links","pageheader__overflow-links",(t.text||"").toUpperCase()===(e.props.activeTab||"").toUpperCase()?"pageheader__left-links--selected":""),onClick:function(n){return t.actionCallback?t.actionCallback(n):t.tab?e.handleNavClick(n,t.text):""},"data-link-text":e.getLinkText(t)},e.getLinkText(t)))})):null)):null,React.createElement("div",{className:"pageheader__right-links-wrapper"},this.props.rightMenuLinks?this.props.rightMenuLinks.map(function(t,n){return React.createElement("a",{key:"pageheader__right-link--"+n,href:t.href,title:t.title,className:m("pageheader__right-links","pageheader__right-links--with-onclick",t.text.toUpperCase()==e.props.activeTab.toUpperCase()?"pageheader__right-links--selected":"",t.tab&&t.tab.toUpperCase()==e.props.activeTab.toUpperCase()?"pageheader__right-links--selected":""),onClick:t.actionCallback?function(e){return t.actionCallback(e)}:t.tab?function(n){return e.handleNavClick(n,t.tab)}:!t.href&&t.text?function(n){return e.handleNavClick(n,t.text)}:null,"data-link-text":e.getLinkText(t)},t.text)}):null))))},t}(React.Component);t.PageHeaderNav=_;var R=function(e){function t(t){var n=e.call(this,t)||this;return n.onPageMessagesUpdated=function(e){n.setState({pageMessages:e})},n.state={pageMessages:[]},n}return s(t,e),t.prototype.componentWillReceiveProps=function(e){var t=JSON.stringify(this.props.pageMessages)!==JSON.stringify(e.pageMessages);t&&(p.PageMessages.clear(),p.PageMessages.add(e.pageMessages))},t.prototype.componentDidMount=function(){p.PageMessages.addListener(this.onPageMessagesUpdated),p.PageMessages.add(this.props.pageMessages)},t.prototype.componentWillUnmount=function(){p.PageMessages.removeListener(this.onPageMessagesUpdated)},t.prototype.render=function(){return React.createElement(c.StickyScroll,{stickyClassName:"pageheader__sticky--stuck",scrollingClassName:"pageheader__sticky--scrolling",className:"pageheader__sticky"},React.createElement("div",{className:"pageheader__bottom"},this.props.children),React.createElement("div",null,null!=this.state.pageMessages?this.state.pageMessages.map(function(e,t){return React.createElement(h,o({key:"pageheader__pagemessage--"+t},e))}):""),React.createElement("div",{className:"pageheader__transition"}))},t}(React.Component);t.PageHeaderBottomRow=R;var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){var e=this;return React.createElement("a",{className:this.props.isActive?"pageheader__calltoaction--active":this.props.isMuted?"pageheader__calltoaction--muted":"pageheader__calltoaction",href:this.props.href?this.props.href:null,onClick:function(t){return e.props.onClick(t)},title:this.props.title},this.props.text)},t}(React.Component);t.PageHeaderCallToAction=w},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(4),i=function(e){function t(t){var n=e.call(this,t)||this;return n.scrollListener=function(){n.setState({isStuck:$(window).scrollTop()>=n.offsetTop})},n.state={isStuck:!1},n}return a(t,e),t.prototype.componentDidMount=function(){var e=this;window.setTimeout(function(){var t=function(){return ReactDOM.findDOMNode(e).getBoundingClientRect().top+window.scrollY};e.offsetTop=t(),$().ready(function(){return e.offsetTop=t()}),window.addEventListener("scroll",e.scrollListener),e.scrollListener()})},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.scrollListener)},t.prototype.render=function(){var e={visibility:"hidden"};return React.createElement("div",null,React.createElement("div",{className:r(this.props.className,this.state.isStuck?this.props.stickyClassName:this.props.scrollingClassName)},this.props.children),this.state.isStuck?React.createElement("div",{className:r(this.props.className,this.props.scrollingClassName),style:e},this.props.children):"")},t}(React.Component);t.StickyScroll=i},function(e,t,n){"use strict";var a=n(24),r=function(){function e(){}return e.error=function(e,t){this.pushAndNotifyListeners("error",e,t)},e.info=function(e,t){this.pushAndNotifyListeners("info",e,t)},e.warning=function(e,t){this.pushAndNotifyListeners("warning",e,t)},e.success=function(e,t){this.pushAndNotifyListeners("success",e,t)},e.site=function(e,t){this.pushAndNotifyListeners("site",e,t)},e.clear=function(){this.messages=this.messages.filter(function(e){return e.isPersistent}),this.notifyListeners()},e.set=function(e){this.clear(),this.add(e),this.notifyListeners()},e.add=function(e){e&&(this.messages=this.messages.concat(e),this.notifyListeners())},e.remove=function(e){this.messages=this.messages.filter(function(t){return t.id!==e}),this.notifyListeners()},e.addListener=function(e){this.listeners.push(e),this.notifyListeners()},e.removeListener=function(e){this.listeners.splice(this.listeners.indexOf(e),1)},e.pushAndNotifyListeners=function(e,t,n){n&&n.clear&&this.clear(),t&&(this.messages.push("string"==typeof t?{type:e,message:t,faIcon:n&&n.faIcon}:a.extend(t,{type:e})),this.notifyListeners())},e.notifyListeners=function(){for(var e=0,t=this.listeners;e<t.length;e++){var n=t[e];n(this.messages)}},e}();r.messages=window.Kaggle.PageMessages||[],r.listeners=[],t.PageMessages=r},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(207),i=n(24);t.DEFAULT_PAGE_SIZE=20;var s=function(e){function n(t){var n=e.call(this,t)||this;return n.onSearchChange=function(e){null==n.qTextBox||""==n.qTextBox;n.qTextBox=e.target.value,n.timer&&clearInterval(n.timer);var t=n.props.groupDefaultSortBys?n.props.groupDefaultSortBys.filter(function(e){return e.group===n.state.values.group}):null,a=t&&t.length>0?t[0].sortBy:n.props.sortOptions&&n.props.sortOptions[0].value,r=null!=n.qTextBox&&""!=n.qTextBox||"relevance"!=n.state.values.sortBy?n.qTextBox?"relevance":n.state.values.sortBy:n.state.userLastSelectedSortBy||a,i=n.props.groupSearchRedirects&&n.props.groupSearchRedirects.filter(function(e){return e.searchedGroup==n.state.values.group}),s=i&&i.length>0?i[0].redirectToGroup:n.state.values.group;n.setState({values:n.mergeValues({search:n.qTextBox,sortBy:r,group:s})}),n.timer=window.setInterval(function(){return n.updateSearch(n.qTextBox)},300)},n.handleBeforeUnload=function(e){var t=$(".smart-list");t.is(document.activeElement)||0!==t.has(document.activeElement).length||n.logSearchAction()},n.updateSearch=function(e){n.timer&&clearInterval(n.timer),n.onSelectionsChanged(!0)},n.logSearchAction=function(e,t,a){n.state.values.search&&$.ajax({url:"/search/log",type:"POST",data:{index:n.props.searchIndex,isQuick:!1,q:n.state.values.search,isSuccess:null!=e&&null!=t,rank:a,id:e,url:t}})},n.onFilterChanged=function(e,t){var a={};a[e]=t,n.setValueState(a,!0)},n.onWindowPopState=function(e){if(e.state)n.setValueState(e.state,!1);else{var t=n.getDefaultState();n.setValueState(t.values,!1)}},n.updateOpenMobileSort=function(e){n.setState({openMobileSort:e})},n.state=n.getDefaultState(),n}return a(n,e),n.prototype.componentDidUpdate=function(){this.props.onDidUpdate&&this.props.onDidUpdate()},n.prototype.componentDidMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1),window.addEventListener("beforeunload",this.handleBeforeUnload,!1),this.props.data?this.setData(this.props.data):this.getData()},n.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1),window.removeEventListener("beforeunload",this.handleBeforeUnload,!1)},n.prototype.componentWillReceiveProps=function(e){e.data&&!i.isEqual(e.data,this.state.data)&&this.setData(e.data)},n.prototype.getDefaultState=function(){var e=$.extend(!0,{sortBy:this.props.sortOptions?this.props.sortOptions[0].value:null,group:this.props.groups?this.props.groups[0].value:null,search:"",page:1},this.props.values);return{isLoadingMoreData:!0,hasMoreData:!0,list:[],onScroll:this.onScroll.bind(this),onSortByChanged:this.onSortByChanged.bind(this),boundSelectionGroups:this.getBoundSelectionGroups.bind(this),pageSize:this.props.pageSize||t.DEFAULT_PAGE_SIZE,values:e,userLastSelectedSortBy:null}},n.prototype.getBoundSelectionGroups=function(){var e=this;return this.props.groups?this.props.groups.map(function(t){return t.separator?{separator:!0}:{key:t.value,name:t.label,href:"?sortBy="+e.state.values.sortBy+"&group="+t.value,action:function(){return e.onSelectionGroupChanged(t.value)}}}):null},n.prototype.getQueryStringParameters=function(){var e=this,t={};for(var n in this.state.values){var a=this.state.values[n];("search"!=n||!this.props.searchableGroups||this.props.searchableGroups.filter(function(t){return t==e.state.values.group}).length>0)&&a&&(t[n]=a)}return $.param(t)},n.prototype.getData=function(){return this.setState({isLoadingMoreData:!0}),this.currentDataRequest&&4!==this.currentDataRequest.readyState&&this.currentDataRequest.abort(),this.currentDataRequest=$.ajax({url:this.props.dataUrl+"?"+this.getQueryStringParameters(),method:"GET",success:this.setData.bind(this)}),this.currentDataRequest},n.prototype.setData=function(e){var t=this,n=e;if(this.props.dataPathToList)for(var a=0,r=this.props.dataPathToList.split(".");a<r.length;a++){var i=r[a];n=n[i]}var s=n,o=this.state.list.concat(n);s&&this.setState({isLoadingMoreData:!1,hasMoreData:s.length>0,hasLoadedSomeData:o.length>0,list:o,data:e,children:o.map(function(e,n){return t.props.itemRenderer(e,n,t.logSearchAction)})},function(){return t.props.onDataLoaded?t.props.onDataLoaded(e):null})},n.prototype.setValueState=function(e,t){var n=this;this.setState({values:this.mergeValues(e)},function(){return n.onSelectionsChanged(t)})},n.prototype.mergeValues=function(e){return $.extend(!0,this.state.values,e)},n.prototype.onSelectionGroupChanged=function(e){var t=this.props.groupDefaultSortBys?this.props.groupDefaultSortBys.filter(function(t){return t.group===e}):null,n=this.state.userLastSelectedSortBy||(t&&t.length>0?t[0].sortBy:this.state.values.sortBy),a=this.props.groupSearchRedirects&&this.props.groupSearchRedirects.filter(function(t){return t.searchedGroup==e}).length>0||!this.props.searchableGroups||0==this.props.searchableGroups.filter(function(t){return t==e}).length;this.setValueState({group:e,sortBy:n,search:a?"":this.state.values.search},!0)},n.prototype.onSortByChanged=function(e){var t=this;this.setState({values:this.mergeValues({sortBy:e}),userLastSelectedSortBy:"relevance"==e?this.state.userLastSelectedSortBy:e},function(){return t.onSelectionsChanged(!0)})},n.prototype.onSelectionsChanged=function(e){var t=this;this.props.onSelectionsChanged&&this.props.onSelectionsChanged(this.state.values.sortBy,this.state.values.group);var n=this.refs.container;n&&(n.style.minHeight=$(n).height()+"px"),this.setState({openMobileSort:!1,isLoadingMoreData:!0,hasMoreData:!0,hasLoadedSomeData:!1,list:[],children:[],values:this.mergeValues({page:1})},function(){var a=window.location.pathname+"?"+t.getQueryStringParameters();t.getData().then(function(){e&&window.history.pushState(t.state.values,null,a),n&&(n.style.minHeight="initial")})})},n.prototype.onScroll=function(){var e=this;this.state.isLoadingMoreData||!this.state.hasMoreData||0!=this.state.list.length&&this.state.list.length<this.state.pageSize||this.setState({isLoadingMoreData:!0,values:this.mergeValues({page:this.state.values.page+1})},function(){e.getData()})},n.prototype.render=function(){var e={updateOpenMobileSort:this.updateOpenMobileSort,onFilterChanged:this.onFilterChanged,onSearchChange:this.onSearchChange};return this.props.isHidden?null:React.createElement("div",{ref:"container"},React.createElement(r.SmartList,$.extend({},this.props,this.state,e)))},n}(React.Component);t.SmartListContainer=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(5),i=n(13),s=n(26),o=n(27),l=n(29),c=n(30),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderTitle=function(){return this.props.selectionGroupInTitle?this.renderSelectionGroups():this.props.title||(this.props.titleResolver?this.props.titleResolver(this.props.list,this.props):null)},t.prototype.renderSelectionGroups=function(){return this.props.groups?React.createElement(o.SelectionGroup,{children:this.props.boundSelectionGroups(),selected:this.props.values.group,filters:this.renderFiltersAndSearch()}):null},t.prototype.renderFilter=function(e,t,n){var a=this;return React.createElement(i.SelectBox,{key:t,options:e.options,onChange:function(t){return a.props.onFilterChanged(e.parameter,t)},searchable:!1,value:this.props.values[e.parameter]||e["default"]||"",placeholder:e.placeholder,className:(n?"KaggleBoxlessSelectSafe":null)+" smart-list__filter smart-list__filter--"+(n?"boxless":"boxed")})},t.prototype.renderSearch=function(e){var t=this,n=!this.props.searchableGroups||0==this.props.searchableGroups.filter(function(e){return t.props.values.group==e}).length;return this.props.searchIndex?React.createElement("label",{className:"smart-list__search-wrapper smart-list__search-wrapper--"+e},React.createElement("input",{type:"text",className:"smart-list__search smart-list__search--"+e,ref:"search",value:this.props.values.search,onChange:this.props.onSearchChange,disabled:n}),React.createElement("div",{className:"fa fa-search smart-list__search-button",disabled:n})):null},t.prototype.renderFiltersAndSearch=function(){var e=this,t=this.props.filtersOptions?this.props.filtersOptions.map(function(t,n){return e.renderFilter(t,n,!0)}):null;return React.createElement(l.MediaQuery,{minWidth:this.props.mobileSortUpperBound+1},React.createElement("div",{className:"smart-list__sub-title-right"},t,this.renderSearch("sub-title-bar")))},t.prototype.renderSortBy=function(){var e=this;return this.props.sortOptions?React.createElement("div",null,React.createElement(l.MediaQuery,{minWidth:this.props.mobileSortUpperBound+1},React.createElement("div",{className:"smart-list__sort"},React.createElement("p",{className:"smart-list__sort-label"},"Sort By"),React.createElement(i.SelectBox,{options:this.props.sortOptions.filter(function(t){return"relevance"!=t.value==!e.props.values.search}),onChange:this.props.onSortByChanged,searchable:!1,value:this.props.values.sortBy}))),React.createElement(l.MediaQuery,{minWidth:0,maxWidth:this.props.mobileSortUpperBound},React.createElement("a",{className:"script-list-react__sort-link--mobile",onClick:function(t){return e.props.updateOpenMobileSort(!0)}},"Filter/Sort ",React.createElement("span",{className:"fa fa-chevron-right"})))):null},t.prototype.renderOptionalLoadingMessage=function(){return this.props.isLoadingMoreData?React.createElement("div",{className:"smart-list__message"},"Loading ",this.props.hasLoadedSomeData?"more ":"",this.props.pluralItemDescription,"..."):null},t.prototype.renderOptionalNoMoreDataMessage=function(){return!this.props.isLoadingMoreData&&this.props.children&&(0===this.props.children.length||this.props.children.length>this.props.pageSize||this.props.listFooterRenderer)?this.props.listFooterRenderer?this.props.listFooterRenderer(this.props.list,this.props):React.createElement("div",{className:"smart-list__message"},React.createElement("span",null,"No ",this.props.hasLoadedSomeData?"more ":"",this.props.pluralItemDescription," to show ¯\\_(ツ) _/¯"),React.createElement("br",null)):null},t.prototype.renderSubTitleBar=function(){return this.props.selectionGroupInTitle?null:this.renderSelectionGroups()},t.prototype.renderContent=function(){var e=this;return React.createElement("div",{className:"smart-list__content"},React.createElement(l.MediaQuery,{minWidth:0,maxWidth:this.props.mobileSortUpperBound},React.createElement(c.OffCanvasContainer,{closeButtonCallback:function(){return e.props.updateOpenMobileSort(!1)},shouldShowOffCanvas:this.props.openMobileSort,shouldUseCloseButton:!0,shouldUseRightSide:!0},React.createElement("div",{className:"smart-list__sort-menu--mobile"},React.createElement("p",{className:"smart-list__sort-label--mobile"},"Sort By"),this.props.sortOptions?React.createElement(i.SelectBox,{className:"smart-list__sort--mobile",options:this.props.sortOptions.filter(function(t){return"relevance"!=t.value||e.props.values.search}),onChange:this.props.onSortByChanged,searchable:!1,value:this.props.values.sortBy}):null),this.props.filtersOptions?this.props.filtersOptions.map(function(t,n){return React.createElement("div",{className:"smart-list__sort-menu--mobile",key:n},React.createElement("p",{className:"smart-list__sort-label--mobile"},t.placeholder),e.renderFilter(t,n,!1))}):null,React.createElement("div",null,this.renderSearch("off-canvas")))),React.createElement(s.WindowInfiniteScroll,{onScroll:this.props.onScroll,height:this.props.contentHeight},this.props.listHeaderRenderer?this.props.listHeaderRenderer(this.props.list,this.props):null,this.props.children,this.renderOptionalLoadingMessage(),this.renderOptionalNoMoreDataMessage()))},t.prototype.render=function(){return this.props.isUnstyled?this.renderContent():React.createElement("div",{className:"smart-list smart-list--"+(this.props.selectionGroupInTitle?"groups-in-title":"standard")},React.createElement(r.ContentBox,{title:this.renderTitle(),titleBarRightSide:this.props.titleBarRightSide||this.renderSortBy(),subTitleBar:this.renderSubTitleBar(),containerClassName:this.props.containerClassName,contentClassName:this.props.contentClassName},this.renderContent()))},t}(React.Component);t.SmartList=p},function(e,t){"use strict";var n=function(){function e(){this.clear()}return e.prototype.clear=function(){this.stopTimer(),this.timerStart=null,this.timerEnd=null,this.displayCallback&&this.displayCallback("")},e.prototype.setStartTime=function(e){void 0===e&&(e=null),e?this.timerStart=e:this.timerStart=new Date},e.prototype.getElapsedTimeString=function(){if(!this.timerStart)return"";var e=this.getElapsedMilliseconds(),t=e/1e3,n=Math.floor(t/3600),a=Math.floor(t/60)%60,r=Math.floor(t)%60,i=(r<10?"0":"")+r;if(t<3600)return a+":"+i;var s=(a<10?"0":"")+a;return n+":"+s+":"+i},e.prototype.getElapsedMilliseconds=function(){var e=this.timerEnd;return this.paused||(e=new Date),e.getTime()-this.timerStart.getTime()},e.prototype.startTimer=function(){this.startTimerFrom(new Date)},e.prototype.startTimerFrom=function(e){this.displayCallback||console.warn("scriptTimer: starting timer without callback"),this.setStartTime(e);var t=this;this.timerIntervalId=window.setInterval(function(){return t.updateTimer()},1e3),this.paused=!1,this.updateTimer()},e.prototype.setToZero=function(){this.stopTimer(),this.timerStart=this.timerEnd,this.updateTimer()},e.prototype.updateTimer=function(){this.displayCallback&&this.displayCallback(this.getElapsedTimeString())},e.prototype.stopTimer=function(){this.timerIntervalId>=0&&window.clearInterval(this.timerIntervalId),this.timerIntervalId=-1,this.paused=!0,this.timerEnd=new Date},e.prototype.setDisplayCallback=function(e){this.displayCallback=e},e.prototype.isRunning=function(){return!this.paused},e}();t.Timer=n},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e={};this.props.height>0&&(e.height=this.props.height+48+"px");var t={};this.props.displayIframe||(t.display="none");var n={display:this.props.displayLoadingPanel?"inherit":"none"};return React.createElement("div",{className:"script-notebook-pane",style:t},React.createElement(r.ContentBox,{title:this.props.contentBoxTitle},React.createElement("div",{className:"script-notebook-pane__container"},React.createElement("iframe",{src:this.props.iframeUrl,style:e}),React.createElement("div",{className:"script-notebook-pane__loading",style:n},React.createElement("div",{className:"script-notebook-pane__loading-content"},React.createElement("span",{className:"fa fa-circle-o-notch fa-spin"}))))))},t}(React.Component);t.ScriptNotebookPane=i;var s=function(e){function t(t){var n=e.call(this,t)||this;return n.handleResizeMessage=function(e){if(!isNaN(e.data)){var t=parseInt(e.data);n.setState({height:t,iframeReady:!0,hasBeenRendered:!0})}},n.state={height:552,iframeReady:!1,hasBeenRendered:n.props.displayIframe},n}return a(t,e),t.prototype.componentWillUnmount=function(){window.removeEventListener("message",this.handleResizeMessage)},t.prototype.componentDidMount=function(){window.addEventListener("message",this.handleResizeMessage,!1)},t.prototype.render=function(){if(!this.props.displayIframe&&!this.state.hasBeenRendered)return null;var e=this.props.displayIframe,t=this.props.displayIframe&&(!this.state.iframeReady||0===this.state.height);return React.createElement(i,{iframeUrl:this.props.iframeUrl,height:this.state.height,displayIframe:e,displayLoadingPanel:t,contentBoxTitle:this.props.isNotebook?"Notebook":"Report"})},t}(React.Component);t.ScriptNotebookPaneContainer=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e;
}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(5),i=n(164),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this,t=React.createElement("div",{className:"script-code-pane__right-section"},React.createElement("a",{href:this.props.downloadAllFilesUrl,className:"script-code-pane__download"},"Download All"));return React.createElement("div",{ref:function(t){return e.props.setEnclosingElement(t)}},React.createElement(r.ContentBox,{title:"Output",titleBarRightSide:t},React.createElement(i.FilePreviewList,{files:this.props.fileListItems,showSubmitToCompButtons:this.props.showSubmitToCompButtons,scriptVersionId:this.props.scriptVersionId,competitionName:this.props.competitionName,submitToCompUrl:this.props.submitToCompUrl})))},t}(React.Component);t.ScriptFilesPaneContainer=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(5),i=n(7),s=n(38),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e,t=this.props.item,n=this.props.previousItem,a=Math.round(10*t.runInfo.runTimeSeconds)/10+"s",r=s(t.outputFilesTotalSizeBytes),o=0===t.versionNumber?React.createElement("span",{className:"script-versions-pane__fork-parent"},"Forked from"):React.createElement("span",{className:"script-versions-pane__version-number"},"Version ",t.versionNumber),l=new Date(t.lastRunTime),c=!isNaN(l.getTime()),p=c?React.createElement(i.TimeAgo,{time:l}):t.lastRunTime,u=React.createElement("span",null,React.createElement("span",{className:"script-versions-pane__diff-inserted"},"+",t.linesInsertedFromPrevious),"/",React.createElement("span",{className:"script-versions-pane__diff-deleted"},"–",t.linesDeletedFromPrevious),"/",React.createElement("span",{className:"script-versions-pane__diff-changed"},"~",t.linesChangedFromPrevious));return e=n?React.createElement("a",{href:"/kernels/diff/"+n.id+"/"+t.id},u):React.createElement("span",null),React.createElement("div",{key:t.id,className:"script-versions-pane__item"+(t.runInfo.succeeded?" script-versions-pane__item--successful":" script-versions-pane__item--error")},React.createElement("a",{href:t.url,className:"script-versions-pane__version-count"},o),React.createElement("a",{href:t.url,className:"script-versions-pane__version-icon"},React.createElement("span",null,React.createElement("span",{className:t.runInfo.succeeded?"fa fa-check":"fa fa-times"}))),React.createElement("a",{href:t.url,className:"script-versions-pane__version-title"},React.createElement("span",null,t.title)),React.createElement("a",{href:t.url,className:"script-versions-pane__version-last-run-time"},React.createElement("span",null,p)),React.createElement("a",{href:t.url,className:"script-versions-pane__version-run-time"},React.createElement("span",null,a)),React.createElement("a",{href:t.url,className:"script-versions-pane__version-output-size"},React.createElement("span",null,r)),React.createElement("a",{href:t.url,className:"script-versions-pane__version-language-name"},React.createElement("span",null,t.languageName)),React.createElement("a",{href:t.url,className:"script-versions-pane__is-notebook"},React.createElement("span",null,t.isNotebook?"Notebook":"Script")),React.createElement("span",{className:"script-versions-pane__version-diff"},e),React.createElement("div",{className:"script-versions-pane__diff-buttons"},React.createElement("input",{type:"radio",checked:this.props.leftDiffButtonInitiallySelected,onChange:this.props.updateLeftDiffId}),React.createElement("input",{type:"radio",checked:this.props.rightDiffButtonInitiallySelected,onChange:this.props.updateRightDiffId})))},t}(React.Component);t.ScriptVersionsPaneRow=o;var l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={leftDiffScriptVersionId:n.props.versionHistory[0].id,rightDiffScriptVersionId:n.props.versionHistory[n.props.versionHistory.length-1].id},n}return a(t,e),t.prototype.updateLeftDiffId=function(e){this.setState({leftDiffScriptVersionId:e})},t.prototype.updateRightDiffId=function(e){this.setState({rightDiffScriptVersionId:e})},t.prototype.render=function(){var e=this,t=React.createElement("div",{className:"script-code-pane__right-section"},React.createElement("a",{href:"/kernels/diff/"+this.state.leftDiffScriptVersionId+"/"+this.state.rightDiffScriptVersionId,className:"script-versions-pane__diff-button"},"View Diff"));return React.createElement("div",{className:"script-versions-pane"},React.createElement(r.ContentBox,{title:"Versions",titleBarRightSide:t},this.props.versionHistory.map(function(t,n,a){return React.createElement(o,{key:t.id,item:t,previousItem:n<a.length-1?a[n+1]:null,updateLeftDiffId:function(){return e.updateLeftDiffId(t.id)},updateRightDiffId:function(){return e.updateRightDiffId(t.id)},leftDiffButtonInitiallySelected:t.id==e.state.leftDiffScriptVersionId,rightDiffButtonInitiallySelected:t.id==e.state.rightDiffScriptVersionId})})))},t}(React.Component);t.ScriptVersionsPane=l},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(5),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e,t=this;return e=this.props.operationBeingProcessed?React.createElement("div",{className:"script-options-pane__processing"},"Processing..."):React.createElement("div",{className:"script-options-pane__hide-script-section"},React.createElement("input",{type:"checkbox",onClick:function(){return t.props.toggleHideScript()},defaultChecked:this.props.scriptIsHidden}),"Hide Script"),React.createElement(r.ContentBox,{title:"Options"},React.createElement("div",{className:"script-options-pane__section"},e))},t}(React.Component);t.ScriptRegularOptionsPane=i;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement(r.ContentBox,{title:"Admin"},React.createElement("div",{className:"script-options-pane__section"},React.createElement("input",{type:"checkbox",onClick:function(){return e.props.toggleScriptIsLanguageTemplate()},defaultChecked:this.props.scriptIsLanguageTemplate}),"Language Template ",React.createElement("br",null),React.createElement("br",null),React.createElement("div",{onClick:function(){return e.props.rerunScript()},className:"script-options-pane__link"},"Rerun Script")))},t}(React.Component);t.ScriptAdminOptionsPane=s;var o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={scriptIsHidden:n.props.scriptIsInitiallyHidden,operationBeingProcessed:!1,scriptIsLanguageTemplate:n.props.scriptIsInitiallyLanguageTemplate},n}return a(t,e),t.prototype.handleToggleScriptIsHidden=function(){var e=this;this.setState({operationBeingProcessed:!0});var t=!this.state.scriptIsHidden;$.ajax({url:this.props.toggleScriptIsHiddenUrl+"?isHidden="+t,type:"POST",success:function(){e.setState({scriptIsHidden:t,operationBeingProcessed:!1}),e.props.onScriptHiddenStateChange(t)},error:function(e,t,n){alert("Sorry, an error occurred. Please reload the page.")}})},t.prototype.handleToggleScriptIsLanguageTemplate=function(){var e=this,t=!this.state.scriptIsLanguageTemplate;$.ajax({type:"POST",url:this.props.toggleScriptLanguageTemplateUrl,data:{isTemplate:t},success:function(){e.setState({scriptIsLanguageTemplate:t}),e.props.onScriptLanguageTemplateChange(t)}})},t.prototype.handleRerunScript=function(){$.ajax({url:this.props.rerunScriptUrl,type:"POST",success:function(e){console.log("Script re-queued.")}})},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"script-options-pane"},React.createElement(i,{toggleHideScript:function(){return e.handleToggleScriptIsHidden()},scriptIsHidden:this.state.scriptIsHidden,operationBeingProcessed:this.state.operationBeingProcessed}),this.props.showAdmin?React.createElement(s,{rerunScript:function(){return e.handleRerunScript()},scriptIsLanguageTemplate:this.props.scriptIsInitiallyLanguageTemplate,toggleScriptIsLanguageTemplate:function(){return e.handleToggleScriptIsLanguageTemplate()}}):null)},t}(React.Component);t.ScriptOptionsPaneContainer=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(29),s=n(28),o=n(203),l=n(23),c=n(214),p=n(4),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this,t=React.createElement(i.MediaQuery,{minWidth:i.Breakpoints.desktopLargeMin},React.createElement("div",{className:"pageheader__thumbnail-script-overlay"},React.createElement("div",{className:"pageheader__overlay-text"},this.props.parentName))),n=React.createElement(i.MediaQuery,{minWidth:i.Breakpoints.desktopLargeMin},React.createElement("div",{className:"pageheader__author-script-overlay"},React.createElement("div",{className:"pageheader__overlay-text"},this.props.userName))),a=null,u=!1;return this.props.forkParentUrl&&""!==this.props.forkParentUrl&&(a=React.createElement(o.PageHeaderForkInfo,r({},this.props)),u=!0),React.createElement("div",{className:"kernel-header"},React.createElement(o.PageHeader,{backgroundClass:"kernel-header__container"},React.createElement(o.PageHeaderTopRowSafe,null,React.createElement("div",{className:"kernel-header__top"},React.createElement("a",{className:"kernel-header__title",href:this.props.titleUrl},this.props.title),React.createElement("div",{className:"kernel-header__fork-info"},a),React.createElement("div",{className:"kernel-header__thumbnails"},React.createElement(o.PageHeaderThumbnail,{classNameElement:"author",classNameModifier:"script",thumbnailOverlay:n,targetUrl:this.props.userUrl,imageUrl:this.props.userAvatarImageUrl}),React.createElement(o.PageHeaderThumbnail,{classNameElement:"thumbnail",classNameModifier:"script",thumbnailOverlay:t,targetUrl:this.props.parentUrl,imageUrl:this.props.thumbnailImageUrl})),React.createElement("div",{className:"kernel-header__upvote"},React.createElement(l.VoteButton,r({},this.props.voteButton))),React.createElement("div",{className:p("kernel-header__info",{"kernel-header__info--forked":u})},React.createElement(o.PageHeaderUserNameAndRunTime,{runTimeVerb:"run",userName:this.props.userName,userUrl:this.props.userUrl,dateUpdated:this.props.dateUpdated,showDateUpdated:!0,showUserName:!0}),React.createElement("span",null," · ",this.props.scriptLanguage,this.props.isPrivate?null:React.createElement("span",null," · ",this.props.totalViews," views")),this.props.datasetHidden||!this.props.parentUrl?React.createElement("span",null,React.createElement("br",null)," using data from ",this.props.parentName):React.createElement("span",null,React.createElement("br",null)," using data from ",React.createElement("a",{href:this.props.parentUrl},this.props.parentName))," · ",React.createElement("span",null,React.createElement(c.PrivacyToggle,{kernelType:"Script",displayMode:"Link",scriptId:this.props.scriptId,isPrivate:this.props.isPrivate,disabled:!this.props.userCanEditScript}))))),React.createElement(o.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},React.createElement(s.OverflowX,null,React.createElement(o.PageHeaderNav,{classNameModifier:"script",menuLinks:this.props.menuLinks,rightMenuLinks:this.props.rightMenuLinks,activeTab:this.props.activeTab,changeActiveTab:function(t){return e.props.onActiveTabChange(t)}}),this.props.callToAction?React.createElement(i.MediaQuery,{minWidth:i.Breakpoints.tabletMin},React.createElement("a",{href:this.props.callToAction.href,title:this.props.callToAction.title,className:"pageheader__calltoaction",onClick:function(t){return e.props.callToAction.actionCallback?e.props.callToAction.actionCallback(t):""}},this.props.callToAction.text)):""))))},t}(React.Component);t.KernelHeader=u},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(40),i=n(215),s=[{label:"Private",value:"private"},{label:"Public",value:"public"}],o=function(e){function t(t){var n=e.call(this,t)||this;return n.onPrivacyChange=function(e){"public"===e&&n.showModal()},n.onLinkClick=function(){n.showModal()},n.onConfirm=function(){n.setState({isConfirmShown:!1,isPrivate:!1}),n.props.onChangeToPublic()},n.onCancel=function(){n.setState({isConfirmShown:!1})},n.renderOption=function(e){return"private"===e.value?React.createElement("span",null,React.createElement("i",{className:"fa fa-eye-slash"})," Private"):React.createElement("span",null,React.createElement("i",{className:"fa fa-eye"})," Public")},n.state={isConfirmShown:!1,isPrivate:n.props.isPrivate},n}return a(t,e),t.prototype.showModal=function(){this.setState({isConfirmShown:!0})},t.prototype.renderToggle=function(){return"SelectBox"===this.props.displayMode?React.createElement(r.SelectBox,{className:"privacy-toggle__privacy-select--select-box",options:s,onChange:this.onPrivacyChange,optionRenderer:this.renderOption,valueRenderer:this.renderOption,searchable:!1,value:"private",disabled:this.props.disabled}):React.createElement("span",{className:"privacy-toggle__privacy-select--link"},React.createElement("i",{className:"fa fa-eye-slash"})," Private",!this.props.disabled&&React.createElement("span",{className:"privacy-toggle__make-public-link",onClick:this.onLinkClick},"Make Public"))},t.prototype.render=function(){return React.createElement("div",{className:"privacy-toggle"},React.createElement("div",null,this.state.isPrivate?this.renderToggle():React.createElement("span",{className:"privacy-toggle__public-indicator"},this.renderOption(s[1]))),React.createElement(i.PrivacyModal,{onConfirm:this.onConfirm,onCancel:this.onCancel,isShown:this.state.isConfirmShown,kernelType:this.props.kernelType,scriptId:this.props.scriptId}))},t}(React.Component);t.PrivacyToggle=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(40),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onConfirm=function(){$.post("/kernels/"+t.props.scriptId+"/make-public").then(function(){r.PageMessages.success("Your "+t.props.kernelType+" is now public.",{clear:!0}),t.setState({isShown:!1})}).then(t.props.onConfirm)},t}return a(t,e),t.prototype.render=function(){return React.createElement(r.Confirm,{title:"Make "+this.props.kernelType+" Public",cancelText:"No thanks",confirmText:"Ok, make public",onCancel:this.props.onCancel,onConfirm:this.onConfirm,isShown:this.props.isShown},"Enabling this will allow other users to view and fork your ",this.props.kernelType,". Your code will be released under the ",React.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0",target:"_blank",rel:"nofollow"},"Apache 2.0")," open source license. Please note that this is not reversible.")},t}(React.Component);t.PrivacyModal=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(2),i=n(3),s=n(217),o=n(6),l=n(221),c=function(e){function t(t){var n=e.call(this,t)||this;n.oldFileDescriptions=[],n.endsWidth=function(e,t){return e.indexOf(t,e.length-t.length)!==-1},n.validationRules=[{isValid:function(){return 0==(n.state.isEditingNewVersion?n.state.newVersionFiles:n.state.files).filter(function(e){return n.endsWidth(e.name,".xlsx")||n.endsWidth(e.name,".xls")||n.endsWidth(e.name,".xlsx.zip")||n.endsWidth(e.name,".xls.zip")}).length},id:"dataset-excel-files",htmlMessage:function(){return"You have uploaded one or more Excel files. It's highly recommended that you <a href='https://support.office.com/en-us/article/Import-or-export-text-txt-or-csv-files-5250ac4c-663c-47ce-937b-339e391393ba#bmexport' target='_blank'>save these as .csv files</a>, as these are much easier to work with."},isWarning:!0,alwaysValidate:!0},{isValid:function(){return!n.validationRules.filter(function(e){return"dataset-excel-files"==e.id})[0].isValid()||0==(n.state.isEditingNewVersion?n.state.newVersionFiles:n.state.files).length||0!=(n.state.isEditingNewVersion?n.state.newVersionFiles:n.state.files).filter(function(e){return n.endsWidth(e.name.toLowerCase(),".csv")||n.endsWidth(e.name.toLowerCase(),".csv.zip")||"database.sqlite"==e.name.toLowerCase()}).length},id:"dataset-no-csv-or-sqlite-files",htmlMessage:function(){return"It looks like you're missing a .csv or database.sqlite file. If this is not an image dataset, we recommend that you include either a database.sqlite file, or one or more .csv files, as these are easiest to work with."},isWarning:!0,alwaysValidate:!0},{isValid:function(){return!n.state.originalImageUrl||0==n.state.originalImageUrl.length||!n.state.coverImageUrl||0==n.state.coverImageUrl.length||n.state.originalImageUrl.indexOf("default-backgrounds")==-1},id:"dataset-default-image",htmlMessage:function(){return"Choosing a topical image other than one of the generated random images may help your dataset stand out more."},isWarning:!0,alwaysValidate:!0},{isValid:function(){return!n.state.isEditingNewVersion||n.state.newVersionFiles.length-n.props.maxTopLevelFilesAllowed<=0},id:"dataset-too-many-files",message:function(){return"You cannot upload more than "+n.props.maxTopLevelFilesAllowed+" files. You will need to delete at least "+(n.state.newVersionFiles.length-n.props.maxTopLevelFilesAllowed)+" "+i("file",n.state.newVersionFiles.length-n.props.maxTopLevelFilesAllowed)+" before you can save your new version."},alwaysValidate:!0},{isValid:function(){return!n.state.isEditingNewVersion||0==n.state.newVersionFiles.filter(function(e){return 0==e.totalBytes}).length},id:"dataset-zero-byte-files",message:function(){return"You cannot upload empty files. Please remove them from your list before saving."},alwaysValidate:!0},{isValid:function(){return n.state.title&&n.state.title.trim().length>0},id:"dataset-no-title",message:function(){return"Please enter a title for your dataset."}},{isValid:function(){return!n.state.title||0==n.state.title.trim().length||n.state.title.trim().length>6&&n.state.title.trim().length<50},id:"dataset-title-length",message:function(){return"The title must be between 6 and 50 characters in length."},alwaysValidate:!0},{isValid:function(){return!(!n.state.overview||!n.state.overview.trim())},id:"dataset-no-overview",message:function(){return"Please enter a subtitle for your dataset."}},{isValid:function(){return!(n.state.overview&&(n.state.overview.trim().length<20||n.state.overview.trim().length>80))},id:"dataset-overview-length",message:function(){return"The subtitle must be between 20 and 80 characters in length."},alwaysValidate:!0},{isValid:function(){return!(n.state.slug&&(n.state.slug.trim().length<3||n.state.slug.trim().length>50))},id:"dataset-slug-length",message:function(){return"The URL must be between 3 and 50 characters."}},{isValid:function(){return n.state.coverImageUrl&&n.state.coverImageUrl&&n.state.coverImageUrl.trim().length>0},id:"dataset-no-image",htmlMessage:function(){return"Please click the <span class='fa fa-camera'></span> to the right to set up an image for your dataset. If you need inspiration, <a href='http://www.unsplash.com' target='_blank'>unsplash.com</a> has a great library of public domain images."}},{isValid:function(){return!(!n.state.description||!n.state.description.trim())},id:"dataset-no-description",message:function(){return"Please enter a description for your dataset."}},{isValid:function(){return!(n.state.description&&n.state.description.trim().length>2e4)},id:"dataset-description-length",message:function(){return"Your description must be fewer than 20,000 characters."}},{isValid:function(){return!(!n.state.licenseId&&!n.state.privateGroupId)},id:"dataset-no-license",message:function(){return"Please select a license for your dataset."}},{isValid:function(){return!n.state.isEditingNewVersion||!(n.state.newVersionDescription&&n.state.newVersionDescription.trim().length>2e4)},id:"dataset-version-description-length",message:function(){return"Your version notes must be fewer than 20,000 characters."}},{isValid:function(){return!n.state.isEditingNewVersion||!(!n.state.newVersionDescription||!n.state.newVersionDescription.trim())},id:"dataset-no-version-description",message:function(){return"Please enter a description for this version."}},{isValid:function(){return!n.state.isEditingNewVersion||n.state.newVersionFiles.length>0},id:"dataset-no-version-files",message:function(){return"You must upload at least one file for this version."}},{isValid:function(){return!n.state.isEditingNewVersion||0==n.state.newVersionFiles.filter(function(e){return!e.description}).length},id:"dataset-new-version-files-with-no-description",message:function(){return"Please make sure all of your files have descriptions."}},{isValid:function(){return 0==n.state.files.filter(function(e){return e.description&&e.description.trim().length>2e4}).length},id:"dataset-files-description-lengths",message:function(){return"Your file descriptions must be fewer than 20,000 characters."}},{isValid:function(){return 0==n.state.files.filter(function(e){return!e.description&&!e.isSqliteTable}).length},id:"dataset-files-with-no-description",message:function(){return"Please make sure all of your files have descriptions."}},{isValid:function(){return 0==n.state.datasetVersions.filter(function(e){return!e.versionNotes}).length},id:"dataset-versions-with-no-description",message:function(){return"Please make sure all of your versions have descriptions."}}],n.processingNewDatasetPageMessage=function(){return{type:"info",htmlMessage:"We're processing "+(n.props.creatorUserId==o.Current.userId?"your":"the")+" dataset files. Once we're done, "+(n.props.creatorUserId==o.Current.userId?"your":"the")+" dataset will be available publicly."}},n.processingNewVersionPageMessage=function(){return{type:"info",htmlMessage:n.props.canEdit?"We're processing "+(n.props.creatorUserId==o.Current.userId?"your":"the")+" dataset files. Until they're complete, users will continue to run kernels against the current version's files.":"A new version of this dataset is in progress. Until it completes, new kernels will be run against the current version."}},n.onChangeTab=function(e){if("contributors"==e){var t={};t[e+"IsLoading"]=!0,n.setState(t),r.ajax({url:n.props.datasetUrl+"/"+e+".json",type:"GET",success:function(a){t[e]=a,t[e+"IsLoading"]=!1,n.setState(t)}})}n.setState({currentTab:e,isNewTopic:!1,topicId:null},function(){return n.updateUrl()})},n.isDescriptionValid=function(e){return e.length>0&&e.length<100},n.onDatasetPropChanged=function(e,t){var a={};"title"!=e||!n.state.isNewDataset||n.state.slug!=n.convertToSlug(n.state.title)&&(n.state.slug||n.state.title)||(a.slug=n.convertToSlug(t)),a[e]=t,n.setState(a,function(){return n.clearFixedValidations()})},n.onPrivateGroupChanged=function(e){n.setState({privateGroupId:e})},n.onLicenseChanged=function(e,t){n.setState({license:t,licenseId:e,isEditingLicense:!n.state.isNewDataset},function(){n.clearFixedValidations()})},n.onDatasetFilePropChanged=function(e,t,a,i){var s=r.extend(!0,[],i==l.FileListIndex.NewFiles?n.state.newVersionFiles:n.state.files);s[e][t]=a,n.setState(i==l.FileListIndex.NewFiles?{newVersionFiles:s}:{files:s},function(){return n.clearFixedValidations()})},n.onDatasetVersionPropChanged=function(e,t,a){var i=r.extend(!0,[],n.state.datasetVersions);i[e][t]=a,n.setState({datasetVersions:i},function(){return n.clearFixedValidations()})},n.onPublishedChange=function(e){n.setState({isPublished:e,isFeatured:e&&n.state.isFeatured})},n.onFeaturedChange=function(e){n.setState({isPublished:e||n.state.isPublished,isFeatured:e})},n.onRemovedChange=function(e){n.setState({isRemoved:e})},n.onDatasetEditingStateCancelled=function(e,t){var a={},i={};a["isEditing"+e]=!1,i[t]=n.state.lastSavedState[t],"Slug"==e&&(i.isFeatured=n.state.lastSavedState.isFeatured,i.isPublished=n.state.lastSavedState.isPublished,i.isRemoved=n.state.lastSavedState.isRemoved,i.privateGroupId=n.state.lastSavedState.privateGroupId),"License"==e&&(i.licenseId=n.state.lastSavedState.licenseId),n.setState(r.extend({},a,i),function(){return n.clearFixedValidations()})},n.onDatasetEditingStateChanged=function(e){if("NewVersion"==e){if(n.state.isEditingNewVersion)return void n.onSaveNewVersion();n.setState({showNewVersionProgress:!1,newVersionFiles:[],newVersionDescription:""})}var t=n.state["isEditing"+e],a={};if(a["isEditing"+e]=!t,"Slug"==e&&t&&(a.slug=n.cleanseSlug(n.state.slug)),!t||n.state.isNewDataset)return n.setState(a),t&&n.state.isNewDataset&&n.setState({lastSavedState:n.state}),void("Files"===e&&(n.oldFileDescriptions=n.state.files.map(function(e){return{name:e.name,description:e.description}})));if(t&&"Files"===e)return n.setState({isEditingFiles:!1}),void n.state.files.forEach(function(e){var t=n.oldFileDescriptions.filter(function(t){return t.name===e.name})[0];if(t&&t.description!==e.description){var a={fileName:e.name,description:e.description},i=n.props.datasetUrl+(n.props.isOldDatasetVersion?"/version/"+n.props.datasetVersionNumber:"")+"/datadictionary.json";r.ajax({url:i,type:"PATCH",processData:!1,contentType:"application/json",dataType:"text",data:JSON.stringify(a),success:function(e){if(e){var t=r.extend(!0,[],n.state.pageMessages);t.push({type:"error",message:"Your description could not be saved: "+e}),n.setState(r.extend({},n.state,{pageMessages:t}))}},error:function(){var e=r.extend(!0,[],n.state.pageMessages);e.push({type:"error",message:"Sorry, there was a problem saving your update."}),n.setState(r.extend({},n.state,{pageMessages:e}))}})}});if(t&&"Description"===e){n.setState({isEditingDescription:!1});var i={description:n.state.description};return void r.ajax({url:n.props.datasetUrl+"/description.json",type:"POST",processData:!1,contentType:"application/json",dataType:"json",data:JSON.stringify(i)})}n.setState(r.extend(n.state,{pageMessages:new Array}),function(){var i=n.getValidationPageMessages(),s=i.filter(function(e){return"error"==e.type}).length>0;n.setState({pageMessages:i},function(){s||n.setState(a,function(){r.ajax({url:n.state.datasetUrl+"/save",type:"POST",contentType:"application/json",data:JSON.stringify(n.state,function(e,t){if("lastSavedState"!=e)return t}),success:function(a){n.setState({lastSavedState:n.state}),a.datasetUrl&&"Slug"==e&&history.replaceState({},null,a.datasetUrl),a.datasetUrl&&"HeaderInfo"==e&&(document.title=n.state.title+" | Kaggle"),n.setState({pageMessages:a.pageMessages},function(){if(!a.success){var r={};r["isEditing"+e]=t,n.setState(r)}})},error:function(e){n.setState({pageMessages:[{type:"error",htmlMessage:'There was a problem saving your dataset changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}],isSavingNewVersion:!1})}})})})})},n.onCancelImageUploader=function(){r("body").css({overflow:"visible"}),r("html").css("overflow","visible"),n.setState(r.extend({},n.state,{isEditingImages:!1}))},n.onShowImageUploader=function(){n.setState(r.extend({},n.state,{isEditingImages:!0}))},n.onUpdateImages=function(e,t,a){e.append("datasetId",n.props.datasetId);var i=t[0];e.append("coverImageLeft",i.left),e.append("coverImageTop",i.top),e.append("coverImageWidth",i.width),e.append("coverImageHeight",i.height);var s=t[1];return e.append("cardImageLeft",s.left),e.append("cardImageTop",s.top),e.append("cardImageWidth",s.width),e.append("cardImageHeight",s.height),e.append("originalImageUrl",n.state.originalImageUrl),r.ajax({url:"/datasets/save/image",type:"POST",dataType:"json",contentType:!1,processData:!1,data:e,success:function(e){if(e.success){var t=e.datasetImageUploadDto,o={coverImageUrl:t.coverImageUrl,cardImageUrl:t.cardImageUrl,thumbnailImageUrl:t.thumbnailImageUrl,originalImageUrl:t.originalImageUrl,coverImageWidth:i.width,coverImageHeight:i.height,coverImageLeft:i.left,coverImageTop:i.top,cardImageWidth:s.width,cardImageHeight:s.height,cardImageLeft:s.left,cardImageTop:s.top};r("body").css({overflow:"visible"}),r("html").css("overflow","visible"),n.setState(r.extend({},n.state,o,{isEditingImages:!1}),function(){n.clearFixedValidations(function(){var e=r.extend(!0,[],n.state.pageMessages);e.push({type:"success",message:"Your images have been updated."}),n.setState(r.extend({},n.state,{pageMessages:e}))})})}else a()}})},n.onFileUploadFinished=function(e,t,a){var r=n.state.files.filter(function(t){return t.name==e});0==r.length&&(r=n.state.files.filter(function(t){return t.name==e.replace(".zip","")})),0==r.length&&(r=n.state.files.filter(function(t){return t.name.replace(/\.[^\/.]+$/,"")==e.replace(".zip","")}));var i="";1==r.length&&(i=r[0].description),n.setState({newVersionFiles:n.state.newVersionFiles.concat({id:0,name:e,totalBytes:a,description:i,blobToken:t}).sort(function(e,t){return e.name.localeCompare(t.name)})},function(){return n.clearFixedValidations()})},n.onToggleCurrentVersionFiles=function(){n.setState(r.extend({},n.state,{showCurrentVersionFiles:!n.state.showCurrentVersionFiles}))},n.onDeleteNewVersionFile=function(e){n.setState({newVersionFiles:n.state.newVersionFiles.filter(function(t){return t.name!=e}).sort(function(e,t){return e.name.localeCompare(t.name)})},function(){return n.clearFixedValidations()})},n.getNewFileDataDictionaries=function(){var e=[];return n.state.newFileColumnDescriptions&&n.state.newFileColumnDescriptions.length>0&&n.state.newFileColumnDescriptions.forEach(function(t){var n={fileName:t.fileName,columns:t.columns.map(function(e,t){return{columnIndex:t,dataType:e.harmonizedDataType,description:e.description}})};e.push(n)}),e},n.onSaveNewVersion=function(){n.setState({pageMessages:[]},function(){var e=n.getValidationPageMessages(),t=e.filter(function(e){return"error"==e.type}).length>0;n.setState({pageMessages:e},function(){t||n.setState({pageMessages:[n.processingNewVersionPageMessage()]},function(){n.setState({isSavingNewVersion:!0,currentStatusPercentComplete:0,newDatasetVersionStatus:"notYetPersisted",downloadSize:0,needsNewVersionMetadata:!0,isEditingNewVersion:!1,canEdit:!1}),r.ajax({url:n.state.datasetUrl+"/save/version",type:"POST",contentType:"application/json",data:JSON.stringify({newVersionFiles:n.state.newVersionFiles,dataDictionaries:n.getNewFileDataDictionaries(),blobFileTokens:n.state.newVersionFiles.map(function(e){return e.blobToken}),newVersionDescription:n.state.newVersionDescription,isPublished:n.state.isPublished}),success:function(e){!e.success&&e.pageMessages&&(clearInterval(n.timer),n.setState({pageMessages:e.pageMessages},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})}))}}),n.timer=window.setInterval(n.pollCurrentDatasetVersionStatus,1e3)})})})},n.onSaveNewDataset=function(){n.setState({pageMessages:[]},function(){var e=n.getValidationPageMessages(),t=e.filter(function(e){return"error"==e.type}).length>0;e.length&&r.ajax({url:"/datasets/log-validation",type:"POST",contentType:"application/json",data:JSON.stringify({datasetName:n.state.title,validations:e.map(function(e){
return e.id.substring(8)})})}),n.setState({pageMessages:e},function(){t||(goog_report_conversion(),n.setState({pageMessages:[n.processingNewDatasetPageMessage()]},function(){n.setState({isSavingNewVersion:!0,currentStatusPercentComplete:0,newDatasetVersionStatus:"notYetPersisted",needsNewVersionMetadata:!0,isEditingNewVersion:!1}),r.ajax({url:"/datasets/save",type:"POST",contentType:"application/json",data:JSON.stringify(r.extend({},n.state,{newVersionFiles:n.state.newVersionFiles,blobFileTokens:n.state.newVersionFiles.map(function(e){return e.blobToken}),newVersionDescription:n.state.newVersionDescription}),function(e,t){if("lastSavedState"!=e)return t}),success:function(e){e.success?n.setState({datasetId:e.datasetId,datasetVersionId:e.datasetVersionId,isEditingSlug:!1,isEditingHeader:!1,isEditingDescription:!1,isEditingFiles:!1,isEditingLicense:!1,isEditingImages:!1,isEditingHeaderInfo:!1,isEditingVersions:!1,canEdit:!0,isNewDataset:!1,datasetVersions:e.datasetVersions,newScriptUrl:e.newScriptUrl,datasetUrl:e.url},function(){history.replaceState({},null,e.url),document.title=n.state.title+" | Kaggle",r.ajax({url:n.state.datasetUrl+"/save/version",type:"POST",contentType:"application/json",data:JSON.stringify({newVersionFiles:n.state.newVersionFiles,dataDictionaries:n.getNewFileDataDictionaries(),blobFileTokens:n.state.newVersionFiles.map(function(e){return e.blobToken}),newVersionDescription:n.state.newVersionDescription,isPublished:n.state.isPublished}),success:function(e){!e.success&&e.pageMessages&&(clearInterval(n.timer),n.setState({pageMessages:e.pageMessages},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})}))},error:function(){n.setState({pageMessages:[{type:"error",htmlMessage:'There was a problem saving your dataset changes. If you keep having problems, please <a href="mailto:support@kaggle.com">contact support</a> and we\'ll get you squared away.'}]},function(){clearInterval(n.timer),n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})})}}),n.timer=window.setInterval(n.pollCurrentDatasetVersionStatus,1e3)}):n.setState({pageMessages:e.pageMessages},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})})},error:function(){n.setState({pageMessages:[{type:"error",htmlMessage:'There was a problem saving your dataset changes. If you keep having problems, please <a href="mailto:support@kaggle.com">contact support</a> and we\'ll get you squared away.'}]},function(){n.setState({canEdit:n.props.canEdit,isEditingNewVersion:!0,isSavingNewVersion:!1})})}})}))})})},n.pollCurrentDatasetVersionStatus=function(){r.ajax({url:n.state.datasetUrl+"/poll",type:"POST",data:{datasetId:n.state.datasetId,needsMetadata:n.state.needsNewVersionMetadata},success:function(e){return"ready"==e.status||"failed"==e.status?(clearInterval(n.timer),void n.setState({pageMessages:e.pageMessages},function(){n.setState({newDatasetVersionStatus:e.status,currentStatusPercentComplete:e.currentStatusPercentComplete,isSavingNewVersion:!1,canEdit:n.props.canEdit,showNewVersionProgress:"ready"==e.status,files:e.dataset?e.dataset.files:n.state.files,datasetVersions:e.dataset?e.dataset.datasetVersions:n.state.datasetVersions.map(function(e,t){return 0==t&&(e.status="failed"),e}),downloadSize:e.dataset?e.dataset.downloadSize:n.state.downloadSize}),n.setState({lastSavedState:n.state})})):void n.setState(r.extend({newDatasetVersionStatus:e.status,currentStatusPercentComplete:e.currentStatusPercentComplete},n.state.needsNewVersionMetadata&&e.datasetVersions&&e.files?{needsNewVersionMetadata:!1,files:e.files,datasetVersions:e.datasetVersions,datasetVersionId:e.datasetVersions.id,newVersionFiles:[],showCurrentVersionFiles:!1}:{}))}})},n.updateExistingFileMetadata=function(e,t,a){var i={fileName:e,columns:[{fileName:e,columnIndex:t,description:a.description,dataType:a.harmonizedDataType}]},s=n.props.datasetUrl+(n.props.isOldDatasetVersion?"/version/"+n.props.datasetVersionNumber:"")+"/datadictionary.json";r.ajax({url:s,type:"PATCH",processData:!1,contentType:"application/json",dataType:"text",data:JSON.stringify(i),success:function(e){if(e){var t=r.extend(!0,[],n.state.pageMessages);t.push({type:"error",message:"Your description could not be saved: "+e}),n.setState(r.extend({},n.state,{pageMessages:t}))}},error:function(){var e=r.extend(!0,[],n.state.pageMessages);e.push({type:"error",message:"Sorry, there was a problem saving your update."}),n.setState(r.extend({},n.state,{pageMessages:e}))}})},n.updateNewFileColumnDescriptions=function(e,t,a){var r=n.state.newFileColumnDescriptions.filter(function(t){return t.fileName!==e}),i=n.state.newFileColumnDescriptions.filter(function(t){return t.fileName===e})[0];if(i)i.columns[t]=a;else{var s=[];s[t]=a,i={fileName:e,columns:s}}r.push(i),n.setState({newFileColumnDescriptions:r})};var a=r.extend({},n.props,{isEditingHeader:n.props.isNewDataset,isEditingDescription:n.props.isNewDataset,isEditingFiles:n.props.isNewDataset,isEditingLicense:n.props.isNewDataset,isEditingImages:!1,isEditingHeaderInfo:n.props.isNewDataset,isEditingVersions:!1,isEditingNewVersion:n.props.isNewDataset,isEditingSlug:n.props.isNewDataset,newVersionFiles:[],needsNewVersionMetadata:!1,newVersionDescription:n.props.isNewDataset?"Initial release":null,hasLoadedFeed:"feed"==n.props.currentTab,newFileColumnDescriptions:[]});return a.lastSavedState=a,n.state=a,n.props.isSavingNewVersion&&(n.timer=window.setInterval(n.pollCurrentDatasetVersionStatus,1e3)),window.onbeforeunload=function(){return!n.state.isNewDataset&&(n.state.isEditingDescription||n.state.isEditingFiles||n.state.isEditingNewVersion||n.state.isEditingHeader||n.state.isEditingHeaderInfo||n.state.isEditingImages||n.state.isEditingLicense||n.state.isEditingSlug||n.state.isEditingVersions)?"It looks like you may be in the middle of working on some changes.":n.state.isNewDataset&&(n.state.title||n.state.overview||n.state.originalImageUrl||n.state.slug||n.state.description||n.state.licenseId||n.state.newVersionFiles.length)?"It looks like you may have started working on your new dataset.":void 0},n}return a(t,e),t.prototype.componentWillMount=function(){var e=r.extend(!0,[],this.state.pageMessages);if(this.props.isOldDatasetVersion){var t={type:"info",htmlMessage:"You are currently viewing Version "+this.props.datasetVersionNumber+" of "+this.props.lastVersionNumber+" of this dataset. "+('<a href="'+this.props.datasetUrl+'">View the latest version</a> to create kernels.')};e.push(t)}if(this.props.isNewDataset||"failed"!=this.props.datasetVersions[0].status){if((!this.props.isPublished||this.props.isRemoved)&&!this.props.isNewDataset&&!this.props.isSavingNewVersion){var t={type:"info",htmlMessage:"This dataset is currently not published and currently unavailable. You're able to see it as "+(this.props.creatorUserId==o.Current.userId?"the creator":"a site admin")+"."};e.push(t)}}else if(this.props.datasetVersions.filter(function(e){return"ready"==e.status}).length){var t={type:"info",htmlMessage:"The most recent version failed during processing, so any new kernels will be run against the last successful version."};e.push(t)}else{var t={type:"error",htmlMessage:'There was a problem saving your dataset files. If you keep having problems, please <a href="mailto:support@kaggle.com">contact support</a> and we\'ll get you squared away.'};e.push(t)}this.props.canEdit&&!this.props.isNewDataset&&this.getValidationPageMessages().forEach(function(t){return e.push(t)}),this.props.isSavingNewVersion&&e.push(1==this.props.datasetVersions.length?this.processingNewDatasetPageMessage():this.processingNewVersionPageMessage()),this.setState({pageMessages:e})},t.prototype.updateUrl=function(){history.replaceState({},null,this.props.datasetUrl+("home"!=this.state.currentTab?"/"+this.state.currentTab:"")+(null!=this.state.topicId&&"discussion"==this.state.currentTab?"/"+this.state.topicId:this.state.isNewTopic&&"discussion"==this.state.currentTab?"/new":""))},t.prototype.onCreateTopic=function(){var e=this;o.Current.isAdmin?this.setState({currentTab:"discussion",isNewTopic:!0,topicId:null},function(){return e.updateUrl()}):window.location.href=this.props.newTopicUrl},t.prototype.onTopicSubmitted=function(e){var t=this;this.setState({currentTab:"discussion",isNewTopic:!1,topicId:e},function(){return t.updateUrl()})},t.prototype.convertToSlug=function(e){return e?e.toLowerCase().trim().replace(/[^\w ]+/g,"").replace(/[_ ]+/g,"-"):null},t.prototype.cleanseSlug=function(e){return e.replace(/^-*([^.]*?)-*$/,"$1").replace(/-{2,}/g,"-")},t.prototype.onTopicClicked=function(e){var t=this;this.setState({currentTab:"discussion",isNewTopic:!1,topicId:e.id},function(){return t.updateUrl()})},t.prototype.componentDidMount=function(){window.location.hash.indexOf("#latest-")!==-1&&history.replaceState({},document.title,window.location.pathname+window.location.search)},t.prototype.componentWillUpdate=function(e,t,n){if(t.pageMessages.length!=this.state.pageMessages.length){var a=r("html").offset().top,i=r(document).height();this.scrollPositionFromBottom=i+a}},t.prototype.componentDidUpdate=function(e,t,n){if(t.pageMessages.length!=this.state.pageMessages.length){var a=r("html").offset().top;if(0==a)return;var i=r(document).height(),s=i-this.scrollPositionFromBottom;r("html, body").scrollTop(s)}},t.prototype.clearFixedValidations=function(e){this.setState({pageMessages:this.getValidationPageMessages(!0)},e)},t.prototype.getValidationPageMessages=function(e){var t=this,n=this.validationRules.filter(function(n){return!n.isValid()&&(!e||n.alwaysValidate||t.state.pageMessages.filter(function(e){return e.id==n.id}).length>0)});return n.map(function(e){return{type:e.isWarning?"warning":"error",id:e.id,message:e.message?e.message():null,htmlMessage:e.htmlMessage?e.htmlMessage():null}})},t.prototype.render=function(){var e={onDatasetPropChanged:this.onDatasetPropChanged,onDatasetFilePropChanged:this.onDatasetFilePropChanged,onDatasetVersionPropChanged:this.onDatasetVersionPropChanged,onDatasetEditingStateCancelled:this.onDatasetEditingStateCancelled,onDatasetEditingStateChanged:this.onDatasetEditingStateChanged,onLicenseChanged:this.onLicenseChanged,onCancelImageUploader:this.onCancelImageUploader,onCreateTopic:this.onCreateTopic.bind(this),onUpdateImages:this.onUpdateImages,onFileUploadFinished:this.onFileUploadFinished,onToggleCurrentVersionFiles:this.onToggleCurrentVersionFiles,onSaveNewVersion:this.onSaveNewVersion,onDeleteNewVersionFile:this.onDeleteNewVersionFile,onSaveNewDataset:this.onSaveNewDataset,onPublishedChange:this.onPublishedChange,onFeaturedChange:this.onFeaturedChange,onRemovedChange:this.onRemovedChange,onShowImageUploader:this.onShowImageUploader,onChangeTab:this.onChangeTab,onPrivateGroupChanged:this.onPrivateGroupChanged,onTopicClicked:this.onTopicClicked.bind(this),onTopicSubmitted:this.onTopicSubmitted.bind(this),onExistingFileMetadataChange:this.updateExistingFileMetadata,onNewFileMetadataChange:this.updateNewFileColumnDescriptions};return React.createElement(s.Dataset,r.extend({},this.state,e))},t}(React.Component);t.DatasetContainer=c},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(218),s=n(221),o=n(230),l=n(231),c=n(232),p=n(233),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement("div",{className:"dataset"},React.createElement("div",{className:"dataset__container"},React.createElement(i.DatasetHeader,r({},this.props)),"home"==this.props.currentTab?React.createElement(s.DatasetHome,r({},this.props)):"contributors"==this.props.currentTab?React.createElement(c.DatasetContributors,r({},this.props)):"",React.createElement(o.DatasetKernels,r({},this.props)),React.createElement(l.DatasetDiscussion,r({},this.props)),React.createElement(p.DatasetActivityFeed,r({},this.props))))},t}(React.Component);t.Dataset=u},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(203),i=n(13),s=n(115),o=n(193),l=n(23),c=n(219),p=n(200),u=n(220),d=n(28),m=n(7),h=n(38),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackDownload=function(){window.Intercom("trackEvent","download_dataset",{dataset_id:t.props.datasetId}),goog_report_conversion()},t}return a(t,e),t.prototype.changeActiveTab=function(){},t.prototype.renderTitle=function(){var e=this;return this.props.isEditingHeaderInfo&&this.props.canEdit?React.createElement(o.InlineTextEditor,{className:"dataset-header__title--input",value:this.props.title,placeholder:"Enter a Descriptive Title",onChangeCallback:function(t){return e.props.onDatasetPropChanged("title",t)}}):React.createElement("span",{className:"dataset-header__title"},this.props.title,React.createElement(u.GroupIcon,{groupSize:this.props.privateGroupMemberCount,rightSide:!0}))},t.prototype.renderSubtitle=function(){var e=this;return this.props.isEditingHeaderInfo&&this.props.canEdit?React.createElement(o.InlineTextEditor,{className:"dataset-header__subtitle--input",value:this.props.overview,placeholder:"Include a brief data overview for the subtitle",onChangeCallback:function(t){return e.props.onDatasetPropChanged("overview",t)}}):React.createElement("div",{className:"dataset-header__subtitle"},this.props.overview)},t.prototype.renderOptionalVoteButton=function(){return this.props.isNewDataset?null:React.createElement("div",{className:"dataset-header__upvote"},React.createElement(l.VoteButton,{totalVotes:this.props.voteCount,hasAlreadyVotedUp:this.props.hasAlreadyVotedUp,canUpvote:!0,canDownvote:!1,voteUpUrl:this.props.upVoteUrl,voteDownUrl:null}))},t.prototype.renderOptionalImageUploader=function(){if(this.props.canEdit){var e=React.createElement(c.ImageUploader,{title:"Upload a Dataset Image",imageSettings:[new c.ImageSetting("cover image","Select an area of the image to use as the cover image for this dataset’s homepage",new c.Size(950,200),new c.Rectangle(new c.Point(this.props.coverImageLeft,this.props.coverImageTop),new c.Size(this.props.coverImageWidth,this.props.coverImageHeight))),new c.ImageSetting("thumbnail","Select an area of the image to use as a thumbnail on the overall Dataset listing page",new c.Size(200,200),new c.Rectangle(new c.Point(this.props.cardImageLeft,this.props.cardImageTop),new c.Size(this.props.cardImageWidth,this.props.cardImageHeight)))],originalImageUrl:this.props.originalImageUrl,containerSize:new c.Size(500,300),selectorBorderWidth:1,onCancel:this.props.onCancelImageUploader,onUpdateImages:this.props.onUpdateImages,hiResScale:2,step1Html:"Upload an image by clicking the button below. If you need inspiration, <a href='http://www.unsplash.com' target='_blank'>unsplash.com</a> has a great library of public domain images. Or you can use the random image below."});return React.createElement(p.Modal,{buttonClassName:"dataset-header__upload-image-button",modalContent:e,modalIsShown:this.props.isEditingImages,onShow:this.props.onShowImageUploader,onClose:this.props.onCancelImageUploader})}return null},t.prototype.renderOptionalCallToAction=function(){var e=this;return this.props.isNewDataset||this.props.isOldDatasetVersion?null:"discussion"==this.props.currentTab?React.createElement("a",{href:this.props.newTopicUrl,onClick:function(t){t.preventDefault(),e.props.onCreateTopic()},title:"New Topic",className:"pageheader__calltoaction"},"New Topic"):React.createElement("a",{href:this.props.newScriptUrl,title:"New Script",className:"pageheader__calltoaction"},"New Script")},t.prototype.componentDidMount=function(){window.Intercom("trackEvent","view_dataset")},t.prototype.render=function(){var e=this,t=React.createElement(s.EditStateToggleButton,{className:"dataset-header__edit-info",editButtonText:React.createElement("span",{className:"fa fa-pencil"}),saveButtonText:React.createElement("span",{className:"fa fa-save"}),sectionName:"HeaderInfo",isEditing:this.props.isEditingHeaderInfo,toggleCallback:this.props.onDatasetEditingStateChanged});Math.max(this.props.scripts.length,this.props.discussions.length,this.props.contributors.length,1);return React.createElement("div",{className:"dataset-header"},React.createElement(r.PageHeader,{backgroundClass:"dataset-header__container"},React.createElement(r.PageHeaderTopRowSafe,null,React.createElement("div",{className:"dataset-header__top"},this.props.canEdit&&!this.props.isNewDataset?t:null,this.renderTitle(),this.renderSubtitle(),React.createElement("div",{className:"dataset-header__image"},React.createElement("img",{src:this.props.coverImageUrl})),this.renderOptionalVoteButton(),this.renderOptionalImageUploader(),React.createElement("div",{className:"dataset-header__info"},"by",this.props.isNewDataset&&this.props.owners.length>1?React.createElement(i.SelectBox,{className:"dataset-header__owner-selector KaggleBoxlessSelect",onChange:function(t){var n=e.props.owners.filter(function(e){return e.slug===t})[0];e.props.onDatasetPropChanged("ownerDisplayName",n.name),e.props.onDatasetPropChanged("ownerSlug",n.slug),e.props.onDatasetPropChanged("ownerProfileUrl",n.profileUrl),e.props.onDatasetPropChanged("ownerAvatarUrl",n.imageUrl),e.props.onDatasetPropChanged("organizationId",n.isOrganization?n.id.toString():null)},options:this.props.owners.map(function(e){return{label:e.name,value:e.slug}}),searchable:!1,value:this.props.ownerSlug}):React.createElement("a",{href:this.props.ownerProfileUrl,className:"dataset-header__owner-name"}," "+this.props.ownerDisplayName),this.props.isNewDataset?null:React.createElement("time",{dateTime:this.props.lastUpdated.toString(),title:this.props.lastUpdated.toString()}," · last updated ",React.createElement(m.TimeAgo,{time:this.props.lastUpdated}))))),React.createElement(r.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},React.createElement(r.PageHeaderThumbnail,{classNameElement:"author",targetUrl:this.props.ownerProfileUrl,imageUrl:this.props.ownerAvatarUrl}),React.createElement(r.PageHeaderThumbnail,{classNameElement:"thumbnail",targetUrl:"",imageUrl:this.props.thumbnailImageUrl}),React.createElement(d.OverflowX,null,React.createElement(r.PageHeaderNav,{menuLinks:this.props.isNewDataset?null:[{title:"Overview",text:"Overview",actionCallback:function(){return e.props.onChangeTab("home")}},{title:"Kernels",text:"Kernels",actionCallback:function(){return e.props.onChangeTab("kernels")}},{title:"Discussion",text:"Discussion",actionCallback:function(){return e.props.onChangeTab("discussion")}},{title:"Activity",text:"Activity",actionCallback:function(){return e.props.onChangeTab("feed")}},this.props.downloadSize?{href:this.props.downloadUrl,title:"Download",actionCallback:this.trackDownload,text:"Download ("+h(this.props.downloadSize,{round:0})+")"}:null],rightMenuLinks:this.props.isNewDataset||this.props.isOldDatasetVersion||"discussion"==this.props.currentTab?null:[{href:this.props.newNotebookUrl,title:"New Notebook",text:"New Notebook"}],activeTab:"home"==this.props.currentTab?"Overview":"kernels"==this.props.currentTab?"Kernels":"discussion"==this.props.currentTab?"Discussion":"feed"==this.props.currentTab?"Activity":""}),this.renderOptionalCallToAction()))))},t}(React.Component);t.DatasetHeader=f},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(12),i=n(4),s=function(){function e(e,t){this.size=t,this.point=e,this.left=e.left,this.top=e.top,this.width=t.width,this.height=t.height}return e}();t.Rectangle=s;var o=function(){function e(e,t){this.left=e,this.top=t}return e}();t.Point=o;var l=function(){function e(e,t,n,a){this.title=e,this.information=t,this.size=n,this.rect=a}return e}();t.ImageSetting=l;var c=function(){function e(e,t){var n=this;this.getAspect=function(){return n.width/n.height},this.width=e,this.height=t}return e}();t.Size=c;var p=2,u=function(e){function t(t){var n=e.call(this,t)||this;return n.validExtensions=["png","jpg"],n.getHiResScale=function(){return 2},n.onMouseDown=function(e,t){if(0===e.button){ReactDOM.findDOMNode(n).getBoundingClientRect();n.setState($.extend({},n.state,{isDragging:!0,dragMode:t,dragStartMousePosition:new o(e.pageX,e.pageY),dragStartSelectorRect:n.state.selectorRect})),e.stopPropagation(),e.preventDefault()}},n.onMouseUp=function(e){n.setState($.extend({},n.state,{isDragging:!1})),e.stopPropagation(),e.preventDefault()},n.onMouseMove=function(e){if(n.state.isDragging){var t=e.pageX-n.state.dragStartMousePosition.left,a=e.pageY-n.state.dragStartMousePosition.top,r="move"==n.state.dragMode,i="ul"==n.state.dragMode||"ll"==n.state.dragMode,l="ul"==n.state.dragMode||"ur"==n.state.dragMode,p="ur"==n.state.dragMode||"lr"==n.state.dragMode,u="lr"==n.state.dragMode||"ll"==n.state.dragMode;i&&(t=Math.max(-n.state.dragStartSelectorRect.left,t)),l&&(a=Math.max(-n.state.dragStartSelectorRect.top,a));var d=n.state.dragStartSelectorRect.width+(r?0:t)*(i?-1:1),m=n.state.dragStartSelectorRect.height+(r?0:a)*(l?-1:1);p&&(d=Math.min(d,n.state.imageRect.width-n.state.selectorRect.left)),u&&(m=Math.min(m,n.state.imageRect.height-n.state.selectorRect.top));var h=n.state.imageRect.width/n.state.originalSize.width;d=Math.max(Math.round(n.state.selectedImageSize.width*h*n.getHiResScale()),d),m=Math.max(Math.round(n.state.selectedImageSize.height*h*n.getHiResScale()),m);var f=d/m,g=n.state.selectedImageSetting.size,v=g.width/g.height,y=n.state.dragStartSelectorRect.left+(r||i?t:0),b=0,E=n.state.imageRect.width-d,_=n.state.dragStartSelectorRect.top+(r||l?a:0),R=0,w=n.state.imageRect.height-m,C=Math.max(Math.min(y,E),b),S=Math.max(Math.min(_,w),R);i&&C+d>n.state.selectorRect.left+n.state.selectorRect.width&&(C=n.state.selectorRect.left+n.state.selectorRect.width-d),l&&S+m>n.state.selectorRect.top+n.state.selectorRect.height&&(S=n.state.selectorRect.top+n.state.selectorRect.height-m),f>v&&(d=Math.round(m*v),i&&(C=n.state.dragStartSelectorRect.left+n.state.dragStartSelectorRect.width-d)),f<v&&(m=Math.round(d/v),l&&(S=n.state.dragStartSelectorRect.top+n.state.dragStartSelectorRect.height-m));var N=new s(new o(C,S),new c(d,m));n.getScaledRect(n.state.originalSize.width/n.state.imageRect.width,N);n.setState($.extend({},n.state,{selectorRect:N,selectedImageSetting:$.extend(n.state.selectedImageSetting,{rect:N})})),e.stopPropagation(),e.preventDefault()}},n.onFileChange=function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0].name.split(".").pop();if(0==n.validExtensions.filter(function(e){return e===t}).length)return void n.setState($.extend({},n.state,{invalidExtension:t}));n.setState($.extend({},n.state,{imageLoaded:!1,isLoadingImage:!0,tooSmallImageSize:null,invalidExtension:null}));var a=new FileReader;a.onload=function(e){var t=new Image,a=e.target.result;t.src=a,t.onload=function(){return t.width<n.state.minimumImageSize.width||t.height<n.state.minimumImageSize.height?void n.setState($.extend({},{tooSmallImageSize:new c(t.width,t.height),imageLoaded:!0,isLoadingImage:!1})):void n.setState($.extend({},n.state,{imageUrl:a}))}},a.readAsDataURL(e.target.files[0])}},n.onImageLoad=function(e){n.updateImage(e.target.src,e.target.naturalWidth,e.target.naturalHeight)},n.onUpdateImages=function(){n.setState($.extend({},n.state,{uploadInProgress:!0}));var e=$("#uploadForm")[0],t=new FormData(n.state.tooSmallImageSize?null:e),a=Math.min(n.state.originalSize.width/n.state.imageRect.width,n.state.originalSize.height/n.state.imageRect.height),r=n.state.imageSettings.map(function(e){return new s(new o(e.rect.left*a,e.rect.top*a),new c(e.rect.width*a,e.rect.height*a))});n.props.onUpdateImages(t,r,n.handleImageUploadFailed).then(function(){n.setState($.extend({},n.state,{uploadInProgress:!1}))})},n.handleImageUploadFailed=function(){n.setState($.extend({},n.state,{showImageUploadFailed:!0}))},n.setStep=function(e){var t=n.state.imageSettings[e-p]||n.state.imageSettings[0];n.setState($.extend({},{currentStep:e,selectedImageSetting:t,selectorRect:t.rect,selectedImageSize:t.size}))},n.state={imageUrl:n.props.originalImageUrl,imageLoaded:!1,imageRect:new s(new o(0,0),new c(0,0)),selectorRect:new s(new o(0,0),new c(0,0)),imageSettings:n.props.imageSettings,minimumImageSize:n.getMinimumImageSize(),selectedImageSetting:n.props.imageSettings[0],isDragging:!1,selectedImageSize:n.props.imageSettings[0].size,uploadInProgress:!1,isLoadingImage:!1,currentStep:1},n}return a(t,e),t.prototype.getMinimumImageSize=function(){return new c(Math.max.apply(Math,this.props.imageSettings.map(function(e){return e.size.width}))*this.getHiResScale(),Math.max.apply(Math,this.props.imageSettings.map(function(e){return e.size.height}))*this.getHiResScale())},t.prototype.isLastStep=function(){return this.state.currentStep===this.props.imageSettings.length+p},t.prototype.getScaledSize=function(e,t){var n=t.width/t.height;return new c(n>e?Math.round(t.height*e):t.width,n<e?Math.round(t.width/e):t.height)},t.prototype.getScaledRect=function(e,t){return new s(new o(Math.round(t.point.left*e),Math.round(t.point.top*e)),new c(Math.round(t.size.width*e),Math.round(t.size.height*e)))},t.prototype.componentDidUpdate=function(e,t){this.state.isDragging&&!t.isDragging?(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)):!this.state.isDragging&&t.dragging&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp))},t.prototype.updateImage=function(e,t,n){if(!this.state.imageLoaded){for(var a=t/n,r=this.getScaledSize(a,this.props.containerSize),i=new s(new o(Math.round((this.props.containerSize.width-r.width)/2),Math.round((this.props.containerSize.height-r.height)/2)),new c(Math.round(r.width),Math.round(r.height))),l=(i.width/t,0),p=this.state.imageSettings;l<p.length;l++){var u=p[l],d=u.size.width/u.size.height,m=this.getScaledSize(d,i.size);u.rect=new s(new o(Math.round((i.width-m.width)/2),Math.round((i.height-m.height)/2)),this.getScaledSize(d,i.size))}this.setState($.extend({},this.state,{imageUrl:e,originalSize:{width:t,height:n},imageRect:i,isLoadingImage:!1,imageLoaded:!0,selectorRect:this.state.imageSettings[0].rect,currentStep:e.indexOf("default-backgrounds")>0?1:2}))}},t.prototype.render=function(){var e=this,t={width:this.props.containerSize.width,height:this.props.containerSize.height,display:this.state.isLoadingImage||1!=this.state.currentStep?"none":""},n={width:this.props.containerSize.width,height:this.props.containerSize.height},a=({visibility:this.state.imageLoaded?"":"hidden"},{left:this.state.imageRect.left,top:this.state.imageRect.top,width:this.state.imageRect.width,height:this.state.imageRect.height,display:this.state.imageLoaded&&!this.isLastStep()?"":"none"}),s={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top+this.state.selectorRect.top,width:this.state.selectorRect.width-2*this.props.selectorBorderWidth,height:this.state.selectorRect.height-2*this.props.selectorBorderWidth,borderWidth:this.props.selectorBorderWidth,cursor:this.state.isDragging?"":"move"},o=8,l={width:o,height:o},u=o/2+1,d=$.extend({},l,{left:s.left,top:s.top,marginLeft:-u,marginTop:-u,cursor:this.state.isDragging?"":"nwse-resize"}),m=$.extend({},l,{left:s.left+s.width-o,top:s.top,marginLeft:u,marginTop:-u,cursor:this.state.isDragging?"":"nesw-resize"}),h=$.extend({},l,{left:s.left,top:s.top+s.height-o,marginLeft:-u,marginTop:u,cursor:this.state.isDragging?"":"nesw-resize"}),f=$.extend({},l,{left:s.left+s.width-o,top:s.top+s.height-o,marginLeft:u,marginTop:u,cursor:this.state.isDragging?"":"nwse-resize"}),g=new c(.8*this.props.containerSize.width,.4*this.props.containerSize.height),v=this.state.imageSettings.map(function(t){var n=e.getScaledSize(t.size.getAspect(),g),a=0==t.rect.width?0:n.width/t.rect.width,r=$.extend({},n,{overflow:"hidden"}),i={width:Math.round(e.state.imageRect.width*a),height:Math.round(e.state.imageRect.height*a),left:Math.round(t.rect.left*-a),top:Math.round(t.rect.top*-a)};return{imageStyle:i,imageContainerStyle:r}}),y={left:this.state.imageRect.left,top:this.state.imageRect.top,width:this.state.selectorRect.left,height:this.state.imageRect.height},b={left:this.state.imageRect.left+this.state.selectorRect.width+this.state.selectorRect.left,top:this.state.imageRect.top,width:this.state.imageRect.width-this.state.selectorRect.width-this.state.selectorRect.left,height:this.state.imageRect.height},E={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top,width:this.state.selectorRect.width,height:this.state.selectorRect.top},_={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top+this.state.selectorRect.top+this.state.selectorRect.height,width:this.state.selectorRect.width,height:this.state.imageRect.height-this.state.selectorRect.height-this.state.selectorRect.top},R=function(t){return i("image-uploader__step",e.state.currentStep==t?"image-uploader__step--current":e.state.currentStep>t?"image-uploader__step--complete":"image-uploader__step--pending",1==t||e.state.imageLoaded?"image-uploader__step--clickable":"")};return React.createElement("div",{className:i("image-uploader",this.state.uploadInProgress?"image-uploader--inprogress":null),style:{cursor:this.state.isDragging?"move"==this.state.dragMode?"move":"ul"==this.state.dragMode?"nwse-resize":"ur"==this.state.dragMode?"nesw-resize":"ll"==this.state.dragMode?"nesw-resize":"lr"==this.state.dragMode?"nwse-resize":"":""}},React.createElement("div",{className:"image-uploader__inprogressoverlay",style:this.state.uploadInProgress?null:{display:"none"}},React.createElement("div",{className:"image-uploader__inprogressmessage"},"Sending your images up. Hold tight...")),React.createElement("div",{className:"image-uploader__title-container"},React.createElement("div",{className:"image-uploader__title"},this.props.title),React.createElement("div",{className:"image-uploader__cancel",onClick:this.props.onCancel},"cancel")),React.createElement("ul",{className:"image-uploader__steps"},React.createElement("li",{className:R(1),onClick:function(){return e.setStep(1)}},"Upload image"),this.props.imageSettings.map(function(t,n){return React.createElement("li",{key:n,className:R(n+p),onClick:e.state.imageLoaded?function(){return e.setStep(n+p)}:null},"Crop ",t.title)}),React.createElement("li",{className:R(this.props.imageSettings.length+p),onClick:this.state.imageLoaded?function(){return e.setStep(e.props.imageSettings.length+p)}:null},"Preview images")),this.state.showImageUploadFailed?React.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"We ran into a problem. Try again or try a different image. ",React.createElement("a",{href:"/contact"},"Contact us")," if you need any help."):1==this.state.currentStep?this.state.tooSmallImageSize?React.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"The resolution of your image (",this.state.tooSmallImageSize.width,"x",this.state.tooSmallImageSize.height,") is lower than the minimum resolution (",this.state.minimumImageSize.width,"x",this.state.minimumImageSize.height,")."):this.state.invalidExtension?React.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"That file type (",this.state.invalidExtension,") is a not a supported image type (i.e. ",this.validExtensions.join(", "),")."):React.createElement("div",{
className:"image-uploader__message-container"},React.createElement("span",{className:"image-uploader__message-container-label"},"Step 1"),": ",React.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.step1Html||"Upload an image by clicking the button below"}})):this.state.currentStep<this.props.imageSettings.length+p?React.createElement("div",{className:"image-uploader__message-container"},React.createElement("span",{className:"image-uploader__message-container-label"},"Step ",this.state.currentStep),": ",this.props.imageSettings[this.state.currentStep-p].information):this.state.currentStep==this.props.imageSettings.length+p?React.createElement("div",{className:"image-uploader__message-container"},React.createElement("span",{className:"image-uploader__message-container-label"},"Step ",this.state.currentStep),": Make sure everything looks good, then click the button below"):"",React.createElement("div",{className:"image-uploader__outer-container"},React.createElement("div",{className:i("fa","fa-chevron-circle-left","image-uploader__navigator",1==this.state.currentStep?"image-uploader__navigator--hidden":"image-uploader__navigator--enabled"),onClick:this.state.currentStep>1?function(){return e.setStep(e.state.currentStep-1)}:null}),React.createElement("div",{className:"image-uploader__container",style:n},this.state.isLoadingImage?React.createElement("div",{className:"image-uploader__loadercontainer"},React.createElement("div",{className:"image-uploader__loadermessage"},"Loading image...")):"",React.createElement("div",{className:"image-uploader__upload",style:t},React.createElement("form",{id:"uploadForm",name:"uploadForm"},React.createElement("input",{id:"imageUpload",name:"imageUpload",type:"file",onChange:this.onFileChange}),React.createElement("label",{className:"image-uploader__upload-button",htmlFor:"imageUpload"},React.createElement("div",{className:"fa fa-upload image-uploader__upload-icon"}),React.createElement("div",null,"upload image"),React.createElement("div",{className:"image-uploader__upload-resolution"},"(min. ",this.state.minimumImageSize.width,"x",this.state.minimumImageSize.height,")")))),this.state.currentStep>1&&this.state.currentStep<this.props.imageSettings.length+p?React.createElement("div",null,React.createElement("div",{className:"image-uploader__selector",style:s,onMouseDown:function(t){return e.onMouseDown(t,"move")}}),React.createElement("div",{className:"image-uploader__selector-corner-resizer",style:d,onMouseDown:function(t){return e.onMouseDown(t,"ul")}}),React.createElement("div",{className:"image-uploader__selector-corner-resizer",style:m,onMouseDown:function(t){return e.onMouseDown(t,"ur")}}),React.createElement("div",{className:"image-uploader__selector-corner-resizer",style:h,onMouseDown:function(t){return e.onMouseDown(t,"ll")}}),React.createElement("div",{className:"image-uploader__selector-corner-resizer",style:f,onMouseDown:function(t){return e.onMouseDown(t,"lr")}}),React.createElement("div",{className:"image-uploader__overlay",style:y}),React.createElement("div",{className:"image-uploader__overlay",style:E}),React.createElement("div",{className:"image-uploader__overlay",style:b}),React.createElement("div",{className:"image-uploader__overlay",style:_})):"",v.map(function(t,n){return React.createElement("div",{key:n,style:e.state.currentStep<p+e.props.imageSettings.length?{display:"none"}:{},className:"image-uploader__preview"},React.createElement("div",{className:"image-uploader__previewimagecontainer",style:t.imageContainerStyle},React.createElement("img",{className:"image-uploader__previewimage",style:t.imageStyle,src:e.state.imageUrl})))}),React.createElement("img",{className:"image-uploader__image",src:this.state.imageUrl,style:a,onLoad:function(t){return e.onImageLoad(t)}}),this.state.currentStep==this.props.imageSettings.length+p?React.createElement("div",{className:"image-uploader__submitcontainer"},React.createElement(r.Button,{onClick:this.onUpdateImages,text:"Update Images"})):""),React.createElement("div",{className:i("fa","fa-chevron-circle-right","image-uploader__navigator",this.isLastStep()?"image-uploader__navigator--hidden":this.state.imageLoaded?"image-uploader__navigator--enabled":"image-uploader__navigator--disabled"),onClick:!this.isLastStep()&&this.state.imageLoaded?function(){return e.setStep(e.state.currentStep+1)}:null})))},t}(React.Component);t.ImageUploader=u},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(4),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return 0==this.props.groupSize?null:React.createElement("span",{className:r("group-icon",this.props.rightSide?"group-icon--right":"group-icon--left"),title:1==this.props.groupSize?"Only visible to the author":"Visible to "+this.props.groupSize+" members including the author"},React.createElement("span",{className:"group-icon__lock"}),React.createElement("span",{className:1==this.props.groupSize?"group-icon__single":"group-icon__multiple"}))},t}(React.Component);t.GroupIcon=i},function(e,t,n){"use strict";var a,r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s=n(12),o=n(86),l=n(5),c=n(222),p=n(224),u=n(223),d=n(225),m=n(115),h=n(193),f=n(87),g=n(226),v=n(227),y=n(33),b=n(170),E=n(116),_=n(164),R=n(228),w=n(111),C=n(166),S=n(229),N=n(13),k=n(29),T=n(6),I=n(4);!function(e){e[e.CurrentFiles=0]="CurrentFiles",e[e.NewFiles=1]="NewFiles"}(a=t.FileListIndex||(t.FileListIndex={}));var P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.recordDatasetDownload=function(){t.props.isNewDataset||goog_report_conversion(),window.Intercom("trackEvent","download_dataset",{dataset_id:t.props.datasetId})},t.redirectToLogin=function(){window.location.href="/account/login"},t}return r(t,e),t.prototype.renderProgressStep=function(e,t){var n=this.statusSequences(this.props.newDatasetVersionStatus)<e-1?"--pending":this.statusSequences(this.props.newDatasetVersionStatus)==e-1?"--current":"--complete",a=this.statusSequences(this.props.newDatasetVersionStatus)<e-1?0:this.statusSequences(this.props.newDatasetVersionStatus)==e-1?100*this.props.currentStatusPercentComplete:100;return React.createElement("div",{className:I("dataset-home__new-version-status-step","dataset-home__new-version-status-step"+n)},React.createElement("div",{className:I("dataset-home__new-version-progress-bar","dataset-home__new-version-progress-bar"+n),style:{width:a+"%"}}),React.createElement("div",{className:I("dataset-home__new-version-status-step-label","dataset-home__new-version-status-step-label"+n)},t))},t.prototype.statusSequences=function(e){switch(e){case"notYetPersisted":return 0;case"blobsReceived":return 1;case"blobsDecompressed":return 2;case"blobsCopiedToSds":return 3;case"individualBlobsCompressed":return 4;case"ready":return 5;default:return 6}},t.prototype.renderVersionNotes=function(e,t,n){var a=this;return this.props.isEditingVersions?React.createElement("div",{className:"dataset-home__markdown-editor-container"},React.createElement(k.MediaQuery,{minWidth:k.Breakpoints.desktopMin},React.createElement(b.MarkdownEditor,{key:"version-"+t,shouldSanitizeHtml:!0,hidePreview:!0,defaultValue:e,suffix:"-version"+t,onChangeCallback:function(e){return a.props.onDatasetVersionPropChanged(t,"versionNotes",e)},placeholder:n,maxRows:4})),React.createElement(k.MediaQuery,{minWidth:0,maxWidth:k.Breakpoints.tabletMax},React.createElement(b.MarkdownEditor,{key:"version-"+t,shouldSanitizeHtml:!0,hidePreview:!0,hideToolbar:!0,defaultValue:e,suffix:"-version"+t,onChangeCallback:function(e){return a.props.onDatasetVersionPropChanged(t,"versionNotes",e)},placeholder:n,maxRows:4}))):React.createElement(C.MarkdownConverter,{key:"version-"+t,contentClassName:"dataset-home__version-notes",content:e,mimeType:"text/markdown",insertNofollow:!0})},t.prototype.mapFilePreviews=function(e,t,n){var r=this;return void 0===t&&(t=!1),void 0===n&&(n=!1),e.map(function(e,i){var s=n?a.NewFiles:a.CurrentFiles;return{showSubmitToCompButton:!1,submitToCompUrl:null,description:e.description,fileName:e.name,filePreviewUrl:n?"/datasets/inbox-preview?blobFileToken="+e.blobToken:e.previewUrl,blobToken:e.blobToken,fileType:e.fileType||e.name.split(".")[e.name.split(".").length-1],fileUrl:e.downloadUrl,size:e.totalBytes,isEditingDescription:t||n,onDescriptionChange:t||n?function(e){return r.props.onDatasetFilePropChanged(i,"description",e,s)}:null,descriptionPlaceholder:t||n?"Enter a description for this file.":"",validationError:(t||n)&&""===e.description?"Enter a description":"",canDelete:n,onDelete:n?function(){r.props.onDeleteNewVersionFile(e.name)}:null,lastVersionMetadataUrl:n?r.props.datasetUrl+"/preview/"+e.name+"/"+r.props.lastVersionNumber:null}})},t.prototype.render=function(){var e=this,t=Math.min(Math.max(this.props.scripts.length,this.props.discussions.length,this.props.contributors.length,1),3),n=this.props.privateGroups.map(function(e){return{value:e.id.toString(),label:e.name}}),a=1==this.props.owners.filter(function(t){return t.id==e.props.organizationId}).length?this.props.owners.filter(function(t){return t.id==e.props.organizationId})[0].maxFileSizeBytes:null;return React.createElement("div",null,this.props.isNewDataset?null:React.createElement("div",{className:"dataset-home__teasers"},React.createElement("div",{className:"dataset-home__teaser-column"},React.createElement(l.ContentBox,{containerClassName:"dataset-home__teaser",title:"Kernels",onTitleClick:function(){return e.props.onChangeTab("kernels")},titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},React.createElement(c.ScriptListTeaser,{minItemHeight:t,items:this.props.scripts,emptyListUrl:this.props.newScriptUrl}))),React.createElement("div",{className:"dataset-home__teaser-column"},React.createElement(l.ContentBox,{containerClassName:"dataset-home__teaser",title:"Discussion",onTitleClick:function(){return e.props.onChangeTab("discussion")},titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},React.createElement(p.ForumTopicListTeaser,{minItemHeight:t,items:this.props.discussions,emptyListUrl:this.props.datasetUrl+"/discussion"}))),React.createElement("div",{className:"dataset-home__teaser-column"},React.createElement(l.ContentBox,{containerClassName:"dataset-home__teaser",title:"Top Contributors",onTitleClick:function(){return e.props.onChangeTab("contributors")},titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},React.createElement(u.TeaserList,{minItemHeight:t,listItems:this.props.contributors.slice(0,3),listItemRenderer:function(e,t){return React.createElement(S.DatasetContributorsTeaserItem,i({},e,{key:t}))},emptyListCreateNewUrl:this.props.newScriptUrl,emptyListMessage:"There are no contributors yet.",emptyListCreateNewText:"Be the first"})))),this.props.isNewDataset?null:React.createElement(l.ContentBox,{title:"Recent Activity",onTitleClick:function(){return e.props.onChangeTab("feed")},titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},this.props.feed.slice(0,5).map(function(e,t){return React.createElement(d.DatasetActivityFeedItem,i({},e,{key:t}))})),this.props.isNewDataset||this.props.canEditSlug||this.props.canEditPublishStatus||this.props.canEditFeatureStatus||this.props.canEditPublishStatus?React.createElement(l.ContentBox,{title:this.props.isNewDataset?"Choose a Permanent URL":"Power settings",titleBarRightSide:this.props.isNewDataset?"":React.createElement(m.EditStateToggleButton,{sectionName:"Slug",cancelPropName:"slug",cancelCallback:this.props.onDatasetEditingStateCancelled,isEditing:this.props.isEditingSlug,toggleCallback:this.props.onDatasetEditingStateChanged})},this.props.canEditSlug?React.createElement("section",{className:"dataset-home__section"},"https://www.kaggle.com/",this.props.ownerSlug,"/",this.props.isEditingSlug?React.createElement(h.InlineTextEditor,{className:"dataset-home__inline-slug-editor",value:this.props.slug,rejectedCharacterRegExp:/[^A-Za-z0-9-]+/g,onChangeCallback:function(t){return e.props.onDatasetPropChanged("slug",t)}}):this.props.slug):"",this.props.canEditPublishStatus?React.createElement("section",{className:"dataset-home__section"},React.createElement(f.Checkbox,{isChecked:this.props.isPublished,text:"Is published?",isEditable:this.props.isEditingSlug,textIsClickable:!0,onChange:this.props.onPublishedChange})):"",this.props.canEditFeatureStatus?React.createElement("section",{className:"dataset-home__section"},React.createElement(f.Checkbox,{isChecked:this.props.isFeatured,text:"Is featured?",isEditable:this.props.isEditingSlug,textIsClickable:!0,onChange:this.props.onFeaturedChange})):"",this.props.canEditPublishStatus&&!this.props.isNewDataset?React.createElement("section",{className:"dataset-home__section"},React.createElement(f.Checkbox,{isChecked:this.props.isRemoved,text:"Is removed?",isEditable:this.props.isEditingSlug,textIsClickable:!0,onChange:this.props.onRemovedChange})):"",this.props.canEditPrivateGroup?React.createElement("section",{className:"dataset-home__section"},React.createElement(N.SelectBox,{disabled:!this.props.isEditingSlug,className:"dataset-home__private-group-selection",value:(this.props.privateGroupId||0).toString(),placeholder:this.props.isEditingSlug?"Select a private group":"Publicly Accessible",options:n,onChange:function(t){return e.props.onPrivateGroupChanged(parseInt(t))}})):""):null,this.props.isNewDataset&&this.props.originalImageUrl.indexOf("default-backgrounds")>-1?React.createElement(l.ContentBox,{title:"Upload an Image",contentClassName:"dataset-home__image-reminder-box"},React.createElement("div",{className:"dataset-home__image-reminder-text"},React.createElement("p",null,"We have chosen a generic random image for your dataset, but we suggest you use a relevant image, which will make your dataset stand out more."),React.createElement("p",null,"If you need inspiration, ",React.createElement("a",{href:"http://www.unsplash.com",target:"_blank"},"unsplash.com")," has a great library of public domain images.")),React.createElement("div",{className:"dataset-home__image-reminder-button"},React.createElement(o.ButtonRoundEdged,{onClick:this.props.onShowImageUploader,text:"Upload Image"}))):null,React.createElement(l.ContentBox,{title:"Description",titleBarRightSide:this.props.canEdit&&!this.props.isNewDataset||this.props.canEditDescription?React.createElement("span",null,!this.props.canEditDescription||this.props.canEdit||this.props.isEditingDescription?null:React.createElement("span",{style:{marginRight:"10px",fontSize:"10pt",fontStyle:"italic"}},"Help us describe this dataset"),React.createElement(m.EditStateToggleButton,{sectionName:"Description",cancelPropName:"description",cancelCallback:this.props.onDatasetEditingStateCancelled,isEditing:this.props.isEditingDescription,toggleCallback:this.props.onDatasetEditingStateChanged})):""},React.createElement("section",{className:"dataset-home__section"},this.props.isEditingDescription?React.createElement("div",null,React.createElement(v.InfoToggle,{bannerName:"dataset-description-info",expandedContent:React.createElement("div",{className:"dataset-home__description-helper"},React.createElement("p",null,"This is your chance to capture the interest of the data science community. Your description should answer these questions. Include links and citations where applicable:"),React.createElement("ul",null,React.createElement("li",null,React.createElement("strong",null,"Context"),": What is the subject matter of the dataset?"),React.createElement("li",null,React.createElement("strong",null,"Content"),": What fields does it include?"),React.createElement("li",null,React.createElement("strong",null,"Acknowledgements"),": Who owns the dataset and how was it compiled?"),React.createElement("li",null,React.createElement("strong",null,"Past Research"),": In brief, what other analysis has been done on this data?"),React.createElement("li",null,React.createElement("strong",null,"Inspiration"),": Why is this dataset worthy of further analysis? What questions would you like answered by the community? What feedback would be helpful on the data itself?"))),collapsedContent:React.createElement("div",{className:"dataset-home__description-helper"},"Click here to see tips on describing your dataset.")}),React.createElement(b.MarkdownEditor,{editorClassName:"dataset-home__description-editor",shouldSanitizeHtml:!0,alwaysShowToolbar:!0,hidePreview:!0,defaultValue:this.props.description,placeholder:"Give a detailed description about your dataset.",suffix:"-description",minRows:5,maxRows:15,onChangeCallback:function(t){return e.props.onDatasetPropChanged("description",t)}})):React.createElement(C.MarkdownConverter,{content:this.props.description,mimeType:"text/markdown",insertNofollow:!0})),this.props.privateGroupId?"":React.createElement("div",{className:"dataset-home__bottom-attached-container"},React.createElement("div",{className:"dataset-home__bottom-attached-header"},!this.props.isEditingLicense&&this.props.license?React.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.license}}):React.createElement("div",{className:"dataset-home__bottom-attached-default"},"Select a license"),this.props.canEdit?React.createElement("div",{className:"dataset-home__multiple-button-container"},React.createElement(m.EditStateToggleButton,{sectionName:"License",cancelPropName:"license",saveButtonText:this.props.isNewDataset?"Done":"Save",editButtonText:this.props.isNewDataset?"Select":"Edit",cancelCallback:this.props.onDatasetEditingStateCancelled,isEditing:this.props.isEditingLicense,toggleCallback:this.props.onDatasetEditingStateChanged})):""),this.props.isEditingLicense?React.createElement("div",{className:"dataset-home__bottom-attached-container-contents"},React.createElement("div",{className:"dataset-home__license-list-container"},React.createElement(g.RadioButtonList,{options:this.props.licenses.map(function(e){return{value:e.id,text:e.description}}),onChange:function(t){return e.props.onLicenseChanged(t.value,t.text)},selectedValue:this.props.licenseId,textIsHtml:!0}))):"")),this.props.canEdit||this.props.files.length>0||this.props.isSavingNewVersion?React.createElement(l.ContentBox,{title:"Files",loaderMessage:"Hold tight while we package up your files...",titleBarRightSide:this.props.canEdit?React.createElement("div",{className:"dataset-home__multiple-button-container"},this.props.isEditingFiles||this.props.isSavingNewVersion?"":React.createElement(k.MediaQuery,{minWidth:k.Breakpoints.desktopMin},React.createElement(m.EditStateToggleButton,{sectionName:"NewVersion",cancelPropName:"newVersion",cancelCallback:this.props.onDatasetEditingStateCancelled,toggleCallback:this.props.onDatasetEditingStateChanged,isEditing:this.props.isEditingNewVersion,editButtonText:"Create New Dataset Version",saveButtonText:"Save New Version"})),this.props.files.length>0&&!this.props.isEditingNewVersion?React.createElement(m.EditStateToggleButton,{sectionName:"Files",cancelPropName:"files",editButtonText:"Edit File Descriptions",isEditing:this.props.isEditingFiles,cancelCallback:this.props.onDatasetEditingStateCancelled,toggleCallback:this.props.onDatasetEditingStateChanged}):""):""},this.props.isSavingNewVersion||this.props.showNewVersionProgress?React.createElement("div",{className:"dataset-home__new-version-status-progress"},this.renderProgressStep(1,"Persisting Metadata"),this.renderProgressStep(2,"Decompressing Files"),this.renderProgressStep(3,"Copying Kernel Files"),this.renderProgressStep(4,"Compressing Files"),this.renderProgressStep(5,"Building Archive")):"",this.props.isEditingNewVersion?React.createElement("div",null,React.createElement("section",{className:"dataset-home__section"},this.props.isNewDataset?React.createElement(v.InfoToggle,{bannerName:"dataset-files-helper-new-dataset",expandedContent:React.createElement("div",null,React.createElement("p",null,"Here are some guidelines for creating your dataset files:"),React.createElement("ul",null,React.createElement("li",null,"If you have a SQLite database for this dataset, name it database.sqlite in order for users to be able to query it."),React.createElement("li",null,"Keep file names short and clear. Do not include the dataset’s name. ",React.createElement(y.ToolTip,{tipText:"When users download the dataset, it will automatically\nunzip to a folder with the name of the dataset."},React.createElement("span",{className:"fa fa-question-circle"}))),React.createElement("li",null,"Csv files are preferred, when appropriate."),React.createElement("li",null,"Files, including published papers or visualizations, from past analysis should ",React.createElement("strong",null,"not")," be included here. They can be shared under the Dataset Description."))),collapsedContent:React.createElement("div",null,"Click here to see some tips on creating, naming, and uploading files for your dataset.")}):React.createElement(v.InfoToggle,{bannerName:"dataset-files-helper-existing-dataset",expandedContent:React.createElement("div",null,React.createElement("p",null,"Here are some guidelines for updating your dataset files: "),React.createElement("ul",null,React.createElement("li",null,React.createElement("strong",null,"All files will be replaced.")," Be sure to include any existing files that will not change."),React.createElement("li",null,React.createElement("strong",null,"To update existing tables"),": Upload a new version of the file and use the same file name as the previous version."),React.createElement("li",null,React.createElement("strong",null,"To add new tables"),": Upload any new files. You must also upload any existing files again."),React.createElement("li",null,React.createElement("strong",null,"To remove tables"),": Simply do not include any files you would like to be removed."))),collapsedContent:React.createElement("div",null,"Click here to see some tips on creating, naming, and updating the files for your dataset.")})),this.props.isNewDataset?null:React.createElement("div",null,React.createElement("div",{className:"dataset-home__new-version-description-editor"},React.createElement(b.MarkdownEditor,{editorClassName:"dataset-home__description-editor",shouldSanitizeHtml:!0,hidePreview:!0,alwaysShowToolbar:!0,suffix:"-newVersionDescription",placeholder:"Enter a description for this version.",onChangeCallback:function(t){return e.props.onDatasetPropChanged("newVersionDescription",t)}}))),React.createElement("div",{className:"dataset-home__file-uploader-container"},React.createElement(E.FileUploader,{createBlobUrl:"/blobs/inbox/dataset-version-files",mode:"multiple",onFileUploadFinished:this.props.onFileUploadFinished,autoRemoveOnComplete:!0,maxUncompressedBytesAllowed:a||this.props.maxUncompressedFileBytesAllowed,maxCompressedBytesAllowed:a||this.props.maxCompressedFileBytesAllowed})),this.props.newVersionFiles&&this.props.newVersionFiles.length>0?React.createElement(_.FilePreviewList,{files:this.mapFilePreviews(this.props.newVersionFiles,!0,!0),userCanEditMetadata:!T.Current.isAnonymous,onMetadataChange:this.props.onNewFileMetadataChange}):null,this.props.isNewDataset||this.props.isSavingNewVersion?null:React.createElement("div",{className:"dataset-home__call-to-action-container"},React.createElement(s.Button,{onClick:function(){return e.props.onDatasetEditingStateChanged("NewVersion")},text:"Save New Version"}))):"",!this.props.isNewDataset||this.props.isSavingNewVersion?React.createElement("div",{className:this.props.isEditingNewVersion?"dataset-home__bottom-attached-container":""},!this.props.isEditingNewVersion||this.props.showCurrentVersionFiles?this.props.isEditingFiles?React.createElement("div",{className:this.props.isEditingNewVersion?"dataset-home__bottom-attached-container-contents":""},React.createElement(_.FilePreviewList,{files:this.mapFilePreviews(this.props.files,!0),userCanEditMetadata:!T.Current.isAnonymous,onMetadataChange:this.props.onExistingFileMetadataChange,onStartEditingDescription:function(){return e.props.onDatasetEditingStateChanged("Files")},onStopEditingDescription:function(){return e.props.onDatasetEditingStateChanged("Files")}})):React.createElement("div",null,React.createElement(_.FilePreviewList,{files:this.mapFilePreviews(this.props.files),userCanEditMetadata:!0,onStartEditingMetadata:T.Current.isAnonymous?this.redirectToLogin:null,onMetadataChange:T.Current.isAnonymous?this.redirectToLogin:this.props.onExistingFileMetadataChange,onStartEditingDescription:T.Current.isAnonymous?this.redirectToLogin:function(){return e.props.onDatasetEditingStateChanged("Files")},onStopEditingDescription:T.Current.isAnonymous?this.redirectToLogin:function(){return e.props.onDatasetEditingStateChanged("Files")}})):"",this.props.isEditingNewVersion&&this.props.files.length>0?React.createElement("div",{onClick:this.props.onToggleCurrentVersionFiles,className:I("dataset-home__bottom-attached-container-toggle","dataset-home__bottom-attached-container-toggle"+(this.props.showCurrentVersionFiles?"--collapse":"--expand"))},this.props.showCurrentVersionFiles?"hide":"see"," version ",this.props.datasetVersions.filter(function(t){return t.id==e.props.datasetVersionId})[0].versionNumber," file descriptions"):""):""):"",this.props.datasetVersions.length?React.createElement(l.ContentBox,{title:"Versions",titleBarRightSide:this.props.canEdit?React.createElement(m.EditStateToggleButton,{sectionName:"Versions",cancelPropName:"datasetVersions",isEditing:this.props.isEditingVersions,cancelCallback:this.props.onDatasetEditingStateCancelled,toggleCallback:this.props.onDatasetEditingStateChanged}):""},React.createElement(R.DatasetVersionList,{activeVersionId:this.props.datasetVersionId,datasetVersionListItems:this.props.datasetVersions,datasetVersionListKeyBaseName:"dataset-version-key-",datasetVersionNotesRenderer:this.renderVersionNotes.bind(this),isEditing:this.props.isEditingVersions,textareaPlaceholder:"Enter a description of the updates made on this version.",hideVersionStatuses:this.props.hideVersionStatuses})):"",this.props.isNewDataset?null:React.createElement(l.ContentBox,null,React.createElement("span",null,React.createElement(w.Pluralize,{word:"view",count:this.props.numberOfViews,formatNumber:!0})," · ",React.createElement(w.Pluralize,{word:"download",count:this.props.numberOfDownloads,formatNumber:!0})," · ",React.createElement(w.Pluralize,{word:"kernel",count:this.props.numberOfScripts,formatNumber:!0})," · ",React.createElement(w.Pluralize,{word:"topic",count:this.props.numberOfTopics,formatNumber:!0}))),this.props.isNewDataset?React.createElement("div",{className:"dataset-home__call-to-action-container"},React.createElement(s.Button,{onClick:this.props.onSaveNewDataset,isDisabled:!this.props.isNewDataset,text:"Publish Dataset"})):null,this.props.canEdit||this.props.isSavingNewVersion?null:React.createElement("div",{className:"dataset-home__call-to-action-container"},React.createElement(s.Button,{href:"/datasets",text:"Explore More Datasets"})))},t}(React.Component);t.DatasetHome=P},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(3),i=n(223),s=n(7),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderListItem=function(e,t){return React.createElement("a",{key:t,className:"script-list-item",href:e.url},React.createElement("div",{className:"script-list-item__info"},React.createElement("span",{className:"script-list-item__title"},e.name),React.createElement("div",{className:"script-list-item__posted"},React.createElement("span",null,"run ",React.createElement(s.TimeAgo,{time:e.lastRunDate})))),React.createElement("div",{className:"script-list-item__votes"},React.createElement("span",{className:"script-list-item__votes-number"},e.totalVotes),React.createElement("span",{className:"script-list-item__votes-sub-text"},r("vote",e.totalVotes))))},t.prototype.render=function(){return React.createElement(i.TeaserList,{minItemHeight:this.props.minItemHeight,listItems:this.props.items,listItemRenderer:this.renderListItem,emptyListCreateNewUrl:this.props.emptyListUrl,emptyListMessage:"There are no kernels yet.",emptyListCreateNewText:"Create one"})},t}(React.Component);t.ScriptListTeaser=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(4),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.callToAction=function(){var e=this;return this.props.emptyListCreateNewUrl?React.createElement("a",{href:this.props.emptyListCreateNewUrl,onClick:function(){return e.props.emptyListCreateNewAction()}},this.props.emptyListCreateNewText):null},t.prototype.render=function(){var e=this;return this.props.listItems&&this.props.listItems.length?React.createElement("div",{className:r("teaser-list","teaser-list--"+(this.props.minItemHeight||3)+"-item-height")},this.props.listItems.map(function(t,n){return e.props.listItemRenderer(t,n)})):React.createElement("div",{className:r("teaser-list","teaser-list--"+(this.props.minItemHeight||1)+"-item-height")},React.createElement("div",{className:"teaser-list__empty-list"},React.createElement("span",{className:"teaser-list__empty-list-message"},this.props.emptyListMessage),this.callToAction()))},t}(React.Component);t.TeaserList=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(3),i=n(223),s=n(7),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderListItem=function(e,t){return React.createElement("a",{key:t,className:"forum-topic-list-item",href:e.url},React.createElement("div",{className:"forum-topic-list-item__info"},React.createElement("span",{className:"forum-topic-list-item__title"},e.title),React.createElement("div",{className:"forum-topic-list-item__posted"},React.createElement(s.TimeAgo,{time:e.lastPost}))),React.createElement("div",{className:"forum-topic-list-item__replies"},React.createElement("span",{className:"forum-topic-list-item__replies-number"},e.totalReplies),React.createElement("span",{className:"forum-topic-list-item__replies-sub-text"},r("reply",e.totalReplies))))},t.prototype.render=function(){return React.createElement(i.TeaserList,{minItemHeight:this.props.minItemHeight,listItems:this.props.items,listItemRenderer:this.renderListItem,emptyListCreateNewUrl:this.props.emptyListUrl,emptyListMessage:"There are no conversations yet.",emptyListCreateNewText:"Start one"})},t}(React.Component);t.ForumTopicListTeaser=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(4),i=n(7),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e="script"==this.props.activityType?"fa-file-code-o":"scriptFork"==this.props.activityType?"fa-code-fork":"scriptRun"==this.props.activityType?"fa-file-code-o":"dataset"==this.props.activityType?"fa-database":"datasetVersion"==this.props.activityType?"fa-database":"topic"==this.props.activityType?"fa-comments-o":"scriptComment"==this.props.activityType?"fa-comment-o":"comment"==this.props.activityType?"fa-comment-o":"",t="script"==this.props.activityType?React.createElement("span",{
className:"dataset-activity-feed-item__action"},"Created kernel ",React.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"scriptFork"==this.props.activityType?React.createElement("span",{className:"dataset-activity-feed-item__action"},"Forked kernel ",React.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"scriptRun"==this.props.activityType?React.createElement("span",{className:"dataset-activity-feed-item__action"},"Ran version ",this.props.versionNumber," of kernel ",React.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"dataset"==this.props.activityType?React.createElement("span",{className:"dataset-activity-feed-item__action"},"Created ",React.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},"a dataset")):"datasetVersion"==this.props.activityType?React.createElement("span",{className:"dataset-activity-feed-item__action"},"Created version ",this.props.versionNumber," of dataset ",React.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"topic"==this.props.activityType?React.createElement("span",{className:"dataset-activity-feed-item__action"},"Created a new discussion ",React.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"scriptComment"==this.props.activityType?React.createElement("span",{className:"dataset-activity-feed-item__action"},"Commented on kernel ",React.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"comment"==this.props.activityType?React.createElement("span",{className:"dataset-activity-feed-item__action"},"Commented on dataset discussion ",React.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"";return React.createElement("div",{className:"dataset-activity-feed-item"},React.createElement("div",{className:"dataset-activity-feed-item__images"},React.createElement("div",{className:"dataset-activity-feed-item__icon"},React.createElement("span",{className:r("fa",e)})),React.createElement("a",{href:this.props.userUrl},React.createElement("img",{className:"dataset-activity-feed-item__user-avatar",src:this.props.userAvatarUrl}))),React.createElement("div",{className:"dataset-activity-feed-item__user-link-container"},React.createElement("a",{className:"dataset-activity-feed-item__user-link",href:this.props.userUrl},this.props.userDisplayName)),React.createElement("div",{className:"dataset-activity-feed-item__details"},t),React.createElement(i.TimeAgo,{className:"dataset-activity-feed-item__time",time:this.props.date}))},t}(React.Component);t.DatasetActivityFeedItem=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(4),i=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClick=function(e){n.setState({selectedValue:e.value}),n.props.onChange(e)},n.state={selectedValue:t.selectedValue},n}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement("ul",{className:"radio-button-list"},this.props.options.map(function(t){var n=e.state.selectedValue===t.value;return React.createElement("li",{className:r("radio-button-list__option",n?"radio-button-list__option--selected":"",e.props.textIsClickable?"checkbox--clickable":""),key:t.value,onClick:e.props.textIsClickable?function(){return e.handleClick(t)}:null},React.createElement("span",{className:r("radio-button-list__option-radio",e.props.textIsClickable?"":"radio-button-list__option-radio--clickable",n?"radio-button-list__option-radio--selected":""),onClick:function(){return e.handleClick(t)}}),React.createElement("span",{className:r("radio-button-list__option-label"),dangerouslySetInnerHTML:e.props.textIsHtml?{__html:t.text}:null},e.props.textIsHtml?null:t.text))}))},t}(React.Component);t.RadioButtonList=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(2),i=n(4),s=function(e){function t(t){var n=e.call(this,t)||this;return n.loadCurrentVisibilityState=function(){r.ajax({type:"POST",url:"/account/get-banner-state",data:{bannerName:n.props.bannerName,showBanner:!n.state.isVisible},success:function(e){n.setState({isVisible:e.showBanner})}})},n.onDismiss=function(){r.ajax({type:"POST",url:"/account/dismiss-banner",data:{bannerName:n.props.bannerName,showBanner:!n.state.isVisible}}),n.setState({isVisible:!n.state.isVisible})},n.state=t,null==n.state.isVisible&&n.loadCurrentVisibilityState(),n}return a(t,e),t.prototype.render=function(){var e=this;return null==this.state.isVisible?null:React.createElement("div",{className:i("info-toggle",this.state.isVisible?null:"info-toggle--clickable"),onClick:this.state.isVisible?null:function(){return e.onDismiss()}},React.createElement("div",{className:"info-toggle__content"},React.createElement("div",{className:"info-toggle__icon info-toggle__icon--info"}),React.createElement("div",{className:i("info-toggle__icon",this.state.isVisible?"info-toggle__icon--collapse":"info-toggle__icon--expand"),onClick:function(){return e.onDismiss()}}),this.state.isVisible?this.props.expandedContent:this.props.collapsedContent))},t}(React.Component);t.InfoToggle=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(7),i=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement("div",{className:"dataset-version-list"},this.props.datasetVersionListItems.map(function(t,n){var a=(e.props.activeVersionId==t.id,"ready"==t.status?"":"failed"==t.status?"Processing this version failed.":"This version is in progress."),s="ready"==t.status||"failed"==t.status?t.status:"progress";return React.createElement("div",{key:e.props.datasetVersionListKeyBaseName+n,className:i("dataset-version-list__item",e.props.isEditing?"dataset-version-list__item--editing":"dataset-version-list__item--read-only")},React.createElement("div",{className:"dataset-version-list__item-meta"},e.props.hideVersionStatuses?null:React.createElement("div",{className:i("dataset-version-list__item-status","dataset-version-list__item-status--"+s,"progress"==s?"fa-spin":"",e.props.isEditing?"dataset-version-list__item-name--editing":""),title:a}),React.createElement("div",{className:i("dataset-version-list__item-name",e.props.isEditing?"dataset-version-list__item-name--editing":"")},"ready"==t.status?React.createElement("a",{href:t.datasetVersionUrl,className:"dataset-version-list__item-link"},"Version "+t.versionNumber+" "):null),React.createElement("div",{className:i("dataset-version-list__item-date",e.props.isEditing?"dataset-version-list__item-date--editing":"")},React.createElement(r.TimeAgo,{time:t.creationDate}))),React.createElement("div",{className:i("dataset-version-list__item-notes","dataset-version-list__item-notes--"+s),title:a},e.props.datasetVersionNotesRenderer(t.versionNotes,n,e.props.textareaPlaceholder)))}))},t}(React.Component);t.DatasetVersionList=s},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return React.createElement("a",{className:"dataset-contributors-teaser-item",href:this.props.userUrl},React.createElement("div",{className:"dataset-contributors-teaser-item__avatar"},React.createElement("img",{className:"dataset-contributors-teaser-item__avatar-image",src:this.props.userAvatarUrl})),React.createElement("div",{className:"dataset-contributors-teaser-item__info"},React.createElement("span",{className:"dataset-contributors-teaser-item__user"},this.props.displayName)),React.createElement("div",{className:"dataset-contributors-teaser-item__rank"},React.createElement("span",{className:"dataset-contributors-teaser-item__rank-number"},this.props.rank)))},t}(React.Component);t.DatasetContributorsTeaserItem=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement(r.ScriptList,{languagesMetadataUrl:"/kernels/alllang",listTitle:"Kernels",loginAndReturnUrl:null,newNotebookUrl:null,newScriptUrl:null,outputTypesMetadataUrl:"/kernels/allouttypes",showFilters:!0,showScriptProjectName:!1,sourceBaseUrl:"/kernels/d/"+this.props.datasetId+"/",isHidden:"kernels"!=this.props.currentTab})},t}(React.Component);t.DatasetKernels=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(40),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return"discussion"===this.props.currentTab?React.createElement(i.Forum,r({},$.extend(!0,{},this.props.discussion,this.props.newTopic),{onTopicClicked:this.props.onTopicClicked,topicId:this.props.topicId,isNew:this.props.isNewTopic,topicSubmitted:this.props.onTopicSubmitted})):null},t}(React.Component);t.DatasetDiscussion=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(5),i=n(111),s=n(199),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement(r.ContentBox,{title:"Contributors"},this.props.contributors.map(function(e){return React.createElement("a",{className:"dataset-contributors__item",href:e.userUrl,key:e.rank},React.createElement("div",{className:"dataset-contributors__rank"},React.createElement("span",{className:"dataset-contributors__rank-number"},e.rank)),React.createElement("div",{className:"dataset-contributors__avatar"},React.createElement("img",{className:"dataset-contributors__avatar-image",src:e.userAvatarUrl})),React.createElement("div",{className:"dataset-contributors__info"},React.createElement("div",null,React.createElement("span",{className:"dataset-contributors__user"},e.displayName),React.createElement("div",{className:"dataset-contributors__meta"},React.createElement(i.Pluralize,{word:"kernel",count:e.totalScripts})," |",React.createElement(i.Pluralize,{word:"post",count:e.totalForumMessages})))))}),React.createElement(s.LoadingText,{isLoading:this.props.contributorsIsLoading,text:"Loading more contributors"}))},t}(React.Component);t.DatasetContributors=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(225),s=n(206),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderItem=function(e,t){return React.createElement(i.DatasetActivityFeedItem,r({},e,{key:t}))},t.prototype.render=function(){return this.props.isNewDataset?null:React.createElement(s.SmartListContainer,{title:"Activity Feed",pluralItemDescription:"activity",data:this.props.hasLoadedFeed?this.props.feed:null,dataUrl:this.props.datasetUrl+"/feed.json",itemRenderer:this.renderItem.bind(this),isHidden:"feed"!=this.props.currentTab})},t}(React.Component);t.DatasetActivityFeed=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(11),i=n(5),s=n(13),o=n(27),l=n(26),c=n(6),p=n(29),u=n(30),d=n(235),m=20,h=function(e){function t(t){var n=e.call(this,t)||this;n.handleResize=function(){var e=window.innerWidth;n.setState({windowWidth:e,shouldUseMobileSort:e<=p.Breakpoints.mobileMax})},n.onWindowPopState=function(e){if(e.state&&e.state.datasetListFilterState&&e.state.datasetListFilterState.sortBy){var t=e.state.datasetListFilterState;n.onFilterChanged(t.sortBy,t.group,!1)}else n.onFilterChanged(n.props.sortBy,n.props.selectionGroup,!1)},n.onSearchChange=function(e){var t=null==n.qTextBox||""==n.qTextBox;n.qTextBox=e.target.value,t&&null!=n.qTextBox&&""!=n.qTextBox&&n.setState({sortBy:"relevance"}),n.timer&&clearInterval(n.timer),n.timer=window.setInterval(function(){return n.updateSearch(n.qTextBox)},200)},n.handleBeforeUnload=function(e){var t=$(".datasets__list-wrapper");t.is(document.activeElement)||0!==t.has(document.activeElement).length||n.logSearchAction()},n.updateSearch=function(e){n.timer&&clearInterval(n.timer),n.setState({search:e,sortBy:null==e||""==e?"hottest":n.state.sortBy},function(){return n.onFilterChanged(n.state.sortBy,n.state.selectionGroup,!0)})},n.handleClickResult=function(e,t,a){n.logSearchAction("dataset-"+e,t,a)},n.props.userId?n.initForProfile():n.initForDatasetTab();var a=n.props.datasetListItems||[];return n.state={page:1,sortBy:n.props.sortBy||"hottest",selectionGroup:n.props.selectionGroup||(n.props.userId?"my":"featured"),search:n.props.search,isLoadingMoreData:!1,hasMoreData:a.length<n.props.totalDatasetListItems,hasLoadedSomeData:a.length>0,datasetListItems:a,totalDatasetListItems:n.props.totalDatasetListItems,shouldUseMobileSort:window.innerWidth<=p.Breakpoints.mobileMax,shouldShowMobileSort:!1},n}return a(t,e),t.prototype.initForDatasetTab=function(){this.availableSelectionGroups=[{value:"featured",label:"Featured"},{value:"all",label:"All"}],c.Current.isAnonymous||(this.props.canSeeUnfeaturedTab&&this.availableSelectionGroups.push({value:"unfeatured",label:"Unfeatured"}),(this.props.canCreateNewDataset||this.props.userId)&&this.availableSelectionGroups.push({value:"my",label:"Mine"}),this.availableSelectionGroups.push({value:"upvoted",label:"Upvoted"}))},t.prototype.initForProfile=function(){this.availableSelectionGroups=[{value:"my",label:"Mine"},{separator:!0},{value:"upvoted",label:"Upvoted"}]},t.prototype.componentDidMount=function(){window.Intercom("trackEvent","view_datasets"),this.props.datasetListItems||this.onFilterChanged(this.state.sortBy,this.state.selectionGroup,!1)},t.prototype.componentWillMount=function(){window.addEventListener("resize",this.handleResize,!1),window.addEventListener("popstate",this.onWindowPopState,!1),window.addEventListener("beforeunload",this.handleBeforeUnload,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize,!1),window.removeEventListener("popstate",this.onWindowPopState,!1),window.removeEventListener("beforeunload",this.handleBeforeUnload,!1)},t.prototype.onSortByChanged=function(e){this.onFilterChanged(e,this.state.selectionGroup,!0)},t.prototype.onSelectionGroupChanged=function(e){this.onFilterChanged(this.state.sortBy,e,!0)},t.prototype.onFilterChanged=function(e,t,n){var a=this;this.container&&(this.container.style.minHeight=$(this.container).height()+"px"),this.setState({page:1,datasetListItems:[],hasLoadedSomeData:!1,isLoadingMoreData:!0,hasMoreData:!0,sortBy:"upvoted"==t&&"relevance"==e?"hottest":e,selectionGroup:t},function(){var e=window.history.state||{};e.datasetListFilterState=a.getFilterParams();var t=window.location.pathname+"?"+$.param(e.datasetListFilterState);n&&window.history.pushState(e,null,t),a.getData(e.datasetListFilterState).then(function(){a.container.style.minHeight="initial"})})},t.prototype.onScroll=function(){var e=this;!this.state.isLoadingMoreData&&this.state.hasMoreData&&this.setState({isLoadingMoreData:!0,page:this.state.page+1},function(){var t=e.getFilterParams();e.getData(t)})},t.prototype.logSearchAction=function(e,t,n){this.state.search&&$.ajax({url:"/search/log",type:"POST",data:{index:"datasets",isQuick:!1,q:this.state.search,isSuccess:null!=e&&null!=t,rank:n,id:e,url:t}})},t.prototype.getFilterParams=function(){var e={sortBy:this.state.sortBy,group:this.state.selectionGroup};return this.props.userId&&(e.userId=this.props.userId,e.group="upvoted"===e.group?"upvoted":"my"),1!==this.state.page&&(e.page=this.state.page),this.state.search&&"upvoted"!=this.state.selectionGroup&&(e.search=this.state.search),e},t.prototype.getData=function(e){var t=this;return this.currentDataRequest&&4!==this.currentDataRequest.readyState&&this.currentDataRequest.abort(),this.currentDataRequest=$.ajax({url:"/datasets.json?"+$.param(e),method:"GET",success:function(e){var n=t.state.datasetListItems.concat(e.datasetListItems);return t.setState({datasetListItems:n,totalDatasetListItems:e.totalDatasetListItems,isLoadingMoreData:!1,hasLoadedSomeData:n.length>0,hasMoreData:n.length<e.totalDatasetListItems})}}),this.currentDataRequest},t.prototype.getSelectionGroupItems=function(){var e=this;return this.availableSelectionGroups.map(function(t,n){return t.separator?{separator:!0}:{name:t.label,key:t.value,href:"?sortBy="+e.state.sortBy+"&group="+t.value,action:function(){e.onSelectionGroupChanged(t.value)}}})},t.prototype.getTitle=function(){if(this.state.isLoadingMoreData)return" ";var e="";switch(this.state.selectionGroup){case"featured":e="featured datasets";break;case"unfeatured":e="unfeatured datasets";break;case"my":e="datasets created";break;case"upvoted":e="upvoted datasets";break;case"all":e="datasets"}return(this.state.totalDatasetListItems||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" "+e},t.prototype.getAvailableSortingOrders=function(){var e=[{value:"hottest",label:"Hotness"},{value:"votes",label:"Most Votes"},{value:"updated",label:"Recently Updated"},{value:"active",label:"Recently Active"}];return this.state.search&&e.push({value:"relevance",label:"Relevance"}),e},t.prototype.renderSortBy=function(){var e=this;return React.createElement("div",{className:""},this.state.shouldUseMobileSort?React.createElement("a",{className:"datasets__filters-link--mobile",onClick:function(){return e.showMobileSortMenu(!0)}},"Filter/Sort ",React.createElement("span",{className:"fa fa-chevron-right"})):React.createElement("div",{className:"datasets__filters"},React.createElement("p",{className:"datasets__filters-label"},"Sort By"),React.createElement(s.SelectBox,{options:this.getAvailableSortingOrders(),onChange:function(t){return e.onSortByChanged(t)},searchable:!1,value:this.state.sortBy})))},t.prototype.renderOptionalLoadingMessage=function(){return this.state.isLoadingMoreData?React.createElement("div",{className:"script-list-react__message"},"Loading ",this.state.hasLoadedSomeData?"more ":"","datasets..."):null},t.prototype.renderOptionalNoMoreScriptsMessage=function(){return!this.state.hasMoreData&&(0===this.state.datasetListItems.length||this.state.datasetListItems.length>m)?React.createElement("div",{className:"script-list-react__message"},React.createElement("span",null,"No ",this.state.hasLoadedSomeData?"more ":"","datasets to show ¯\\_(ツ) _/¯"),React.createElement("br",null)):null},t.prototype.renderSearch=function(e){return React.createElement("label",{className:"datasets__search-wrapper datasets__search-wrapper--"+e,style:{display:"upvoted"==this.state.selectionGroup?"none":""}},React.createElement("input",{type:"text",className:"datasets__search datasets__search--"+e,ref:"search",defaultValue:this.props.search,onChange:this.onSearchChange}))},t.prototype.renderSubTitleBar=function(){return React.createElement(o.SelectionGroup,{children:this.getSelectionGroupItems(),selected:this.state.selectionGroup,filters:React.createElement(p.MediaQuery,{minWidth:p.Breakpoints.mobileMax+1},this.renderSearch("sub-title-bar"))})},t.prototype.showMobileSortMenu=function(e){this.setState({shouldShowMobileSort:e})},t.prototype.renderMobileSortMenu=function(){var e=this;return React.createElement(u.OffCanvasContainer,{closeButtonCallback:function(){return e.showMobileSortMenu(!1)},shouldShowOffCanvas:this.state.shouldShowMobileSort&&this.state.shouldUseMobileSort,shouldUseCloseButton:!0,shouldUseRightSide:!0},React.createElement("div",{className:"datasets__filters--mobile"},React.createElement("p",{className:"datasets__filters-label--mobile"},"Sort By"),React.createElement(s.SelectBox,{className:"datasets__filter--mobile",options:this.getAvailableSortingOrders(),onChange:function(t){e.onSortByChanged(t),e.showMobileSortMenu(!1)},searchable:!1,value:this.state.sortBy})),this.renderSearch("off-canvas"))},t.prototype.handleNewDatasetClick=function(){goog_report_conversion()},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"datasets",ref:function(t){return e.container=t}},this.props.banner?React.createElement(r.Banner,{title:"Datasets",infoTitle:"Welcome to Kaggle Datasets",infoSubtitle:"The best place to discover and seamlessly analyze open data",infoBanner:this.props.banner,bannerImageClassName:"datasets__banner-image",callToActionText:"Learn More",callToActionUrl:"/datasets/about",onCallToActionClick:null,callToActionText2:"New Dataset",callToActionUrl2:"/datasets/new",onCallToActionClick2:this.handleNewDatasetClick,hideCallToActionOnSmallDisplays:!0,panels:[{imageSrc:"/static/images/datasets-1-search@2x.png",title:"Discover",description:"Use the search box to find open datasets on everything from government, health, and science to popular games and dating trends."},{imageSrc:"/static/images/datasets-2-explore@2x.png",title:"Explore",description:React.createElement("span",null,"Execute, share, and comment on code for any open dataset with our in-browser analytics tool, ",React.createElement("a",{href:"/kernels"},"Kaggle Kernels"),". You can also download datasets in an easy-to-read format.")},{imageSrc:"/static/images/datasets-3-create@2x.png",title:"Create a Dataset",description:React.createElement("span",null,"Contribute to the open data movement and connect with other data enthusiasts by clicking “",React.createElement("a",{href:"/datasets/new"},"New Dataset"),"” to publish an open dataset of your own.")}]}):null,React.createElement("div",{className:"datasets__list-wrapper"},React.createElement("div",{className:"datasets__list"},React.createElement(i.ContentBox,{title:this.getTitle(),titleBarRightSide:this.renderSortBy(),subTitleBar:this.renderSubTitleBar()},React.createElement(l.WindowInfiniteScroll,{onScroll:function(){return e.onScroll()}},this.state.datasetListItems.map(function(t,n){return React.createElement(d.DatasetListItem,{key:n,dataset:t,hideIsFeaturedLabel:"featured"==e.state.selectionGroup,onClick:function(){return e.handleClickResult(t.datasetId,t.datasetUrl,n+1)}})}),this.renderOptionalLoadingMessage(),this.renderOptionalNoMoreScriptsMessage())))," ")," ",this.renderMobileSortMenu())},t}(React.Component);t.DatasetListReact=h},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(23),i=n(220),s=n(35),o=n(111),l=n(7),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this.props.dataset.voteButton;return React.createElement("div",{key:this.props.index,className:"dataset-list-item"},React.createElement("a",{className:"dataset-list-item__link",href:this.props.dataset.datasetUrl,onClick:this.props.onClick}),React.createElement("div",{className:"dataset-list-item__images"},React.createElement("div",{className:"dataset-list-item__votes"},React.createElement(r.VoteButton,{totalVotes:e.totalVotes,hasAlreadyVotedDown:e.hasAlreadyVotedDown,hasAlreadyVotedUp:e.hasAlreadyVotedUp,canDownvote:e.canDownvote,canUpvote:e.canUpvote,voteDownUrl:e.voteDownUrl,voteUpUrl:e.voteUpUrl})),React.createElement("div",{className:"dataset-list-item__image-wrapper"},React.createElement("img",{alt:this.props.dataset.title,className:"dataset-list-item__image",src:this.props.dataset.thumbnailImageUrl}),this.props.hideOwnerAvatar?null:React.createElement("a",{className:"dataset-list-item__image--author-link",href:this.props.dataset.ownerUrl},React.createElement("img",{alt:this.props.dataset.ownerName,className:"dataset-list-item__image--author",src:this.props.dataset.ownerAvatarUrl})))),React.createElement("div",{className:"dataset-list-item__info"},React.createElement("a",{className:"dataset-list-item__name",href:this.props.dataset.datasetUrl},React.createElement(i.GroupIcon,{groupSize:this.props.dataset.privateGroupMemberCount}),this.props.dataset.title,this.props.dataset.isHidden&&!this.props.dataset.isFailed?React.createElement(s.Badge,{text:"Hidden",option:"info"}):null,this.props.dataset.isFailed?React.createElement(s.Badge,{text:"Failed",option:"danger"}):null,this.props.dataset.isFeatured&&!this.props.hideIsFeaturedLabel?React.createElement(s.Badge,{text:"Featured",option:"info"}):null),React.createElement("p",{className:"dataset-list-item__summary"},this.props.dataset.overview),React.createElement("p",{className:"dataset-list-item__details"},React.createElement("a",{href:this.props.dataset.ownerUrl,className:"dataset-list-item__details--author"},this.props.dataset.ownerName),"  · updated ",React.createElement(l.TimeAgo,{time:this.props.dataset.dateUpdated}))),React.createElement("div",{className:"dataset-list-item__metadata"},React.createElement("p",{className:"dataset-list-item__metadatum"},React.createElement("span",{className:"dataset-list-item__metadatum--nonlink"},React.createElement(o.Pluralize,{count:this.props.dataset.downloadCount,word:"download",formatNumber:!0}))),React.createElement("p",{className:"dataset-list-item__metadatum"},React.createElement("a",{className:"dataset-list-item__metadatum--link",href:this.props.dataset.scriptsUrl},React.createElement(o.Pluralize,{count:this.props.dataset.scriptCount,word:"kernel",formatNumber:!0}))),React.createElement("p",{className:"dataset-list-item__metadatum"},React.createElement("a",{className:"dataset-list-item__metadatum--link",href:this.props.dataset.forumUrl},React.createElement(o.Pluralize,{count:this.props.dataset.topicCount,word:"comment",formatNumber:!0})))))},t}(React.Component);t.DatasetListItem=c},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(40),s=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.render=function(){for(var e=[],t=3,n=0;n<this.props.forums.length;n+=t)e.push(this.props.forums.slice(n,n+t));var a=0;return React.createElement("div",null,React.createElement(i.Banner,{title:"Discussion",bannerImageClassName:"discussion__banner-image"}),React.createElement("div",{className:"discussion"},React.createElement("div",{className:"discussion__forums"},React.createElement("div",{className:"discussion__forums-header"},"Site Forums"),e.map(function(e){return React.createElement("div",{className:"discussion__forums-row",key:a++},e.map(function(e){return React.createElement(i.BlockLink,{borderless:!0,className:"discussion__forum",href:e.url,key:e.name},React.createElement("img",{className:"discussion__forum-image",src:e.imageUrl}),React.createElement("div",{className:"discussion__forum-title"},React.createElement("span",null,e.name," ",e.isPrivate?React.createElement("span",{className:"fa fa-lock"}):null),React.createElement("span",{className:"discussion__forum-subtitle"},e.subtitle),e.lastPostDate?React.createElement("a",{className:"discussion__forum-last-post",href:e.lastPostUrl},"last post ",React.createElement(i.TimeAgo,{time:e.lastPostDate})):null))}))})),React.createElement(i.Forum,r({},this.props,{isRootLevel:!0,isSitewide:!0,onTopicClicked:function(e){return window.location.href=e.topicUrl}}))))},t}(React.Component);t.Discussion=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(238),i=n(239),s=n(242),o=n(243),l=n(244),c=n(164),p=n(5),u=n(6),d=n(205),m=n(247),h=(n(241)(),n(248).saveAs),f=50,g=function(e){function t(t){var n=e.call(this,t)||this;n.handleAutoSave=function(){n.setState({canSave:!1,lastSavedTime:new Date,wasAutoSaved:!0})},n.handleChangeEvents=function(e){e&&e.length>0&&"load_notebook"===e[0]._type?n.loadAutosaved(n.props.scriptRunId||n.props.sourceScriptRunId):n.setState({editHistory:n.state.editHistory.concat(e)})},n.loadAutosaved=function(e){e&&$.ajax("/redis/autosave/"+e).then(function(e){return n.setState({startingStateIpynb:e})})},n.handleScriptResultMessage=function(e){n.setState({scriptResultMessage:e})},n.handleRedisConnectionError=function(e,t,a){n.redisMessageTimeout&&window.clearTimeout(n.redisMessageTimeout);var r=e;("warning"===t||a&&a>20)&&(r=e+" You can save your work by downloading it to an ipynb file..."),n.setState({redisConnectionMessage:r,redisConnectionMessageType:t}),n.redisMessageTimeout=window.setTimeout(function(){n.setState({redisConnectionMessage:""})},3e3)},n.handleRedisConnectionOk=function(){""!==n.state.redisConnectionMessage&&"success"!==n.state.redisConnectionMessageType&&(n.redisMessageTimeout&&window.clearTimeout(n.redisMessageTimeout),n.setState({redisConnectionMessage:"Reconnected to the server 👍",redisConnectionMessageType:"success"}),n.redisMessageTimeout=window.setTimeout(function(){n.setState({redisConnectionMessage:""})},3e3))},n.kernelLanguageIdToName=function(e){var t=n.props.scriptLanguageTemplates.filter(function(t){return t.languageId==e});return t&&t.length>0?t[0].baseScriptLanguageName:(console.warn("Unknown kernel language id: "+e.toString()),"")},n.kernelLanguageName=function(){return n.state?n.kernelLanguageIdToName(n.state.kernelLanguageId):n.kernelLanguageIdToName(n.props.scriptLanguageId)},n.handleKernelStatusChange=function(e){n.setState({kernelStatus:e})},n.handleChangeCellType=function(e,t){var a=r.UpdateCellEditEvent(e,n.getCellContents(e),t,null);n.setState({editHistory:n.state.editHistory.concat(a)}),n.kernel.sendEditEvent(a,n.serializeCellsToIpynbWithNoOutputs)},n.handleChangeCollapsed=function(e,t){var a=r.UpdateCellEditEvent(e,n.getCellContents(e),null,t);n.setState({editHistory:n.state.editHistory.concat(a)}),n.kernel.sendEditEvent(a,n.serializeCellsToIpynbWithNoOutputs)},n.handleCellExecuteRequest=function(e){n.state.isEditingTitle&&""!==n.state.title&&n.handleTitleEditingStateChanged();var t,a=n.state.editHistory;n.pendingEditEvent&&n.pendingEditEvent._cell_guid===e?(t=n.pendingEditEvent.source,
a=a.concat(n.pendingEditEvent),n.pendingEditEvent=null):t=n.getCellContents(e),n.setState({editHistory:a.concat(r.CellExecutionRequest(e))}),n.kernel.executeCell(e,t,n.serializeCellsToIpynbWithNoOutputs),n.hasExecutedCodeCell=!0},n.handlePlayAll=function(){var e=n.serializeCellsToIpynb().cells,t=e.filter(function(e){return"code"===e.cell_type}).map(function(e){return e.metadata._cell_guid});n.state.isEditingTitle&&""!==n.state.title&&n.handleTitleEditingStateChanged(),n.pushNewCellContents().then(function(){n.setState({editHistory:n.state.editHistory.concat(t.map(function(e){return r.CellExecutionRequest(e)}))})}),n.kernel.executeCells(e,n.serializeCellsToIpynbWithNoOutputs),n.hasExecutedCodeCell=!0},n.handleCellCancelRequest=function(e){n.kernel.requestKernelInterrupt()},n.handleCellCancelled=function(){n.state.busyCellUuid&&n.setState({editHistory:n.state.editHistory.concat(r.MakeCellIdleEditEvent(n.state.busyCellUuid))})},n.handleUpdateTitle=function(e){u.Current.log("Received new title from server: "+e),n.setState({title:e})},n.handleUpdateUrl=function(e){history.replaceState&&history.replaceState({},"",e)},n.handleRedirectToRenderedNotebook=function(){window.location.href+="/../"},n.handleUpdateTitleErrorMessage=function(e){u.Current.log("Received title error: "+e),n.setState({titleErrorText:e})},n.autosave=function(){if(n.kernel&&n.kernel.scriptRunId){var e=JSON.parse(JSON.stringify(n.serializeCellsToIpynb()));e.cells.forEach(function(e){return e.outputs=[]});var t=JSON.stringify(e,null,2);if(n.previousIpynbContent!==t){var a=!e.cells||0===e.cells.length;if(a)return;$.ajax({url:"/redis/autosave/"+n.kernel.scriptRunId,type:"POST",data:JSON.stringify({ipynbContent:t}),processData:!1,contentType:"application/json"}),n.previousIpynbContent=t}}},n.handlePageChange=function(e){if(n.state.hasUnpublishedChanges){var t="Your notebook has unpublished changes. Are you sure you want to leave this page?";return e.returnValue=t,t}return null},n.handleTitleEditingStateChanged=function(){n.state.isEditingTitle?(n.setState({isEditingTitle:!1}),n.kernel.requestNewTitle(n.state.title)):n.setState({isEditingTitle:!0})},n.handleTitleEditorLoseFocus=function(){""!==n.state.title&&n.handleTitleEditingStateChanged()},n.handleLanguageChanged=function(e){var t=+e;if(isNaN(t))return void u.Current.warn("Invalid new language id: "+e);if(t===n.state.kernelLanguageId)return void u.Current.log("No language change needed.");var a=n.serializeCellsToIpynbWithNoOutputs(),r=n.switchLanguageTemplateIfPresent(a,t),i=JSON.stringify(r);n.kernel.changeLanguage(t,i),n.setState({kernelLanguageId:t,startingStateIpynb:i,editHistory:[],kernelInfoText:"",scriptResultMessage:""})},n.handlePrivacyChanged=function(){n.setState({isShowingPrivacyModal:!0})},n.handleChangeToPublic=function(){n.setState({isPrivate:!1})},n.handleRestartKernel=function(){var e=n.serializeCellsToIpynbWithNoOutputs(),t=JSON.stringify(e);n.kernel.changeLanguage(n.state.kernelLanguageId,t),n.setState({startingStateIpynb:t,editHistory:[],kernelInfoText:"",scriptResultMessage:""})},n.handleTitleChanged=function(e){n.setState({title:e,titleErrorText:""})},n.handleTitleEditorGainFocus=function(){n.setState({titleEditorHasFocus:!0})},n.handleRenderHtml=function(){var e=!0;n.kernel.requestRenderingHtml(!e,n.pendingEditEvent),n.setState({scriptResultMessage:"",hasUnpublishedChanges:!1,editHistory:n.state.editHistory.concat(n.pendingEditEvent)})},n.handleRenderRequestError=function(e){n.setState({titleErrorText:e})},n.handleUploadIpynb=function(e){n.deleteAllCellsOnServer();var t=e.target.files[0],a=new FileReader;a.onload=function(e){var t=n.parseIpynbFile(e.target.result);n.sendNewCellsToServer(t)},a.readAsText(t)},n.handleDownloadIpynb=function(){var e=n.serializeCellsToIpynb();e.cells=e.cells.map(function(e){return{cell_type:e.cell_type,source:e.source,execution_count:e.execution_count,outputs:e.outputs,metadata:{}}});var t=new Blob([JSON.stringify(e,null,2)],{type:"text/plain;charset=utf-8"});h(t,"notebook.ipynb",!0)},n.handleKernelSpecChange=function(e,t){n.setState({kernelMetadata:{kernelspec:e,language_info:t},kernelInfoText:t.version})},n.updateActiveCellProperties=function(e,t,a){n.setState({activeCellUuid:e,activeCellIsCollapsed:t,activeCellType:a})},n.updateBusyCellProperties=function(e){n.setState({busyCellUuid:e})},n.updateCellCount=function(e){n.setState({nTotalCells:e})},n.handleInsertActivatedCellBefore=function(e){n.handleInsertActivatedCell(null,e)},n.handleInsertActivatedCellAfter=function(e){void 0===e&&(e=null),n.handleInsertActivatedCell(e,null)},n.handleInsertActivatedCell=function(e,t){var a=r.InsertCellEditEvent(r.strictlyFormattedUuid(),e,!1,r.NotebookCellType.Code,"",t),i=r.ActivateCellEditEvent(a._cell_guid);n.setState({editHistory:n.state.editHistory.concat([a,i])}),n.kernel.sendEditEvents([a,i],n.serializeCellsToIpynbWithNoOutputs)},n.insertMarkdownCellAtStart=function(){var e=r.InsertCellEditEvent(r.strictlyFormattedUuid(),null,!1,r.NotebookCellType.Markdown,"",n.state.firstCellUuid),t=r.ActivateCellEditEvent(e._cell_guid);n.setState({editHistory:n.state.editHistory.concat([e,t])}),n.kernel.sendEditEvents([e,t],n.serializeCellsToIpynbWithNoOutputs)},n.handleDeleteCell=function(e){confirm("Delete cell?")&&n.registerEditEvent(r.DeleteCellEditEvent(e))},n.handleNewCellContents=function(e,t,a){n.pendingEditEvent&&n.pendingEditEvent._cell_guid===e?n.pendingEditEvent.source=t||"":n.pendingEditEvent?(n.pushNewCellContents(),n.pendingEditEvent=r.UpdateCellEditEvent(e,t,a,!1)):n.pendingEditEvent=r.UpdateCellEditEvent(e,t,a,!1),n.setState({canSave:!0,hasUnpublishedChanges:!0})},n.pushNewCellContents=function(){var e=jQuery.Deferred();return n.pendingEditEvent?(n.setState({editHistory:n.state.editHistory.concat(n.pendingEditEvent),canSave:!1,lastSavedTime:new Date},function(){return e.resolve()}),n.kernel.sendEditEvent(n.pendingEditEvent,n.serializeCellsToIpynbWithNoOutputs),n.pendingEditEvent=null):e.resolve(),e},n.handleActivateCell=function(e){n.pushNewCellContents().then(function(){n.setState({editHistory:n.state.editHistory.concat(r.ActivateCellEditEvent(e))})})},n.handleDeactivateCell=function(e){n.pushNewCellContents().then(function(){n.setState({editHistory:n.state.editHistory.concat(r.DeactivateCellEditEvent(e))})})},n.handleDocumentClick=function(e){var t=["notebook-editor","notebook-editor__notebook-contents","notebook-editor__cells-container","content-box__content-section"];t.indexOf(e.target.className)!==-1&&n.deactivateActiveCell()},n.deactivateActiveCell=function(){n.state.activeCellUuid&&n.handleDeactivateCell(n.state.activeCellUuid)},n.updateInputFileMetadata=function(e,t,a){if(n.props.updateInputMetadataUrl){var r={fileName:e,columns:[{fileName:e,columnIndex:t,description:a.description,dataType:a.harmonizedDataType}]};$.ajax({url:n.props.updateInputMetadataUrl,type:"PATCH",processData:!1,contentType:"application/json",dataType:"text",data:JSON.stringify(r),success:function(e){e&&d.PageMessages.error("Your description could not be saved: "+e,{clear:!0})},error:function(){d.PageMessages.error("Sorry, there was a problem saving your update.",{clear:!0})}})}},n.onDataSourcesChanged=function(e,t){n.setState({dataSources:t},function(){n.handleRestartKernel()})};var a=!n.props.scriptId||n.props.scriptId<=0,o=n.props.scriptRunId&&n.props.scriptRunId>0;n.state={kernelLanguageId:n.props.scriptLanguageId,kernelStatus:r.KernelStatus.Initializing,startingStateIpynb:"",editHistory:a||n.props.loadNotebookPending?n.getInitialEdits():[],title:n.props.existingTitle||"",isEditingTitle:!(n.props.existingTitle&&!n.props.forkParentScriptVersionId),titleErrorText:"",canUndo:!1,canRedo:!1,kernelMetadata:{kernelspec:{name:"python"},language_info:{name:"python",version:"3.5.1"}},kernelInfoText:"",canSave:!1,hasUnpublishedChanges:!1,lastSavedTime:null,wasAutoSaved:!1,titleEditorHasFocus:!1,activeCellUuid:null,activeCellIsCollapsed:null,activeCellType:null,busyCellUuid:null,hasCodeCell:!0,hasNonEmptyCell:!0,nTotalCells:0,redisConnectionMessage:"",redisConnectionMessageType:"success",scriptResultMessage:"",downloadDataMessage:null,isInKeyboardShortcutCommandMode:!1,firstCellIsMarkdown:!1,firstCellUuid:null,isPrivate:n.props.isPrivate,scriptId:n.props.scriptId||null,dataSources:n.props.dataSources};var l={initialScriptId:n.props.scriptId,initialTitle:n.props.existingTitle&&""!==n.props.existingTitle?n.props.existingTitle:null,initialScriptRunId:n.props.scriptRunId,initialLanguageId:n.props.scriptLanguageId,scriptProjectId:n.props.scriptProjectId,readOnly:n.props.readOnly,onKernelStatusChange:function(e){n.setState({kernelStatus:e})},onUpdateTitle:n.handleUpdateTitle,onUpdateUrl:n.handleUpdateUrl,onUpdateScriptId:function(e){n.setState({scriptId:e})},onUpdateTitleErrorMessage:n.handleUpdateTitleErrorMessage,onKernelSpecChange:n.handleKernelSpecChange,initialEditEvents:n.state.editHistory,onSave:n.handleAutoSave,onRedirectToRenderedNotebook:n.handleRedirectToRenderedNotebook,receiveChanges:n.handleChangeEvents,onConnectionOk:n.handleRedisConnectionOk,onConnectionProblem:n.handleRedisConnectionError,onDataDownloadUpdate:function(e){return n.setState({downloadDataMessage:e})},onExecutionCancelRequestSent:n.handleCellCancelled,onKernelResultMessage:n.handleScriptResultMessage,isDataset:n.props.isDataset};n.kernel=new i.NotebookKernelDispatcher(l),o?(n.loadAutosaved(n.kernel.scriptRunId),n.connectToExistingScriptRun()):n.kernel.startKernel(n.props.forkParentScriptVersionId,n.props.sourceScriptRunId).then(function(){return n.loadAutosaved(n.kernel.scriptRunId)}),window.setInterval(n.pushNewCellContents,6e4);var c={onChangedToEditMode:function(){n.setState({isInKeyboardShortcutCommandMode:!1})},onChangedToCommandMode:function(){n.setState({isInKeyboardShortcutCommandMode:!0})},onInsertCellAbove:function(){n.state.activeCellUuid&&n.handleInsertActivatedCellBefore(n.state.activeCellUuid)},onInsertCellBelow:function(){n.state.activeCellUuid&&n.handleInsertActivatedCellAfter(n.state.activeCellUuid)},onSave:function(){},onCancelExecution:function(){return n.handleCellCancelRequest(n.state.activeCellUuid)},onMakeCodeCell:function(){return n.handleChangeCellType(n.state.activeCellUuid,r.NotebookCellType.Code)},onMakeMarkdownCell:function(){return n.handleChangeCellType(n.state.activeCellUuid,r.NotebookCellType.Markdown)},onDeleteCell:function(){return n.handleDeleteCell(n.state.activeCellUuid)}};return n.shortcuts=new s.NotebookKeyboardShortcutter(c),document.addEventListener("keydown",n.shortcuts.handleKeyDown,!0),n.props.url&&""!==n.props.url&&n.handleUpdateUrl(n.props.url),n}return a(t,e),t.prototype.getInitialEdits=function(){if(this.props.loadNotebookPending)return[];var e=r.InsertCellEditEvent(r.strictlyFormattedUuid(),null);return this.props.templateText&&""!==this.props.templateText&&(e.source=this.props.templateText),[e]},t.prototype.connectToExistingScriptRun=function(){this.kernel.subscribeToRedisKeys(0)},t.prototype.stopCellExecution=function(e){this.kernel.cancelCellExecution()},t.prototype.componentDidMount=function(){this.kernel.containerDidMount(),document.addEventListener("click",this.handleDocumentClick,!1),window.addEventListener("beforeunload",this.handlePageChange),this.autosaveIntervalHandle=window.setInterval(this.autosave.bind(this),5e3)},t.prototype.componentWillUnmount=function(){this.kernel.containerWillUnmount(),document.removeEventListener("keydown",this.shortcuts.handleKeyDown,!0),document.removeEventListener("click",this.handleDocumentClick,!1),window.removeEventListener("beforeunload",this.handlePageChange),clearInterval(this.autosaveIntervalHandle)},t.prototype.componentDidUpdate=function(){this.state.editHistory.length>f&&this.setState({startingStateIpynb:JSON.stringify(this.serializeCellsToIpynb()),editHistory:[]})},t.prototype.switchLanguageTemplateIfPresent=function(e,t){var n=this.props.scriptLanguageTemplates.map(function(e){return e.languageId}).indexOf(this.state.kernelLanguageId),a=this.props.scriptLanguageTemplates.map(function(e){return e.languageId}).indexOf(t),r=this.props.scriptLanguageTemplates[n].template,i=e.cells.map(function(e){return e.source}).indexOf(r);return i===-1?(u.Current.log("No language template found."),e):(u.Current.log("Swapping language template."),e.cells[i].source=this.props.scriptLanguageTemplates[a].template,e)},t.prototype.parseIpynbFile=function(e){var t=JSON.parse(e);return t.cells.forEach(function(e){e.metadata.hasOwnProperty("_cell_guid")||(e.metadata._cell_guid=r.strictlyFormattedUuid()),e.metadata.hasOwnProperty("_active")||(e.metadata._active=!1)}),this.setState({startingStateIpynb:JSON.stringify(t),editHistory:[]}),t.cells},t.prototype.deleteAllCellsOnServer=function(){var e=this.serializeCellsToIpynb().cells;this.kernel.sendEditEvents(e.map(function(e){return r.DeleteCellEditEvent(e.metadata._cell_guid)}),this.serializeCellsToIpynbWithNoOutputs)},t.prototype.sendNewCellsToServer=function(e){this.kernel.sendEditEvents(e.map(function(t,n){return r.InsertCellEditEvent(t.metadata._cell_guid,n>0?e[n-1].metadata._cell_guid:null,t.metadata.collapsed,"code"===t.cell_type?r.NotebookCellType.Code:r.NotebookCellType.Markdown,t.source)}),this.serializeCellsToIpynbWithNoOutputs)},t.prototype.updateCellProperties=function(e,t){this.setState({hasCodeCell:e,hasNonEmptyCell:t})},t.prototype.registerEditEvent=function(e){this.pendingEditEvent?(this.setState({editHistory:this.state.editHistory.concat([this.pendingEditEvent,e])}),this.kernel.sendEditEvents([this.pendingEditEvent,e],this.serializeCellsToIpynbWithNoOutputs),this.pendingEditEvent=null):(this.setState({editHistory:this.state.editHistory.concat(e)}),this.kernel.sendEditEvent(e,this.serializeCellsToIpynbWithNoOutputs))},t.prototype.renderHeader=function(){var e=this,t=this.state.kernelStatus===r.KernelStatus.RenderingHtml,n=this.props.readOnly||t,a=null;""!==this.state.titleErrorText&&(a=(a||[]).concat({type:"error",message:this.state.titleErrorText})),""!==this.state.redisConnectionMessage&&(a=(a||[]).concat({type:this.state.redisConnectionMessageType,message:this.state.redisConnectionMessage})),""!==this.state.scriptResultMessage&&(a=(a||[]).concat({type:"error",message:this.state.scriptResultMessage}));var i=this.props.scriptLanguageTemplates.map(function(e){return{label:e.baseScriptLanguageName,value:e.languageId.toString()}});n&&(i=i.filter(function(t){return t.value===e.state.kernelLanguageId.toString()}));var s=""===this.state.title,l=this.state.titleErrorText&&""!==this.state.titleErrorText,c=!(s||l||n||this.state.isEditingTitle||this.state.kernelStatus!==r.KernelStatus.Running),p="Render the notebook as a new HTML page";s?p="You must enter a title before saving a complete run.":this.state.isEditingTitle&&(p="You must finish editing the title before saving a complete run.");var u=function(){return e.handleInsertActivatedCellAfter(e.state.activeCellUuid)},d=this.state.kernelStatus!==r.KernelStatus.RestartingKernel;return React.createElement(o.NotebookHeader,{readOnly:n,activeCellUuid:this.state.activeCellUuid,activeCellIsCollapsed:this.state.activeCellIsCollapsed,activeCellType:this.state.activeCellType,availableLanguageChoices:i,busyCellUuid:this.state.busyCellUuid,canDownloadIpynb:this.state.hasNonEmptyCell,canExecuteActiveCell:this.state.activeCellType===r.NotebookCellType.Code&&this.state.kernelStatus===r.KernelStatus.Running,canExecuteAll:this.state.hasCodeCell&&this.state.kernelStatus===r.KernelStatus.Running,canRenderHtml:c,canRestartKernel:d,isEditingTitle:this.state.isEditingTitle,kernelInfoLine:this.state.kernelInfoText,kernelLanguageDropdownValue:this.state.kernelLanguageId.toString(),kernelLanguageName:this.kernelLanguageName(),kernelStatus:this.state.kernelStatus,canSave:this.state.canSave,lastSavedTime:this.state.lastSavedTime,wasAutoSaved:this.state.wasAutoSaved,nTotalCells:this.state.nTotalCells,onAddCell:u,onCancel:this.handleCellCancelRequest,onChangeCellType:this.handleChangeCellType,onDelete:this.handleDeleteCell,onDownloadIpynb:this.handleDownloadIpynb,onExecute:this.handleCellExecuteRequest,onExecuteAll:this.handlePlayAll,onLanguageChanged:this.handleLanguageChanged,onPrivacyChanged:this.handlePrivacyChanged,onRenderHtml:this.handleRenderHtml,onRenderHtmlRequestError:this.handleRenderRequestError,onRestartKernel:this.handleRestartKernel,onTitleChanged:this.handleTitleChanged,onTitleEditingStateChanged:this.handleTitleEditingStateChanged,onTitleEditorGainFocus:this.handleTitleEditorGainFocus,onTitleEditorLoseFocus:this.handleTitleEditorLoseFocus,onChangeCollapsed:this.handleChangeCollapsed,onUploadIpynb:this.handleUploadIpynb,pageMessages:a,renderHtmlToolTipText:p,title:this.state.title,isPrivate:this.state.isPrivate,scriptId:this.state.scriptId,onChangeToPublic:this.handleChangeToPublic,imageUrl:this.props.imageUrl})},t.prototype.render=function(){var e=this,t=this.props.readOnly||this.state.kernelStatus===r.KernelStatus.RenderingHtml,n=null;t||this.state.firstCellIsMarkdown||(n=React.createElement("div",{className:"notebook-editor__add-description-prompt",onClick:this.insertMarkdownCellAtStart},React.createElement("div",{className:"notebook-editor__add-description-prompt-inner"},"Click here to add an introduction.")));var a=this.state.kernelStatus===r.KernelStatus.Running,i=null;return this.props.hasMultipleDataSourcesEnabled&&this.state.dataSources&&0===this.state.dataSources.length?i=React.createElement(p.ContentBox,null,React.createElement(m.AddDataSourceBanner,{scriptVersionId:this.props.scriptRunId,onDataSourceAdded:this.onDataSourcesChanged})):(this.props.inputFiles&&this.props.inputFiles.length>0||this.props.dataSources&&this.props.dataSources.length>0)&&(i=React.createElement(p.CollapsibleContentBox,{title:"Input Files",initiallyCollapsed:!0},React.createElement(c.FilePreviewList,{files:this.props.inputFiles,dataSources:this.state.dataSources,userCanEditMetadata:!u.Current.isAnonymous&&this.props.isDataset,onMetadataChange:this.props.updateInputMetadataUrl?this.updateInputFileMetadata:null,onDataSourceAdded:this.handleRestartKernel,onDataSourceRemoved:this.handleRestartKernel,scriptVersionId:this.kernel.scriptRunId,hasMultipleDataSourcesEnabled:this.props.hasMultipleDataSourcesEnabled}))),React.createElement("div",{className:"notebook-editor"},this.renderHeader(),React.createElement("div",{className:"notebook-editor__notebook-contents"},this.state.downloadDataMessage&&""!==this.state.downloadDataMessage?React.createElement(v,{message:this.state.downloadDataMessage}):null,i,React.createElement(p.ContentBox,{title:"Notebook"},n,React.createElement(l.NotebookCellsContainer,{startingStateIpynb:this.state.startingStateIpynb,editHistory:this.state.editHistory,kernelMetadata:this.state.kernelMetadata,kernelLanguageName:this.kernelLanguageName(),isReadOnly:t,isInCommandMode:this.state.isInKeyboardShortcutCommandMode,canExecute:a,registerGetIpynb:function(t){e.serializeCellsToIpynb=t},registerGetIpynbWithNoOutputs:function(t){e.serializeCellsToIpynbWithNoOutputs=t},registerGetCellContents:function(t){e.getCellContents=t},onUpdateNumberOfCells:this.updateCellCount,onChangeActiveCell:this.updateActiveCellProperties,onChangeBusyCell:this.updateBusyCellProperties,onAppendActivatedCell:function(){return e.handleInsertActivatedCellAfter(null)},onNewCellContents:this.handleNewCellContents,onChangeCellType:this.handleChangeCellType,onChangeCollapsed:this.handleChangeCollapsed,onAutocomplete:this.state.kernelStatus===r.KernelStatus.Running?this.kernel.requestAutocomplete:function(){},onExecuteCell:this.state.kernelStatus===r.KernelStatus.Running?this.handleCellExecuteRequest:function(){},onActivateCell:this.handleActivateCell,onDeactivateCell:this.handleDeactivateCell,onDeleteCell:this.handleDeleteCell,onAddAbove:this.handleInsertActivatedCellBefore,onAddBelow:this.handleInsertActivatedCellAfter,onUpdateFirstCellIsMarkdown:function(t){e.setState({firstCellIsMarkdown:t})},onUpdateFirstCellUuid:function(t){e.setState({firstCellUuid:t})}}),React.createElement("div",{className:"notebook-editor__new-block-prompt",onClick:function(){return e.handleInsertActivatedCell(null,null)}},React.createElement("span",{className:"fa fa-plus-square"}),"Add a new text or code cell here"),this.state.isPrivate?null:React.createElement("div",{className:"notebook-editor__license-publish-info"},"Code in this notebook will be released under the ",React.createElement("a",{href:"http://www.apache.org/licenses/LICENSE-2.0"}," Apache 2.0 ")," open source license when you click Publish, or after 20 minutes of idle time."))))},t}(React.Component);t.NotebookEditor=g;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.shouldComponentUpdate=function(e){return!e.message!=!this.props.message||e.message&&e.message!==this.props.message},t.prototype.render=function(){return React.createElement(p.ContentBox,{title:"Preparing Worker"},React.createElement("div",{className:"notebook-editor__download-data-message"},this.props.message))},t}(React.Component)},function(e,t,n){"use strict";function a(e,t){var n=C.keys(t),a=C.keys(e);return n.length===a.length&&!a.some(function(n){return!C.has(t,n)||"function"!=typeof t[n]&&"object"!=typeof t[n]&&e[n]&&t[n]!==e[n]||"function"==typeof t[n]&&e[n]&&t[n].toString()!==e[n].toString()})}function r(e,t){var n=Array(t+1).join("0");return(n+e).slice(-t)}function i(e){if(C.has(e,"_type")&&e._type===t.KernelInfoResponseType)return!1;if(!C.has(e,"_guid"))return!1;var n=e._guid.substr(e._guid.length-P-I.length-1,I.length);return I===n}function s(e){return!i(e)}function o(){var e=r((T++).toString(16),P);return x+"-"+I+"-"+e}function l(e,n,a,r,i,s){return void 0===a&&(a=!1),void 0===r&&(r=S.Code),void 0===i&&(i=""),void 0===s&&(s=null),{_type:t.InsertCellEditEventType,_guid:o(),_cell_guid:e,_below_cell_guid:n,_above_cell_guid:s,collapsed:a,cell_type:r===S.Code?"code":"markdown",source:i}}function c(e,n){return{_type:t.AppendCellEditEventType,_guid:o(),_cell_guid:e,source:n}}function p(e){return{_type:t.DeleteCellEditEventType,_guid:o(),_cell_guid:e}}function u(e){return{_type:t.ActivateCellEditEventType,_guid:o(),_cell_guid:e}}function d(e){return{_type:t.DeactivateCellEditEventType,_guid:o(),_cell_guid:e}}function m(e,n,a,r){var i={_type:t.UpdateCellEditEventType,_guid:o(),_cell_guid:e};return null!=a&&(i.cell_type=a===S.Code?"code":"markdown"),null!=n&&(n instanceof Array?i.source=n.join("\n"):i.source=n),null!=r&&(i.collapsed=r),i}function h(e){return{_type:t.UpdateCellEditEventType,_guid:o(),_cell_guid:e,execution_state:"idle"}}function f(e,t){return{_type:"complete_request",_guid:o(),code:e,cursor_pos:t}}function g(e){return{_type:"execute_cell",_guid:o(),_cell_guid:e}}function v(){return{_guid:o(),_type:"interrupt_kernel"}}function y(){return{_guid:o(),_type:"close_notebook",nbconvert:"full"}}function b(){return{_guid:o(),_type:"close_notebook",nbconvert:null}}function E(){return{_guid:o(),_type:"snapshot_notebook_request"}}function _(){return R(8)+"-"+R(4)+"-"+R(4)+"-"+R(4)+"-"+R(12)}function R(e){void 0===e&&(e=40);for(var t="",n=0;n<e;n++)t+=(16*Math.random()|0).toString(16);return t}var w=n(6),C=n(24);t.propsAreShallowEqual=a;var S;!function(e){e[e.Code=0]="Code",e[e.Markdown=1]="Markdown"}(S=t.NotebookCellType||(t.NotebookCellType={}));var N;!function(e){e[e.Idle=0]="Idle",e[e.Busy=1]="Busy"}(N=t.CellExecutionStatus||(t.CellExecutionStatus={}));var k;!function(e){e[e.Initializing=0]="Initializing",e[e.Requested=1]="Requested",e[e.Queued=2]="Queued",e[e.Starting=3]="Starting",e[e.Running=4]="Running",e[e.Error=5]="Error",e[e.Stopped=6]="Stopped",e[e.DownloadingData=7]="DownloadingData",e[e.LostHeartbeat=8]="LostHeartbeat",e[e.Reconnecting=9]="Reconnecting",e[e.RenderingHtml=10]="RenderingHtml",e[e.RestartingKernel=11]="RestartingKernel"}(k=t.KernelStatus||(t.KernelStatus={}));var T=0,I=R(4)+"-"+R(4)+"-"+R(4),P=12,x=r((w.Current.userId||0).toString(16),8);t.ThisClientSent=i,t.NotFromThisClient=s,t.messageUuid=o,t.LoadNotebookEditEventType="load_notebook",t.InsertCellEditEventType="insert_cell",t.InsertCellEditEvent=l,t.AppendCellEditEventType="append_cell",t.AppendCellEditEvent=c,t.DeleteCellEditEventType="delete_cell",t.DeleteCellEditEvent=p,t.ActivateCellEditEventType="activate_cell",t.ActivateCellEditEvent=u,t.DeactivateCellEditEventType="deactivate_cell",t.DeactivateCellEditEvent=d,t.UpdateCellEditEventType="update_cell",t.UpdateCellEditEvent=m,t.MakeCellIdleEditEvent=h,t.AutocompleteRequest=f,t.CellExecutionRequestType="execute_cell",t.CellExecutionRequest=g,t.KernelInfoResponseType="kernel_info",t.InterruptKernelType="interrupt_kernel",t.InterruptKernelRequest=v,t.CloseNotebookType="close_notebook",t.CloseNotebookRequest=y,t.CloseNotebookForLanguageChangeRequest=b,t.SerializeNotebookType="snapshot_notebook_request",t.SerializeNotebookRequest=E,t.strictlyFormattedUuid=_,t.uuid=R},function(e,t,n){"use strict";var a,r=n(238),i=n(240),s=n(6),o=n(24);!function(e){e[e.Ok=0]="Ok",e[e.NotFound=1]="NotFound",e[e.Stopped=2]="Stopped"}(a||(a={}));var l=function(){function e(e){var t=this;this.hasRecordedIntercomEvent=!1,this.handleAjaxError=function(e,t,n){alert(n)},this.handleRedisInterfaceStateChange=function(e){e===i.InterfaceState.PollingUntilReconnected?(t.props.onConnectionProblem("Relocating the Kaggle mothership...","warning",0),t.updateStatus(r.KernelStatus.Reconnecting)):e===i.InterfaceState.GivenUp?(t.props.onConnectionProblem("Critical connection problem. Time to download an ipynb copy and refresh the page. Sorry! :^(","error",0),t.updateStatus(r.KernelStatus.Error)):t.props.onConnectionOk()},this.updatePrivateStatus=function(e){t.kernelStatus=e},this.updateParentStatus=function(e){t.kernelStatus=e,t.props.onKernelStatusChange(e)},this.processKernelStartupResult=function(e){var n=JSON.parse(e);return n.ErrorMessage?void("Invalid script language"===n.ErrorMessage&&11===t.kernelLanguage?alert("Sorry, Julia notebooks are temporariliy unavailable."):alert(n.ErrorMessage)):(s.Current.log("Received ScriptId: "+n.ScriptId+" and ScriptRun id: "+n.ScriptRunId),t.scriptId=n.ScriptId,t.scriptRunId=n.ScriptRunId,t.updateStatus(r.KernelStatus.Queued),t.subscribeToRedisKeys(0),s.Current.log("Updating Url: '"+n.NewUrl+"'"),t.props.onUpdateUrl(n.NewUrl),void t.props.onUpdateScriptId(n.ScriptId))},this.processStatusResult=function(e){t.props.onConnectionOk();var n=e.map(function(e){return JSON.parse(e)});if(s.Current.log("Status: "),s.Current.log(n),t.kernelStatus===r.KernelStatus.RenderingHtml)return void(n.some(function(e){return"done"===e.complete||"done"===e.running})&&t.props.onRedirectToRenderedNotebook());var a=n[n.length-1];if("done"===a.assigned&&t.updateStatus(r.KernelStatus.Initializing),"Acquiring resources"in a){if(t.updateStatus(r.KernelStatus.DownloadingData),"object"==typeof a["Acquiring resources"]){var i=a["Acquiring resources"],o=!1;if("dataset"in i){var l="";for(var c in i.dataset)l+=c+": "+i.dataset[c]+"\n","done"!==i.dataset[c]&&(o=!0);o&&t.props.onDataDownloadUpdate(l.trim())}}}else t.props.onDataDownloadUpdate(null);"started"===a.running&&t.kernelStatus!==r.KernelStatus.Running&&t.updateStatus(r.KernelStatus.Starting),n.some(function(e){return"done"===e.complete||"done"===e.running})&&(window.clearTimeout(t.heartbeatWarningTimeout),t.updateStatus(r.KernelStatus.Stopped),t.unsubscribeFromRedisKeys(),t.kernelHasStarted=!1,t.props.onKernelResultMessage("The kernel was stopped, for exceeding the limits on idle time (20 minutes), storage (512 Mb) or memory (8Gb). You can use the restart button in the toolbar to try again..."),t.getKernelRunResults())},this.processWorkerHeartbeat=function(e){t.kernelStatus!==r.KernelStatus.RenderingHtml&&t.kernelStatus!==r.KernelStatus.Stopped&&(t.heartbeatWarningTimeout&&window.clearTimeout(t.heartbeatWarningTimeout),t.kernelStatus!==r.KernelStatus.LostHeartbeat&&t.kernelStatus!==r.KernelStatus.Reconnecting||t.updateStatus(r.KernelStatus.Running),t.heartbeatWarningTimeout=window.setTimeout(function(){t.kernelStatus===r.KernelStatus.Running&&t.updateStatus(r.KernelStatus.LostHeartbeat)},3e4))},this.processChangesResult=function(e){t.props.onConnectionOk();var n=e.map(function(e){return JSON.parse(e)});t.updateListOfCellsOnServer(n);var a=n.filter(r.NotFromThisClient),i=a.map(function(e){return e._type}).indexOf(r.KernelInfoResponseType);i!==-1&&(s.Current.log("Processing startup..."),t.processWorkerStartup(a[i]),a.splice(i,1)),s.Current.log("Sending changes to Editor at "+(new Date).getTime()),t.props.receiveChanges(a)},this.updateListOfCellsOnServer=function(e){e&&e.length&&0!=e.length&&e.forEach(t.updateListOfCellsOnServerAfterChange)},this.updateListOfCellsOnServerAfterChange=function(e){if(e._type){if(e._type==r.InsertCellEditEventType)t.cellUuidsServerKnowsAbout.push(e._cell_guid);else if(e._type===r.LoadNotebookEditEventType){var n=e.notebook.cells;(i=t.cellUuidsServerKnowsAbout).push.apply(i,n.map(function(e){return e.metadata._cell_guid}))}else if(e._type===r.DeleteCellEditEventType){var a=t.cellUuidsServerKnowsAbout.indexOf(e._cell_guid);a>-1&&t.cellUuidsServerKnowsAbout.splice(a,1)}var i}},this.requestAutocomplete=function(e,n,a){if(!t.props.readOnly){var s=r.AutocompleteRequest(e,n);i.redis.request(t.scriptRunId,JSON.stringify([s]),2,function(e){return t.handleAutocompleteResult(e,a)},function(){})}},this.handleAutocompleteResult=function(e,t){s.Current.log("Received autocomplete result: "+e);var n=JSON.parse(e);return"complete_reply"!==n._type?void console.warn("Incorrect _type, aborting"):void t(n.matches,n.cursor_start,n.cursor_end)},this.processKernelTitleResult=function(e){var n=JSON.parse(e);return n.ErrorMessage&&""!==n.ErrorMessage?void t.props.onUpdateTitleErrorMessage(n.ErrorMessage):void t.props.onUpdateUrl(n.NewUrl)},this.processKernelTitleCheckResult=function(e){var n=JSON.parse(e);n.ErrorMessage&&""!==n.ErrorMessage&&t.props.onUpdateTitleErrorMessage(n.ErrorMessage)},this.parseKernelRunResults=function(e){var n=JSON.parse(e);n.results&&n.results.FailureMessage&&t.props.onKernelResultMessage(n.results.FailureMessage+"; you can use the restart button in the toolbar to try again...")},this.props=o.clone(e),this.kernelStatus=r.KernelStatus.Initializing,this.scriptRunId=this.props.initialScriptRunId||0,this.scriptId=this.props.initialScriptId||0,this.kernelLanguage=this.props.initialLanguageId,this.updateStatus=this.updatePrivateStatus,this.initialEditsBeforeKernelReady=this.props.initialEditEvents,this.cellUuidsServerKnowsAbout=[],this.updateListOfCellsOnServer(this.initialEditsBeforeKernelReady),this.kernelHasStarted=!1,i.redis.addInterfaceStateCallback(this.handleRedisInterfaceStateChange)}return e.prototype.containerDidMount=function(){this.props.onKernelStatusChange(this.kernelStatus),this.updateStatus=this.updateParentStatus},e.prototype.startKernel=function(e,t,n){if(void 0===n&&(n=""),this.props.readOnly)return $.Deferred().resolve().promise();s.Current.log("Starting kernel..."),this.forkParentScriptVersionId=e||null;var a={ScriptId:this.scriptId,SourceScriptVersionId:t&&t>0?t:null,LanguageId:this.kernelLanguage,ScriptProjectId:this.props.scriptProjectId,Title:this.props.initialTitle||"Notebook"+r.uuid(10),ForkParentScriptVersionId:e&&e>0?e:null,IpynbContents:n},i=$.ajax({url:"/kernels/byod/newkernel",type:"POST",data:JSON.stringify(a),processData:!1,contentType:"application/json",success:this.processKernelStartupResult,error:this.handleAjaxError});return this.updateStatus(r.KernelStatus.Requested),i},e.prototype.subscribeToRedisKeys=function(e){i.redis.subscribe(this.scriptRunId,"status",-1,this.processStatusResult),i.redis.subscribe(this.scriptRunId,"jupyter:changes",e,this.processChangesResult),i.redis.subscribe(this.scriptRunId,"heartbeats:worker",0,this.processWorkerHeartbeat)},e.prototype.unsubscribeFromRedisKeys=function(){i.redis.unsubscribe("status"),i.redis.unsubscribe("jupyter:changes"),i.redis.unsubscribe("heartbeats:worker")},e.prototype.prependInsertCellEventIfNeeded=function(e,t){var n=this,a=e.filter(function(e){
return e._type!==r.InsertCellEditEventType}).map(function(e){return e._cell_guid}).filter(function(e){return n.cellUuidsServerKnowsAbout.indexOf(e)===-1});if(0===a.length)return e;s.Current.log("Prepending insert events for uuids: "+a);var i=t().cells.map(function(e){return e.metadata._cell_guid}),o=t().cells.map(function(e){return"markdown"===e.cell_type?r.NotebookCellType.Markdown:r.NotebookCellType.Code}),l=[];return a.forEach(function(e){l.push(n.getInsertCellEvent(e,"",i,o[i.indexOf(e)]))}),l.concat(e)},e.prototype.updateOrInsertCell=function(e,t,n){if(this.cellUuidsServerKnowsAbout.indexOf(e)>-1)return r.UpdateCellEditEvent(e,t,r.NotebookCellType.Code,!1);var a=n().cells.map(function(e){return e.metadata._cell_guid});return this.getInsertCellEvent(e,t,a,r.NotebookCellType.Code)},e.prototype.getInsertCellEvent=function(e,t,n,a){var i=n.indexOf(e),s=t||"",o=a||r.NotebookCellType.Code;return 0===i?n.length>1?r.InsertCellEditEvent(e,null,!1,o,s,n[1]||null):r.InsertCellEditEvent(e,null,!1,o,s):r.InsertCellEditEvent(e,n[i+1]||null,!1,o,s)},e.prototype.containerWillUnmount=function(){s.Current.log("NotebookKernelDispatcher is stopping")},e.prototype.getSavedNotebookState=function(e){s.Current.log("Getting existing state for script run "+this.scriptRunId),i.redis.request(this.scriptRunId,JSON.stringify([r.SerializeNotebookRequest()]),30,e,this.props.onConnectionProblem)},e.prototype.executeCell=function(e,t,n){var a=this;if(!this.props.readOnly){s.Current.log("Requesting cell execution for id "+e+" at "+(new Date).getTime()),s.Current.log("Source: '"+t+"'");var o=this.updateOrInsertCell(e,t,n),l=r.CellExecutionRequest(e);i.redis.request(this.scriptRunId,JSON.stringify([o,l]),10,null,function(t,n,i){s.Current.log("Cancelling busy status for id "+e+" at "+(new Date).getTime()),a.props.receiveChanges([r.MakeCellIdleEditEvent(e)]),a.props.onConnectionProblem(t,n,i)}),this.hasRecordedIntercomEvent||(window.Intercom("trackEvent","run_notebook",{scriptversion_id:this.scriptRunId}),this.props.isDataset?window.Intercom("trackEvent","run_dataset_notebook",{scriptversion_id:this.scriptRunId}):window.Intercom("trackEvent","run_comp_notebook",{scriptversion_id:this.scriptRunId}),this.hasRecordedIntercomEvent=!0)}},e.prototype.executeCells=function(e,t){if(!this.props.readOnly){var n=e.filter(function(e){return"code"===e.cell_type}),a=this.prependInsertCellEventIfNeeded(n.map(function(e){return r.CellExecutionRequest(e.metadata._cell_guid)}),t);i.redis.request(this.scriptRunId,JSON.stringify(a),10,null,this.props.onConnectionProblem),this.hasRecordedIntercomEvent||(window.Intercom("trackEvent","run_notebook",{scriptversion_id:this.scriptRunId}),this.props.isDataset?window.Intercom("trackEvent","run_dataset_notebook",{scriptversion_id:this.scriptRunId}):window.Intercom("trackEvent","run_comp_notebook",{scriptversion_id:this.scriptRunId}),this.hasRecordedIntercomEvent=!0)}},e.prototype.cancelCellExecution=function(){this.props.readOnly||i.redis.request(this.scriptRunId,JSON.stringify([r.InterruptKernelRequest()]),15,this.props.onExecutionCancelRequestSent,this.props.onConnectionProblem)},e.prototype.changeLanguage=function(e,t){var n=this;if(!this.props.readOnly){this.kernelHasStarted=!1,s.Current.log("Submitting stop request...");var a=r.CloseNotebookForLanguageChangeRequest();i.redis.request(this.scriptRunId,JSON.stringify([a]),10,function(){s.Current.log("Stop request submitted."),n.heartbeatWarningTimeout&&window.clearTimeout(n.heartbeatWarningTimeout),n.unsubscribeFromRedisKeys(),n.kernelLanguage=e,n.initialEditsBeforeKernelReady=[],n.kernelHasStarted=!1,n.startKernel(n.forkParentScriptVersionId,null,t)},this.props.onConnectionProblem)}},e.prototype.requestNewTitle=function(e){if(!this.props.readOnly)return this.scriptRunId?void this.sendTitleChangeOrCheckRequest(e,!1,this.processKernelTitleResult):void alert("Please try again in a few seconds.")},e.prototype.checkNewTitle=function(e){this.props.readOnly||this.scriptRunId&&this.sendTitleChangeOrCheckRequest(e,!0,this.processKernelTitleResult)},e.prototype.sendTitleChangeOrCheckRequest=function(e,t,n){var a={ScriptVersionId:this.scriptRunId,NewTitle:e,CheckOnly:t};$.ajax({url:"/kernels/byod/kerneltitle",type:"POST",data:JSON.stringify(a),processData:!1,contentType:"application/json",success:n,error:this.handleAjaxError})},e.prototype.sendEditEvent=function(e,t){if(!this.props.readOnly&&e._type!==r.ActivateCellEditEventType){if(!this.kernelHasStarted)return void this.initialEditsBeforeKernelReady.push(e);s.Current.log("Sending edit event at "+(new Date).getTime()+": "+JSON.stringify(e));var n=this.prependInsertCellEventIfNeeded([e],t);i.redis.request(this.scriptRunId,JSON.stringify(n),5,function(e){s.Current.log(e)},this.props.onConnectionProblem)}},e.prototype.sendEditEvents=function(e,t){if(!this.props.readOnly){var n=e.filter(function(e){return e._type!==r.ActivateCellEditEventType});if(0!==n.length){if(!this.kernelHasStarted)return void(this.initialEditsBeforeKernelReady=this.initialEditsBeforeKernelReady.concat(n));var a=this.prependInsertCellEventIfNeeded(n,t);s.Current.log("Sending edit events at "+(new Date).getTime()+":"),s.Current.log(JSON.stringify(a)),i.redis.request(this.scriptRunId,JSON.stringify(a),5,function(e){s.Current.log(e)},this.props.onConnectionProblem)}}},e.prototype.processWorkerStartup=function(e){this.updateStatus(r.KernelStatus.Running),this.kernelHasStarted=!0,this.initialEditsBeforeKernelReady.length>0&&this.sendEditEvents(this.initialEditsBeforeKernelReady,function(){return{cells:[]}}),this.props.onKernelSpecChange(e.kernelspec,e.kernel_info_reply_content.language_info)},e.prototype.requestRenderingHtml=function(e,t){var n=this;if(!this.props.readOnly){var a,s=r.CloseNotebookRequest();a=t?[t,s]:[s],i.redis.request(this.scriptRunId,JSON.stringify(a),10,function(){n.updateStatus(r.KernelStatus.RenderingHtml),n.heartbeatWarningTimeout&&window.clearTimeout(n.heartbeatWarningTimeout)},this.props.onConnectionProblem)}},e.prototype.requestKernelInterrupt=function(){if(!this.props.readOnly)return this.kernelStatus!==r.KernelStatus.Running?void console.warn("Ignoring kernel interrupt request; not running"):void i.redis.request(this.scriptRunId,JSON.stringify([r.InterruptKernelRequest()]),30,function(e){s.Current.log("Interrupt kernel response:\n"+e)},this.props.onConnectionProblem)},e.prototype.getKernelRunResults=function(){$.ajax({url:"/kernels/statmin?id="+this.scriptRunId,success:this.parseKernelRunResults,error:s.Current.warn})},e}();t.NotebookKernelDispatcher=l},function(e,t,n){"use strict";var a,r=n(6),i=n(24),s=n(2),o=n(241)();!function(e){e[e.Unstarted=0]="Unstarted",e[e.LongPolling=1]="LongPolling",e[e.Polling=2]="Polling",e[e.PollingUntilReconnected=3]="PollingUntilReconnected",e[e.GivenUp=4]="GivenUp"}(a=t.InterfaceState||(t.InterfaceState={}));var l=2,c=300,p=15,u=20,d=50,m=function(){function e(){var e=this;this.subscriptions=[],this.interfaceState=a.Unstarted,this.pollIntervalSeconds=l,this.interfaceStateCallbacks=[],this.request=function(t,n,i,l,c,p){if(void 0===p&&(p=0),p>10)return r.Current.warn("Giving up on request after multiple retries."),void r.Current.log(n);if(e.interfaceState===a.GivenUp)return void c("The server is unreachable","error",null);if(e.interfaceState===a.PollingUntilReconnected){var u="I can't reach the server right now, but I'm trying to reconnect.",d=e.lostConnectionTime?1e3*(e.lostConnectionTime.getTime()-(new Date).getTime()):-1;return d>0&&d<1800&&(u="I've been trying to reconnect to the server since "+o.ago(e.lostConnectionTime)+"."),void c(u,"warning",d)}s.ajax({url:"/redis/nbreq/"+t,timeout:1e3*i,type:"POST",data:n,processData:!1,contentType:"application/json",success:l,error:function(a,r,s){e.handleRequestError(a,r,s,t,n,i,l,c,p)}})},this.handleRequestError=function(t,n,a,i,s,o,l,c,p){return t.status&&t.status>=400?(r.Current.warn("Received status "+t.status+" on request. Retrying in three seconds."),void window.setTimeout(function(){return e.request(i,s,o,l,c,p+1)},3e3)):void("timeout"===a||"error"===n&&!a?(e.switchToPollingUntilReconnected(),c("I'm having trouble reaching the server, but I'm trying to reconnect.","warning",null)):c(n+": "+a,"error",null))},this.handleVisibilityChange=function(){e.isVisible="hidden"!==document[e.visibilityState],r.Current.log("Visibility state is now: "+document[e.visibilityState]),e.interfaceState!==a.Unstarted&&(e.isVisible?e.interfaceState===a.Polling?(r.Current.log("Switching to long-polling"),e.cancelPoll(),e.executeLongPoll(),e.updateInterfaceState(a.LongPolling)):(r.Current.log("Cancelling switch to polling"),window.clearTimeout(e.switchToPollTimeout)):(r.Current.log("Switching to polling in 30 seconds"),e.switchToPollTimeout=window.setTimeout(function(){e.cancelLongPoll(),e.executePoll(),e.updateInterfaceState(a.Polling)},3e4)))},this.dispatchResult=function(t){r.Current.log("Incoming Redis at "+(new Date).getTime()),e.interfaceState!==a.PollingUntilReconnected&&e.interfaceState!==a.GivenUp||(r.Current.log("Reconnected succesfully. Resuming normal polling."),e.pollIntervalSeconds=l,e.updateInterfaceState(e.isVisible?a.LongPolling:a.Polling),e.lostConnectionTime=null);var n=JSON.parse(t),i=e.subscriptions.map(function(e){return e.channel}).indexOf(n.Key);i!==-1?(e.subscriptions[i].callback(n.Result.map(function(e){return e.Value})),i=e.subscriptions.map(function(e){return e.channel}).indexOf(n.Key),i!==-1&&(e.subscriptions[i].position=Math.max.apply(Math,n.Result.map(function(e){return e.Position})))):"timeout"===n.Key&&e.interfaceState===a.Polling?e.pollIntervalSeconds<c&&(e.pollIntervalSeconds*=2,r.Current.log("Received timeout, increasing poll interval to: "+e.pollIntervalSeconds)):"timeout"!==n.Key&&e.interfaceState===a.Polling&&(e.pollIntervalSeconds=l),e.interfaceState===a.LongPolling?e.executeLongPoll():e.interfaceState===a.Polling&&e.executePoll()},this.handleAjaxError=function(t,n,i){return"abort"===n?void r.Current.log("Ignoring response from aborted Ajax."):(r.Current.warn(n+("error"===n?": "+i:"")),e.interfaceState!==a.PollingUntilReconnected&&e.interfaceState!==a.GivenUp?e.switchToPollingUntilReconnected():e.pollingErrors++,e.pollingErrors>=u?(r.Current.warn("Stopping reconnection attempts."),void e.updateInterfaceState(a.GivenUp)):void e.executePoll())},this.addPageVisibilityHandler(),this.executeAjax=i.throttle(this.executeAjaxImmediate,1e3/(60*d))}return e.prototype.addPageVisibilityHandler=function(){var e=this;"undefined"!=typeof document.hidden?(this.hiddenProperty="hidden",this.visibilityChangeEvent="visibilitychange",this.visibilityState="visibilityState"):"undefined"!=typeof document.mozHidden?(this.hiddenProperty="mozHidden",this.visibilityChangeEvent="mozvisibilitychange",this.visibilityState="mozVisibilityState"):"undefined"!=typeof document.msHidden?(this.hiddenProperty="msHidden",this.visibilityChangeEvent="msvisibilitychange",this.visibilityState="msVisibilityState"):"undefined"!=typeof document.webkitHidden&&(this.hiddenProperty="webkitHidden",this.visibilityChangeEvent="webkitvisibilitychange",this.visibilityState="webkitVisibilityState"),document.addEventListener(this.visibilityChangeEvent,this.handleVisibilityChange,!1),window.addEventListener("beforeunload",function(){document.removeEventListener(e.visibilityChangeEvent,e.handleVisibilityChange,!1)}),this.isVisible="hidden"!==document[this.visibilityState]},e.prototype.addInterfaceStateCallback=function(e){this.interfaceStateCallbacks.push(e)},e.prototype.updateInterfaceState=function(e){this.interfaceState=e,this.interfaceStateCallbacks.length>0&&this.interfaceStateCallbacks.forEach(function(t){return t(e)})},e.prototype.subscribe=function(e,t,n,i){var s=this;this.scriptRunId=e,r.Current.log("Subscribing to key: "+t+" for script run "+e),this.subscriptions.push({channel:t,callback:i,position:n}),this.interfaceState===a.Unstarted?this.isVisible?(this.longPollTimeout&&(window.clearTimeout(this.longPollTimeout),this.longPollTimeout=null),this.longPollTimeout=window.setTimeout(function(){s.updateInterfaceState(a.LongPolling),s.executeLongPoll()})):(this.updateInterfaceState(a.Polling),this.executePoll()):this.restartSubscription()},e.prototype.unsubscribe=function(e){var t=this.subscriptions.map(function(e){return e.channel}).indexOf(e);t!==-1?(r.Current.log("Unsubscribed from '"+e+"'"),this.subscriptions.splice(t,1)):console.warn("Not unsubscribing from '"+e+"'; not found."),0===this.subscriptions.length&&(this.cancelLongPoll(),this.cancelPoll(),this.updateInterfaceState(a.Unstarted))},e.prototype.serializeSubscriptions=function(){for(var e={scriptRun:{id:this.scriptRunId}},t=0;t<this.subscriptions.length;t++){for(var n=this.subscriptions[t],a=n.channel.split(":"),r=e.scriptRun,s=0;s<a.length-1;s++)i.has(r,a[s])||(r[a[s]]={}),r=r[a[s]];r[a[a.length-1]]=this.subscriptions[t].position}return e},e.prototype.executeAjaxImmediate=function(e){return s.ajax({url:e,timeout:13e4,type:"POST",data:JSON.stringify(this.serializeSubscriptions()),processData:!1,contentType:"application/json",success:this.dispatchResult,error:this.handleAjaxError})},e.prototype.restartSubscription=function(){this.interfaceState===a.LongPolling?(this.cancelLongPoll(),this.executeLongPoll()):this.interfaceState===a.Polling||this.interfaceState===a.PollingUntilReconnected?(this.cancelPoll(),this.executePoll()):console.warn("restartSubscription: not currently polling")},e.prototype.executeLongPoll=function(){this.longPollQuery=this.executeAjax("/redis/sub/")},e.prototype.cancelLongPoll=function(){this.longPollQuery&&this.longPollQuery.abort(),this.longPollTimeout&&window.clearTimeout(this.longPollTimeout),this.updateInterfaceState(a.Unstarted)},e.prototype.executePoll=function(){var e=this;this.pollTimeout&&window.clearTimeout(this.pollTimeout),this.pollTimeout=window.setTimeout(function(){e.executeAjax("/redis/check/")},1e3*this.pollIntervalSeconds)},e.prototype.cancelPoll=function(){this.pollTimeout&&window.clearTimeout(this.pollTimeout),this.pollIntervalSeconds=l,this.updateInterfaceState(a.Unstarted)},e.prototype.switchToPollingUntilReconnected=function(){r.Current.log("Switching to slow polls until successful reconnection."),this.updateInterfaceState(a.PollingUntilReconnected),this.pollIntervalSeconds=p,this.pollingErrors=1,this.lostConnectionTime=new Date},e}();t.redis=new m},,function(e,t,n){"use strict";var a,r=n(24);!function(e){e[e.Edit=0]="Edit",e[e.Command=1]="Command",e[e.SecondCommandKey=2]="SecondCommandKey"}(a||(a={}));var i=13,s=27,o=65,l=66,c=83,p=73,u=89,d=77,m=68,h=function(){function e(e){var t=this;this.handleKeyDown=function(e){t.mode===a.Edit?t.handleEditModeKeyDown(e):t.mode===a.Command?t.handleCommandModeKeyDown(e):t.handleSecondCommandKey(e)},this.handleEditModeKeyDown=function(e){e.keyCode==s&&(e.preventDefault(),e.stopPropagation(),t.setMode(a.Command))},this.fireActionAndReturnToEditMode=function(e,n){void 0===n&&(n=null),e.preventDefault(),e.stopPropagation(),n&&n(),t.setMode(a.Edit)},this.waitForSecondCommandKey=function(e,n){e.preventDefault(),e.stopPropagation(),t.previousCommandKeyCode=n,t.setMode(a.SecondCommandKey,!1)},this.handleSecondCommandKey=function(e){if(e.keyCode===t.previousCommandKeyCode)switch(e.keyCode){case m:t.fireActionAndReturnToEditMode(e,t.props.onDeleteCell);break;default:t.fireActionAndReturnToEditMode(e)}else t.fireActionAndReturnToEditMode(e)},this.handleCommandModeKeyDown=function(e){switch(console.log(e),e.keyCode){case i:t.fireActionAndReturnToEditMode(e);break;case o:t.fireActionAndReturnToEditMode(e,t.props.onInsertCellAbove);break;case l:t.fireActionAndReturnToEditMode(e,t.props.onInsertCellBelow);break;case c:t.fireActionAndReturnToEditMode(e,t.props.onSave);break;case p:t.fireActionAndReturnToEditMode(e,t.props.onCancelExecution);break;case u:t.fireActionAndReturnToEditMode(e,t.props.onMakeCodeCell);break;case d:t.fireActionAndReturnToEditMode(e,t.props.onMakeMarkdownCell);break;case m:t.waitForSecondCommandKey(e,m)}},this.props=r.clone(e),this.setMode(a.Edit,!1)}return e.prototype.setMode=function(e,t){void 0===t&&(t=!0),this.mode=e,e===a.Edit?t&&this.props.onChangedToEditMode():t&&this.props.onChangedToCommandMode()},e}();t.NotebookKeyboardShortcutter=h},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(238),i=n(203),s=n(193),o=n(13),l=n(86),c=n(214),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e="fa fa-circle",t={},n=r.KernelStatus[this.props.status].replace(/([a-z])([A-Z])/g,"$1 $2");switch(this.props.status){case r.KernelStatus.Initializing:case r.KernelStatus.Queued:case r.KernelStatus.Requested:break;case r.KernelStatus.Starting:t={color:"#FF8C00"};break;case r.KernelStatus.Running:t={color:"#1DBB9A"};break;case r.KernelStatus.DownloadingData:t={color:"#B3B3B3"};break;case r.KernelStatus.LostHeartbeat:n="Reconnecting";case r.KernelStatus.Reconnecting:t={color:"#FFCC00"};break;case r.KernelStatus.Error:e="fa fa-times-circle",t={color:"#C92C2C"};break;case r.KernelStatus.Stopped:e="fa fa-square",t={color:"#C0C0C0"};break;case r.KernelStatus.RenderingHtml:e="fa fa-refresh fa-spin",t={color:"#B3B3B3"};break;default:e="fa fa-square",t={color:"#2F9C0A"}}return React.createElement("div",{className:"pageheader__notebook-header-item"},React.createElement("div",{className:"notebook-editor__kernel-status"},React.createElement("span",{className:e,style:t}),React.createElement("span",{className:"notebook-editor__kernel-status-description",style:t},n)))},t}(React.Component);t.NotebookKernelStatusIndicator=p;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.shouldComponentUpdate=function(e){return JSON.stringify(this.props)!==JSON.stringify(e)},t.prototype.render=function(){return React.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.isActive?"":" pageheader__notebook-header-button--disabled"),onClick:this.props.isActive?this.props.clickAction:null},React.createElement("span",{className:"fa fa-"+this.props.faClass,title:this.props.tooltip}))},t}(React.Component),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.shouldComponentUpdate=function(e){return JSON.stringify(this.props)!==JSON.stringify(e)},t.prototype.render=function(){var e,t=this,n=null!==this.props.activeCellUuid&&""!==this.props.activeCellUuid,a=null!==this.props.busyCellUuid&&""!==this.props.busyCellUuid,d=n&&this.props.activeCellType===r.NotebookCellType.Code,m=!this.props.readOnly&&a,h=this.props.canExecuteActiveCell&&!this.props.readOnly&&n&&d&&!m,f=m?"Cancel current execution":h?"Execute cell":"Select a code cell to execute",g=m?function(){return t.props.onCancel(t.props.busyCellUuid)}:h?function(){return t.props.onExecute(t.props.activeCellUuid)}:null,v=null;return this.props.isEditingTitle?e=React.createElement(s.InlineTextEditor,{className:"pageheader__notebook-header-title--input",value:this.props.title,placeholder:"Enter a title for your notebook",onGainFocusCallback:this.props.onTitleEditorGainFocus,onLoseFocusCallback:this.props.onTitleEditorLoseFocus,onChangeCallback:this.props.onTitleChanged}):(e=this.props.title,v=this.props.onTitleEditingStateChanged),React.createElement(i.PageHeader,null,React.createElement(i.PageHeaderTopRow,{title:e,coverImageUrl:this.props.imageUrl,subtitle:null,titleUrl:null,isEditingHeaderInfo:this.props.isEditingTitle,modifier:"notebook",nodeId:"pageheader__top--notebook",onTitleClick:v}),React.createElement(i.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},React.createElement("div",{className:"pageheader__nav pageheader__nav--notebook"},React.createElement(p,{status:this.props.kernelStatus}),React.createElement("div",{className:"pageheader__notebook-header-restart-button"},React.createElement(l.ButtonRoundEdged,{onClick:this.props.onRestartKernel,text:"Restart"})),React.createElement("div",{className:"pageheader__notebook-header-button-group"},React.createElement(u,{faClass:m?"stop":"play",isActive:h||m,tooltip:f,clickAction:g}),React.createElement(u,{faClass:"forward",isActive:!this.props.readOnly&&this.props.canExecuteAll,tooltip:"Execute all cells",clickAction:this.props.onExecuteAll})),React.createElement("div",{className:"pageheader__notebook-header-button-group"},React.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.readOnly?" pageheader__notebook-header-button--disabled":"")},React.createElement("label",{htmlFor:"ipynb-file-upload"},React.createElement("span",{className:"fa fa-cloud-upload",title:"Upload ipynb file (beta)"})),React.createElement("input",{id:"ipynb-file-upload",type:"file",style:{display:"none"},onChange:this.props.onUploadIpynb})),React.createElement("div",{className:"pageheader__notebook-header-button"+(this.props.canDownloadIpynb?"":" pageheader__notebook-header-button--disabled"),onClick:this.props.onDownloadIpynb},React.createElement("span",{className:"fa fa-cloud-download",title:"Download ipynb file"}))),React.createElement("div",{className:"pageheader__notebook-language-select"},React.createElement(o.SelectBox,{options:this.props.availableLanguageChoices,className:"pageheader__notebook-language-select-box",onChange:this.props.onLanguageChanged,searchable:!1,value:this.props.kernelLanguageDropdownValue})),""===this.props.kernelInfoLine?null:React.createElement("div",{className:"pageheader__notebook-header-button--extraspace"},this.props.kernelInfoLine),this.props.scriptId?React.createElement("div",{className:"pageheader__notebook-privacy-select pageheader__notebook-privacy-select--"+(this.props.isPrivate?"private":"public")},React.createElement(c.PrivacyToggle,{kernelType:"Notebook",displayMode:"SelectBox",isPrivate:this.props.isPrivate,scriptId:this.props.scriptId,onChangeToPublic:this.props.onChangeToPublic})):null,React.createElement("div",{className:"pageheader__notebook-save-message"},this.props.canSave?"…":this.props.lastSavedTime?"Saved":"")),React.createElement("a",{onClick:this.props.canRenderHtml?this.props.onRenderHtml:function(){return t.props.onRenderHtmlRequestError(t.props.renderHtmlToolTipText)},className:"pageheader__calltoaction pageheader__calltoaction--notebook"+(this.props.canRenderHtml?"":"-disabled")},React.createElement("span",{title:this.props.renderHtmlToolTipText},this.props.kernelStatus===r.KernelStatus.RenderingHtml?"Rendering…":"Publish"))))},t}(React.Component);t.NotebookHeader=d},function(e,t,n){"use strict";function a(e){if(0==e.length)return[];var t=JSON.parse(e);return t.cells?t.cells.map(function(e){return e.source=s(e.source),e}):[]}function r(e,t){return void 0===t&&(t=[]),e.reduce(E,t)}function i(e,t){var n=t.map(function(e){return e.metadata._cell_guid}).indexOf(e);if(n===-1)throw"Invalid uuid: "+e;return n}function s(e){return e?e instanceof Array?e.map(function(e){return e.replace(/\n$/,"")}).join("\n"):e:null}function o(e,t,n){return{metadata:{_cell_guid:e,_active:!1,collapsed:!1},source:s(t),execution_count:null,cell_type:n===S.NotebookCellType.Markdown?"markdown":"code",outputs:[]}}function l(e,t){var n=i(e,t),a=n>0?t.slice(0,n):[],r=t.slice(n+1);return a.concat(r)}function c(e,t,n,a,r,i){var s="markdown"===r?S.NotebookCellType.Markdown:S.NotebookCellType.Code;return n?p(e,t,n,s,i):a?u(e,t,a,s,i):d(e,t,s,i)}function p(e,t,n,a,r){var s=i(n,r),l=r.slice(0,s),c=r.slice(s),p=o(e,t,a);return l.concat(p).concat(c)}function u(e,t,n,a,r){var s=i(n,r),l=r.slice(0,s+1),c=r.slice(s+1),p=o(e,t,a);return l.concat(p).concat(c)}function d(e,t,n,a){var r=o(e,t,n);return a.concat(r)}function m(e,t,n,a,r,o,l,c){var p=i(e,c);return c[p].source=null==t?c[p].source:s(t),c[p].metadata.collapsed=null==n?c[p].metadata.collapsed:n,c[p].cell_type=a||c[p].cell_type,c[p].execution_state=r||c[p].execution_state,c[p].execution_count=o||c[p].execution_count,l?c[p].outputs=v(l,c[p].outputs||[]):"busy"===r&&(c[p].outputs=[]),c}function h(e,t,n,a){var r=i(e,a);return a[r].source instanceof Array?(k.Current.warn("Cell source array in "+e),a[r].source.push(t)):a[r].source+=s(t)||"",n&&n.length>0&&(a[r].outputs=v(n,a[r].outputs)),a}function f(e,t){return t.forEach(function(t){return t.metadata._active=t.metadata._cell_guid===e}),t}function g(e,t){return t.forEach(function(e){return e.metadata._active=!1}),t}function v(e,t){return e.reduce(b,t)}function y(e,t){if(e&&e.length>0&&e[e.length-1].name===t.name){var n=e[e.length-1].text[e[e.length-1].text.length-1];e[e.length-1].text+=("\n"===n?"":"\n")+t.text}else e.push(t);return e}function b(e,t){return"stream"===t.output_type?y(e,t):e.concat(t)}function E(e,t){if(!t)return e;switch(t._type){case S.DeleteCellEditEventType:return l(t._cell_guid,e);case S.InsertCellEditEventType:return c(t._cell_guid,t.source||"",t._above_cell_guid,t._below_cell_guid,t.cell_type,e);case S.UpdateCellEditEventType:return m(t._cell_guid,t.source,t.collapsed,t.cell_type,t.execution_state,t.execution_count,t.outputs,e);case S.AppendCellEditEventType:return h(t._cell_guid,t.source,t.outputs,e);case S.ActivateCellEditEventType:return f(t._cell_guid,e);case S.DeactivateCellEditEventType:return g(t._cell_guid,e);case S.CellExecutionRequestType:return m(t._cell_guid,null,null,null,"busy",null,null,e);default:return e}}function _(e,t){return{metadata:t,nbformat:4,nbformat_minor:0,cells:e}}function R(e,t){var n=e.slice();return n.forEach(function(e){e.execution_count=null,e.outputs=[],e.execution_state="idle"}),_(n,t)}var w=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},C=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},S=n(238),N=n(245),k=n(6),T=function(e){function t(t){var n=e.call(this,t)||this;return n.getCellContents=function(e){var t=i(e,n.state.cells);return n.state.cells[t].source},n.state={cells:r(n.props.editHistory,a(n.props.startingStateIpynb)),nextEditToApply:n.props.editHistory.length},n.props.registerGetIpynb(function(){return _(n.state.cells,n.props.kernelMetadata)}),n.props.registerGetIpynbWithNoOutputs(function(){return R(n.state.cells,n.props.kernelMetadata)}),n.props.registerGetCellContents(function(e){return n.getCellContents(e)}),n}return w(t,e),t.prototype.componentWillMount=function(){this.checkActiveAndBusyCells(this.state.cells),this.props.onUpdateNumberOfCells(this.state.cells.length)},t.prototype.checkActiveAndBusyCells=function(e){this.updateActiveCellProperties(e),this.updateBusyCellProperties(e),this.props.onUpdateFirstCellIsMarkdown(0===e.length||"markdown"===e[0].cell_type),this.props.onUpdateFirstCellUuid(0===e.length?null:e[0].metadata._cell_guid)},t.prototype.updateActiveCellProperties=function(e){var t=e.filter(function(e){return e.metadata._active});0===t.length?this.props.onChangeActiveCell(null,null,null):this.props.onChangeActiveCell(t[0].metadata._cell_guid,t[0].metadata.collapsed,"markdown"===t[0].cell_type?S.NotebookCellType.Markdown:S.NotebookCellType.Code)},t.prototype.updateBusyCellProperties=function(e){var t=e.filter(function(e){return e.execution_state&&"busy"===e.execution_state});0===t.length?this.props.onChangeBusyCell(null):this.props.onChangeBusyCell(t[0].metadata._cell_guid)},t.prototype.componentWillReceiveProps=function(e){var t=this,n=e.startingStateIpynb!==this.props.startingStateIpynb,i=e.editHistory.length!==this.props.editHistory.length||e.editHistory.length>0&&e.editHistory.length>this.state.nextEditToApply;if(n||i){var s;if(n?(s=a(e.startingStateIpynb),k.Current.log("New cells from startingStateIpynb:"),k.Current.log(s)):s=this.state.cells.map(function(e){return N.copyCell(e)}),i&&e.editHistory.length){var o=this.state.nextEditToApply;k.Current.log("New edits from "+this.state.nextEditToApply+":"),k.Current.log(e.editHistory.slice(o)),s=r(e.editHistory.slice(o),s)}this.setState({cells:s,nextEditToApply:e.editHistory.length}),this.checkActiveAndBusyCells(s),this.state.cells.length!==s.length&&this.props.onUpdateNumberOfCells(s.length),this.props.kernelMetadata!==e.kernelMetadata&&(e.registerGetIpynb(function(){return _(t.state.cells,e.kernelMetadata)}),e.registerGetIpynbWithNoOutputs(function(){return R(t.state.cells,e.kernelMetadata)}))}},t.prototype.shouldComponentUpdate=function(e,t){return this.state.nextEditToApply!==t.nextEditToApply||e.startingStateIpynb!==this.props.startingStateIpynb||this.props.isReadOnly!==e.isReadOnly||this.props.canExecute!==e.canExecute||this.props.isInCommandMode!==e.isInCommandMode},t.prototype.cellCanMoveDown=function(e){return e!==this.state.cells[this.state.cells.length-1].metadata._cell_guid},t.prototype.onCellMoveDown=function(e){var t=i(e,this.state.cells);this.props.onActivateCell(this.state.cells[t+1].metadata._cell_guid)},t.prototype.cellCanMoveUp=function(e){return e!==this.state.cells[0].metadata._cell_guid},t.prototype.onCellMoveUp=function(e){var t=i(e,this.state.cells);this.props.onActivateCell(this.state.cells[t-1].metadata._cell_guid)},t.prototype.onCellAppendOrMoveDown=function(e){this.props.canExecute&&(this.cellCanMoveDown(e)?this.onCellMoveDown(e):this.props.onAppendActivatedCell())},t.prototype.render=function(){var e=this,t=this.state.cells;return this.props.isReadOnly&&(t=this.state.cells.map(function(e){return N.copyCell(e)}),t.forEach(function(e){return e.metadata._active=!1})),React.createElement("div",{className:"notebook-editor__cells-container"},t.map(function(t,n){return React.createElement(N.NotebookCell,C({key:"notebook-cell-"+(t.metadata._cell_guid||n),readOnly:!!e.props.isReadOnly&&"nocursor",isInCommandMode:e.props.isInCommandMode,languageName:e.props.kernelLanguageName,onChangeCellType:function(n){return e.props.onChangeCellType(t.metadata._cell_guid,n)},canExecute:e.props.canExecute,onExecute:function(){return e.props.onExecuteCell(t.metadata._cell_guid)},onAutocomplete:e.props.onAutocomplete,onContentsChange:function(n){return e.props.onNewCellContents(t.metadata._cell_guid,n,"markdown"===t.cell_type?S.NotebookCellType.Markdown:S.NotebookCellType.Code)},canMoveDown:function(){return e.cellCanMoveDown(t.metadata._cell_guid)},canMoveUp:function(){return e.cellCanMoveUp(t.metadata._cell_guid)},onMoveDown:function(){return e.onCellMoveDown(t.metadata._cell_guid)},onMoveUp:function(){return e.onCellMoveUp(t.metadata._cell_guid)},onMouseUp:t.metadata._active?null:function(){console.log(e),e.props.onActivateCell(t.metadata._cell_guid)},appendNewOrMoveDown:function(){return e.onCellAppendOrMoveDown(t.metadata._cell_guid)},onUncollapse:function(){return e.props.onChangeCollapsed(t.metadata._cell_guid,!1)},onDeactivate:function(){return e.props.onDeactivateCell(t.metadata._cell_guid)},onDelete:function(){return e.props.onDeleteCell(t.metadata._cell_guid)},onCollapse:function(){return e.props.onChangeCollapsed(t.metadata._cell_guid,!0)},onAddAbove:function(){return e.props.onAddAbove(t.metadata._cell_guid)},onAddBelow:function(){return e.props.onAddBelow(t.metadata._cell_guid)}},t))}))},t}(React.Component);t.NotebookCellsContainer=T},function(e,t,n){"use strict";function a(e){return JSON.parse(JSON.stringify(e))}var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(238),s=n(89),o=n(170),l=n(166),c=n(33),p=n(6),u=n(24),d=n(246);t.copyCell=a;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isCodeCell=function(){return"code"===t.props.cell_type},t.isBusy=function(){return t.props.execution_state&&"busy"===t.props.execution_state},t}return r(t,e),t.prototype.shouldComponentUpdate=function(e){
var t=this.props,n=e;return this.props.isInCommandMode!==n.isInCommandMode||(this.props.metadata._active&&n.metadata._active&&(t=u.omit(this.props,"source"),n=u.omit(e,"source")),JSON.stringify(t)!==JSON.stringify(n))},t.prototype.renderToolbar=function(e){var t=this;if(!e)return null;var n=null;"code"===this.props.cell_type&&this.props.canExecute&&(n=React.createElement("div",{className:"notebook-editor__cell-toolbar-button",style:{padding:0,marginLeft:"15px",marginRight:"7px",marginTop:"2px"},onClick:this.props.onExecute},React.createElement(c.ToolTip,{tipText:"Execute cell"},React.createElement("span",{className:"fa fa-play"}))));var a=null;return React.createElement("div",{className:"notebook-editor__cell-toolbar"},React.createElement("div",{className:"notebook-editor__cell-type-toggle-group"},React.createElement("div",{className:"notebook-editor__cell-type-toggle-group-inner"},React.createElement("div",{onClick:function(){return t.props.onChangeCellType(i.NotebookCellType.Markdown)},className:"notebook-editor__cell-type-toggle"+("markdown"===this.props.cell_type?" notebook-editor__cell-type-toggle--active":"")},"Markdown"),React.createElement("div",{onClick:function(){return t.props.onChangeCellType(i.NotebookCellType.Code)},className:"notebook-editor__cell-type-toggle"+("code"===this.props.cell_type?" notebook-editor__cell-type-toggle--active":"")},this.props.languageName)),n),React.createElement("div",{className:"notebook-editor__cell-toolbar-lhs"},React.createElement("div",{className:"notebook-editor__cell-toolbar-button-group"},a,React.createElement("div",{className:"notebook-editor__cell-toolbar-button",onClick:this.props.onAddAbove},React.createElement(c.ToolTip,{tipText:"Add cell above"},React.createElement("span",{className:"notebook-editor__cell-toolbar-multi-icon-button"},React.createElement("span",{className:"fa fa-plus"}),React.createElement("span",{className:"fa fa-caret-up"})))),React.createElement("div",{className:"notebook-editor__cell-toolbar-button",onClick:this.props.onAddBelow},React.createElement(c.ToolTip,{tipText:"Add cell below"},React.createElement("span",{className:"notebook-editor__cell-toolbar-multi-icon-button"},React.createElement("span",{className:"fa fa-plus"}),React.createElement("span",{className:"fa fa-caret-down"}))))),React.createElement("div",{className:"notebook-editor__cell-toolbar-button-group"},React.createElement("div",{className:"notebook-editor__cell-toolbar-button notebook-editor__cell-toolbar-button--red",onClick:this.props.onDelete},React.createElement(c.ToolTip,{tipText:"Delete cell"},React.createElement("span",{className:"fa fa-trash"}))))))},t.prototype.renderCellOutputChunk=function(e,t){switch(e.output_type){case"execute_result":case"display_data":var n=null,a=null;if("image/png"in e.data)a=React.createElement("img",{src:"data:image/png;base64,"+e.data["image/png"],key:t+"-img"});else if("text/html"in e.data){var r={__html:d.sanitizeHTML(e.data["text/html"])};n=React.createElement("div",{className:"notebook-editor__html-output",key:t+"-html",dangerouslySetInnerHTML:r})}else"text/plain"in e.data&&(n=React.createElement("div",{className:"notebook-editor__cell-output",key:t+"-text"},e.data["text/plain"]));return React.createElement("div",{key:t},n,a);case"stream":return"stderr"===e.name?React.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:t+"-stderr"},e.text):React.createElement("div",{className:"notebook-editor__cell-output",key:t+"-stdout"},e.text);case"error":var i=null,s=null;return"ename"in e&&"evalue"in e?i=React.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:t+"-desc"},React.createElement("span",null,e.ename+": "+e.evalue)):console.warn("Missing ename/evalue in error event"),"traceback"in e&&(s=React.createElement("div",{className:"notebook-editor__cell-output notebook-editor__cell-output--stderr",key:t+"-trace"},React.createElement("span",null,e.traceback.join("\n")))),React.createElement("div",{key:t+"-err"},i,s);default:return console.warn("Unknown output_type in cell "+this.props.metadata._cell_guid),null}},t.prototype.renderCellOutput=function(){var e=this;return this.isCodeCell()&&this.props.outputs&&0!==this.props.outputs.length?React.createElement("div",{className:"notebook-editor__cell-output-section"},React.createElement("div",{className:"notebook-editor__cell-number-container"},React.createElement("div",{className:"notebook-editor__cell-number-out"},"Out["+this.props.execution_count+"]:")),this.props.outputs.map(function(t,n){return e.renderCellOutputChunk(t,e.props.metadata._cell_guid+"-"+n.toString())})):null},t.prototype.componentWillUpdate=function(){this.mainDiv?this.lastMainDivTop=this.mainDiv.getBoundingClientRect().top:this.lastMainDivTop=null},t.prototype.componentDidUpdate=function(e){!e.metadata._active&&this.props.metadata._active&&this.mainDiv&&this.lastMainDivTop&&window.scrollBy(0,this.mainDiv.getBoundingClientRect().top-this.lastMainDivTop)},t.prototype.render=function(){var e=this,t=null,n="",a=null;if(this.isCodeCell()){var r=" ";this.isBusy()?r="*":null!==this.props.execution_count&&(r=this.props.execution_count?this.props.execution_count.toString():" "),a=this.props.metadata.collapsed?React.createElement("div",{className:"notebook-editor__cell-number-in notebook-editor__cell-number-in--collapsed"},"["+r+"]"):React.createElement("div",{className:"notebook-editor__cell-number-in"},"In["+r+"]:"),a=React.createElement("div",{className:"notebook-editor__cell-number-container"},a)}if(this.props.metadata.collapsed){var i=void 0;return i=this.props.source instanceof Array?this.props.source.length:this.props.source?this.props.source.split(/\r\n|\r|\n/).length:0,React.createElement("div",{className:"notebook-editor__cell notebook-editor__cell--collapsed"},a,React.createElement("div",{className:"notebook-editor__cell-expand-div"},React.createElement("div",{className:"notebook-editor__cell-action-text",onClick:this.props.onUncollapse},this.isCodeCell()?React.createElement("span",{className:"fa fa-code"}):React.createElement("span",{className:"fa fa-align-left"}),"Expand",i>0?React.createElement("span",{className:"notebook-editor__cell-expand-lines"},i," ",i>1?React.createElement("span",null,"lines"):React.createElement("span",null,"line")):null)))}var c;if(c=this.props.source?this.props.source instanceof Array?0===this.props.source.length?"":this.props.source.some(function(e){return e.indexOf("\n")>-1})?this.props.source.join(""):this.props.source.join("\n"):this.props.source:"",this.isCodeCell()){var u={mode:this.props.languageName.toLowerCase(),scrollbarStyle:"native",indentUnit:4,indentWithTabs:!1,autoCloseBrackets:!0,readOnly:this.props.readOnly,theme:"kaggle"};n="code",t=React.createElement(s.CodeMirrorEditor,{value:this.props.metadata._active?null:c,defaultValue:c,onChange:this.props.onContentsChange,hasFocus:this.props.metadata._active,onMouseUp:this.props.readOnly?null:this.props.onMouseUp,options:u,getAutocomplete:this.props.onAutocomplete,canMoveUp:this.props.canMoveUp,canMoveDown:this.props.canMoveDown,onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,onCtrlEnter:function(){e.isBusy()||e.props.onExecute()},onShiftEnter:function(){e.isBusy()||(e.props.onExecute(),e.props.appendNewOrMoveDown())}})}else{n="markdown";var d=this.props.metadata._active||""===c.trim();t=React.createElement("div",null,React.createElement("div",{style:d?{display:"inherit",animationName:"notebook-markdown-editor",animationDuration:"0.5s"}:{display:"none"}},React.createElement(o.MarkdownEditor,{shouldSanitizeHtml:!0,onChangeCallback:function(){},onChangeImmediate:this.props.onContentsChange,defaultValue:c,hidePreview:!0,alwaysShowToolbar:!0,hasFocus:this.props.metadata._active,onMoveUp:this.props.onMoveUp,onMoveDown:this.props.onMoveDown,suffix:this.props.metadata._cell_guid,onKeyPress:function(t){t.shiftKey&&13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.props.appendNewOrMoveDown())}})),d?null:React.createElement(l.MarkdownConverter,{content:c,mimeType:"text/markdown"}))}var m="";this.props.metadata._active&&(m=" notebook-editor__cell--active",this.props.isInCommandMode&&(m+=" notebook-editor__cell--command"));var h=this.renderToolbar(this.props.metadata._active);return p.Current.log("Cell "+this.props.metadata._cell_guid+" rendered at "+(new Date).getTime()),React.createElement("div",{className:"notebook-editor__cell-plus-toolbar"},h,React.createElement("div",{className:"notebook-editor__cell notebook-editor__cell--"+n+m,onMouseUp:this.props.onMouseUp},a,React.createElement("div",{className:"notebook-editor__cell-inner notebook-editor__cell-inner--"+n,ref:function(t){return e.mainDiv=t}},t),this.renderCellOutput()))},t}(React.Component);t.NotebookCell=m},,function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(40),i=function(e){function t(t){var n=e.call(this,t)||this;return n.onAddButtonClick=function(){n.setState({isModalShown:!0})},n.onModalClosed=function(){n.setState({isModalShown:!1})},n.onDataSourceAdded=function(e){return r.addDataSource(e,n.props.scriptVersionId).then(function(t){n.setState({isModalShown:!1},function(){n.props.onDataSourceAdded(e,t)})})},n.state={isModalShown:!1},n}return a(t,e),t.prototype.render=function(){return React.createElement("div",{className:"add-data-source-banner"},React.createElement(r.AddDataSourceModal,{isShown:this.state.isModalShown,onClose:this.onModalClosed,onDataSourceAdded:this.onDataSourceAdded,scriptVersionId:this.props.scriptVersionId}),React.createElement("div",{className:"add-data-source-banner__title"},"Add Data Source"),React.createElement("div",{className:"add-data-source-banner__body"},"Connect your Kernel to our library of datasets"),React.createElement(r.ButtonAutoWidth,{text:"Add a Data Source",onClick:this.onAddButtonClick}))},t}(React.Component);t.AddDataSourceBanner=i},,,,function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(40),s=function(e){function t(t){var n=e.call(this,t)||this;return n.onWindowPopState=function(e){e.state&&n.setState(e.state)},n.visitUrl=function(e,t){void 0===t&&(t=!1);var a={isNew:n.state.isNew,topicId:n.state.topicId};t?history.replaceState(a,document.title,e):history.pushState(a,document.title,e)},n.getUrl=function(){return""+n.props.url+(n.state.isNew?"/new":n.state.topicId?"/"+n.state.topicId:"")+(window.location.hash?window.location.hash:"")},n.state={isNew:n.props.isNew,topicId:n.props.topicId},n}return a(t,e),t.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"site-forum"},React.createElement("div",{className:"site-forum__header"},React.createElement(i.PageHeader,null,React.createElement(i.PageHeaderTopRow,{coverImageUrl:this.props.imageUrl,isEditingHeaderInfo:!1,subtitle:this.props.subtitle,title:this.props.name,titleUrl:this.props.url}),React.createElement(i.PageHeaderBottomRow,null,React.createElement(i.PageHeaderNav,{classNameModifier:"profile",menuLinks:this.props.forums.filter(function(e){return"Spam Posts"!==e.name&&"Deleted Posts"!==e.name}).map(function(e){return{href:e.url,title:e.name,text:e.name}}),overflowMenuLinks:this.props.forums.filter(function(e){return"Spam Posts"===e.name||"Deleted Posts"===e.name}).map(function(e){return{href:e.url,title:e.name,text:e.name}}),activeTab:this.props.name}),React.createElement(i.PageHeaderCallToAction,{onClick:function(){return e.setState({isNew:!0,topicId:null},function(){return e.visitUrl(e.getUrl())})},text:"New Topic",title:"New Topic"})))),React.createElement(i.Forum,r({},this.props,{forumId:this.props.id,isNew:this.state.isNew,onTopicClicked:function(t){return e.setState({topicId:t.id},function(){return e.visitUrl(e.getUrl())})},topicSubmitted:function(t){return e.setState({isNew:!1,topicId:t},function(){return e.visitUrl(e.getUrl())})},parentName:this.props.name,parentUrl:this.props.url,topicId:this.state.topicId})))},t}(React.Component);t.SiteForum=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(2),i=n(6),s=n(253),o=function(e){function t(t){var n=e.call(this,t)||this;n.mobileHeaderUpperBound=800,n.handleClick=function(e){r(e.target).closest(".site-header-react__user-nav").length||r(e.target).closest(".site-header-react__user").length||!n.state.shouldShowUserDropdown||n.setState({shouldShowUserDropdown:!1}),r(e.target).closest(".site-header-react__mobile-menu").length||r(e.target).closest(".site-header-react__mobile-menu-button").length||!n.state.shouldShowMobileMenu||n.setState({shouldShowMobileMenu:!1})},n.handleResize=function(){var e=window.innerWidth;n.setState({windowWidth:e,shouldShowMobileHeader:e<=n.mobileHeaderUpperBound})},n.updateSiteHeaderState=function(e,t){var a={};a[e]=t,n.setState(a)};var a=window.innerWidth;return n.state=r.extend({},n.props,{shouldShowUserDropdown:!1,shouldShowMobileHeader:a<=n.mobileHeaderUpperBound,windowWidth:a}),n}return a(t,e),t.prototype.componentDidMount=function(){window.addEventListener("touchstart",this.handleClick,!1),window.addEventListener("mousedown",this.handleClick,!1),window.addEventListener("resize",this.handleResize,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("touchstart",this.handleClick,!1),window.removeEventListener("mousedown",this.handleClick,!1),window.removeEventListener("resize",this.handleResize,!1)},t.prototype.render=function(){var e=[{itemUrl:"/competitions",itemName:"Competitions"},{itemUrl:"/datasets",itemName:"Datasets"},{itemUrl:"/kernels",itemName:"Kernels"},{itemUrl:"/discussion",itemName:"Discussion"},{itemUrl:"/jobs",itemName:"Jobs"}],t=[{itemUrl:"/competitions",itemName:"Competitions"},{itemUrl:"/datasets",itemName:"Datasets"},{itemUrl:"/kernels",itemName:"Kernels"},{itemUrl:"/jobs",itemName:"Jobs"},{itemUrl:"/rankings",itemName:"Kaggle Rankings"},{itemUrl:"/discussion",itemName:"Discussion"},{itemUrl:"/blog",itemName:"Blog"},{itemUrl:"/wiki",itemName:"Wiki"},{itemUrl:"/host",itemName:"Host a Competition"}];i.Current.isAdmin&&t.push({itemUrl:"/admin/home",itemName:"Admin"});var n={mainNavItems:e,mobileNavItems:t,userURL:i.Current.userProfileUrl,userDisplayName:i.Current.userDisplayName,userAvatarURL:i.Current.userThumbnailUrl,userIsAnonymous:i.Current.isAnonymous,updateSiteHeaderState:this.updateSiteHeaderState};return React.createElement(s.SiteHeader,r.extend({},this.state,n))},t}(React.Component);t.SiteHeaderContainer=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(12),i=n(33),s=n(6),o=n(254),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderMainNav=function(){return this.props.mainNavItems.length?React.createElement("nav",{className:"site-header-react__nav"},this.props.mainNavItems.map(function(e,t){return React.createElement("li",{key:t,className:"site-header-react__nav-item"},React.createElement("a",{href:e.itemUrl},e.itemName))})):null},t.prototype.renderMobileNav=function(){return this.props.mobileNavItems.length?React.createElement("nav",{className:"site-header-react__mobile-nav"},this.props.mobileNavItems.map(function(e,t){return React.createElement("li",{key:t,className:"site-header-react__mobile-nav-item"},React.createElement("a",{href:e.itemUrl},e.itemName))}),this.props.userIsAnonymous?null:React.createElement("li",{className:"site-header-react__mobile-nav-item site-header-react__mobile-nav-item--log-off"},React.createElement("a",{href:"/account/logoff"},"Log Out"))):null},t.prototype.renderUserDropdown=function(){var e={__html:this.props.userDisplayName};return React.createElement("div",{className:"site-header-react__user-nav-container"},React.createElement("nav",{className:"site-header-react__user-nav"},React.createElement("li",{className:"site-header-react__user-nav-item"},React.createElement("span",{className:"site-header-react__user-name"},"Signed in as ",React.createElement("span",{dangerouslySetInnerHTML:e}))),React.createElement("li",{className:"site-header-react__user-nav-item"},React.createElement("a",{href:this.props.userURL,className:"site-header-react__user-nav-link"},React.createElement("span",null,"My Profile"))),React.createElement("li",{className:"site-header-react__user-nav-item"},React.createElement("a",{href:"/rankings",className:"site-header-react__user-nav-link"},React.createElement("span",null,"Kaggle Rankings"))),React.createElement("li",{className:"site-header-react__user-nav-item"},React.createElement("a",{href:"/blog",className:"site-header-react__user-nav-link"},React.createElement("span",null,"Blog"))),React.createElement("li",{className:"site-header-react__user-nav-item"},React.createElement("a",{href:"/wiki",className:"site-header-react__user-nav-link"},React.createElement("span",null,"Wiki"))),React.createElement("li",{className:"site-header-react__user-nav-item"},React.createElement("a",{href:"/host",className:"site-header-react__user-nav-link"},React.createElement("span",null,"Host a Competition"))),s.Current.isAdmin?React.createElement("li",{className:"site-header-react__user-nav-item"},React.createElement("a",{href:"/admin/home",className:"site-header-react__user-nav-link"},React.createElement("span",null,"Admin"))):null,React.createElement("li",{className:"site-header-react__user-nav-item"},React.createElement("a",{href:"/account/logoff",className:"site-header-react__user-nav-link"},React.createElement("span",null,"Sign Out")))))},t.prototype.toggleUserDropdown=function(){this.props.updateSiteHeaderState("shouldShowUserDropdown",!this.props.shouldShowUserDropdown)},t.prototype.toggleMobileMenu=function(){this.props.updateSiteHeaderState("shouldShowMobileMenu",!this.props.shouldShowMobileMenu)},t.prototype.renderMobileMenu=function(){var e=this,t={__html:this.props.userDisplayName};return React.createElement("div",{className:"site-header-react__mobile-menu"},this.props.userIsAnonymous?React.createElement("div",{className:"site-header-react__mobile-menu--anonymous"},React.createElement("a",{className:"site-header-react__mobile-sign-up",href:"/account/register"},"Sign Up"),React.createElement("a",{className:"site-header-react__mobile-sign-in",href:"/account/login"},"Log In")):React.createElement("a",{href:this.props.userURL,className:"site-header-react__mobile-user"},React.createElement("img",{src:this.props.userAvatarURL,alt:this.props.userDisplayName+" avatar image",className:"site-header-react__mobile-avatar"}),React.createElement("span",{className:"site-header-react__mobile-user-name",dangerouslySetInnerHTML:t})),React.createElement(o.QuickSearchContainer,{placeholder:"Search kaggle",index:"global",suppressAutoFocus:!0}),this.renderMobileNav(),React.createElement("div",{className:"site-header-react__mobile-menu-close-wrapper"},React.createElement("span",{className:"site-header-react__mobile-menu-close",onClick:function(){return e.toggleMobileMenu()}},React.createElement("span",{className:"fa fa-times-circle-o"}),React.createElement("span",{className:"site-header-react__mobile-menu-close-text"},"Close"))))},t.prototype.renderMobileHeader=function(){var e=this;return React.createElement("div",{className:"site-header-react__mobile-content"},React.createElement("span",{className:"fa fa-bars site-header-react__mobile-menu-button",onClick:function(){return e.toggleMobileMenu()}}),React.createElement("div",{className:"site-header-react__mobile-logo"},React.createElement("a",{href:"/"},React.createElement("img",{alt:"Kaggle",src:"/static/images/site-logo.png"}))),this.props.shouldShowMobileMenu?this.renderMobileMenu():null)},t.prototype.renderDesktopHeader=function(){var e=this;return React.createElement("div",{className:"site-header-react__container"},s.Current.isAdmin?React.createElement("div",null,React.createElement("div",{className:"site-header-react__environment"},React.createElement("div",{className:"site-header-react__environment-side site-header-react__environment-side--left site-header-react__environment-side--"+(s.Current.isDebug||"localhost"!=s.Current.environment?s.Current.environment:"www")},"localhost"==s.Current.environment||"staging"==s.Current.environment?s.Current.environment:"live",s.Current.isDebug||"localhost"!=s.Current.environment?null:" in release mode"),React.createElement("div",{className:"site-header-react__environment-middle"}),React.createElement("div",{className:"site-header-react__environment-side site-header-react__environment-side--right site-header-react__environment-side--"+(s.Current.isDebug||"localhost"!=s.Current.environment?s.Current.environment:"www")},"localhost"==s.Current.environment||"staging"==s.Current.environment?s.Current.environment:"live",s.Current.isDebug||"localhost"!=s.Current.environment?null:" in release mode"))):null,React.createElement("div",{className:"site-header-react__content"},React.createElement("div",{className:"site-header-react__logo"},React.createElement("a",{href:"/"},React.createElement("img",{alt:"Kaggle",src:"/static/images/site-logo.png"}))),React.createElement("div",{className:"site-header-react__quick-search"},React.createElement(o.QuickSearchContainer,{placeholder:"Search kaggle",index:"global"})),this.renderMainNav(),React.createElement("div",{className:"site-header-react__user"},this.props.userIsAnonymous?React.createElement("ul",{className:"site-header-react__user--anonymous"},React.createElement("li",null,React.createElement(r.Button,{text:"Sign Up",isSmall:!0,href:"/account/register"})),React.createElement("li",null,React.createElement("a",{className:"site-header-react__sign-in-link",href:"/account/login"},"Log In"))):this.props.shouldShowUserDropdown?React.createElement("div",{className:"site-header-react__user--logged-in--active",onClick:function(){return e.toggleUserDropdown()}},React.createElement("ul",null,React.createElement("li",{className:"site-header-react__user-avatar"},React.createElement("span",{className:"fa fa-caret-down site-header-react__caret-down"}),React.createElement("img",{src:this.props.userAvatarURL}))),this.renderUserDropdown()):React.createElement(i.ToolTip,{tipText:"Profile & community"},React.createElement("div",{className:"site-header-react__user--logged-in",onClick:function(){return e.toggleUserDropdown()}},React.createElement("ul",null,React.createElement("li",{className:"site-header-react__user-avatar"},React.createElement("span",{className:"fa fa-caret-down site-header-react__caret-down"}),React.createElement("img",{src:this.props.userAvatarURL}))))))))},t.prototype.render=function(){return React.createElement("div",{className:"site-header-react"},this.props.shouldShowMobileHeader?this.renderMobileHeader():this.renderDesktopHeader())},t}(React.Component);t.SiteHeader=l},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(2),i=n(255),s=function(e){function t(t){var n=e.call(this,t)||this;return n.handleChange=function(e){return n.qTextBox=e,""===n.qTextBox.trim()?void n.handleClose():(n.timer&&clearInterval(n.timer),void(n.timer=window.setTimeout(function(){return n.executeSearch(n.qTextBox)},200)))},n.handleClose=function(){n.state.isClosed||(n.setState({isClosed:!0}),n.logSearchAction())},n.handleSearch=function(){n.executeSearch(n.qTextBox)},n.executeSearch=function(e){n.timer&&clearInterval(n.timer),n.qTextBox&&n.qTextBox.trim()&&r.ajax({url:"/search/quick/"+n.props.index,type:"POST",data:{q:e}}).done(function(t){n.qTextBox===e&&(n.qResults=e,n.setState({isClosed:!1,response:t}))})},n.handleClickResult=function(e,t,a){n.logSearchAction(e,t,a)},n.handleSelectionMove=function(e){if(n.state.response&&0!=n.state.response.results.length){var t=(null!=n.state.selectedItemIndex?n.state.selectedItemIndex:e<0?n.state.response.results.length:-1)+e;t<0&&(t=n.state.response.results.length-1),t>n.state.response.results.length-1&&(t=0),n.setState({selectedItemIndex:t})}},n.handleIndexSelection=function(e){n.setState({selectedItemIndex:e})},n.state={isClosed:!0},n}return a(t,e),t.prototype.logSearchAction=function(e,t,n){this.qResults&&r.ajax({url:"/search/log",type:"POST",data:{index:this.props.index,isQuick:!0,q:this.qResults,isSuccess:null!=e&&null!=t,rank:n,id:e,url:t}})},t.prototype.render=function(){var e={onChange:this.handleChange,placeholder:this.props.placeholder,response:this.state.response,onClose:this.handleClose,isClosed:this.state.isClosed,onClickResult:this.handleClickResult,rightJustifyResults:this.props.rightJustifyResults,isSiteSearch:"global"==this.props.index,selectedItemIndex:this.state.selectedItemIndex,onSelectionMove:this.handleSelectionMove,onIndexSelection:this.handleIndexSelection,onSearch:this.handleSearch,suppressAutoFocus:this.props.suppressAutoFocus};return React.createElement(i.QuickSearch,r.extend({},this.state,e))},t}(React.Component);t.QuickSearchContainer=s},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleKeyDown=function(e){if(27==e.keyCode&&t.props.onClose(),38==e.keyCode&&t.props.onSelectionMove(-1),40==e.keyCode&&t.props.onSelectionMove(1),13==e.keyCode){var n=document.getElementById("search-result-"+t.props.selectedItemIndex);n&&n.click()}},t.handleMouseUp=function(e){var n=$(".quick-search");n.is(e.target)||0!==n.has(e.target).length||t.props.onClose()},t.handleChange=function(e){t.props.onChange(e.target.value)},t.handleMouseOver=function(e){t.props.onIndexSelection(e)},t.handleClickResult=function(e,n){t.props.onIndexSelection(n);var a=t.props.response.results[n];t.props.onClickResult(a.key,a.url,a.rank)},t}return n(t,e),t.prototype.componentDidMount=function(){$(document.body).on("keydown",this.handleKeyDown),$(document.body).on("mouseup",this.handleMouseUp)},t.prototype.componentWillUnmount=function(){$(document.body).off("keydown",this.handleKeyDown),$(document.body).off("mouseup",this.handleMouseUp)},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"quick-search"},React.createElement("div",{className:"quick-search__search-box-container"},React.createElement("input",{className:"quick-search__search-box",type:"text",placeholder:this.props.placeholder||"Search",onChange:this.handleChange,tabIndex:this.props.isSiteSearch?1:null,autoFocus:this.props.isSiteSearch&&!this.props.suppressAutoFocus}),React.createElement("div",{className:"quick-search__button fa fa-search",onClick:function(){return e.props.onSearch()}})),this.props.isClosed?null:React.createElement("div",{className:"quick-search__results "+(this.props.rightJustifyResults?"quick-search__results--right":"")},this.props.response&&this.props.response.results&&this.props.response.results.length>0?this.props.response.results.map(function(t,n){return React.createElement("a",{id:"search-result-"+n,className:"quick-search__result "+(e.props.selectedItemIndex==n?"quick-search__result--selected":""),href:t.url,key:t.key,onClick:function(t){return e.handleClickResult(t,n)},onMouseOver:function(){return e.handleMouseOver(n)}},React.createElement("img",{className:"quick-search__result-thumbnail",src:t.thumbnailImageUrl}),React.createElement("div",{className:"quick-search__result-content"},React.createElement("div",{className:"quick-search__result-title"},t.title),React.createElement("div",{className:"quick-search__result-overview"},e.props.isSiteSearch?React.createElement("span",{className:"quick-search__result-type"},t.documentType):null,e.props.isSiteSearch&&t.subtitle?React.createElement("span",null," - "):null,t.subtitle?React.createElement("span",null,t.subtitle):null)))}):React.createElement("div",{className:"quick-search__not-found"},"We couldn't find anything matching your search. ¯\\_(ツ) _/¯")))},t}(React.Component);t.QuickSearch=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(2),i=n(112),s=n(257),o=n(205),l=n(40),c=function(e){function t(t){var n=e.call(this,t)||this;n.resizeListener=function(){return n.setState(n.getMenuLinks(n.state.isEditingHeader))},n.validationRules=[{isValid:function(){return!(!n.state.displayName||!n.state.displayName.trim())},id:"profile-no-display-name",message:function(){return"Please enter a display name."}},{isValid:function(){return!(n.state.displayName&&(n.state.displayName.trim().length<2||n.state.displayName.trim().length>50))},id:"profile-display-name-length",message:function(){return"Your display name must be between 2 and 50 characters in length."}},{isValid:function(){return!n.state.websiteUrl||l.isValidUrl(n.state.websiteUrl)},id:"profile-website-format",message:function(){return"Please enter a valid website URL."}},{isValid:function(){return!n.state.linkedInUrl||l.isValidUrl(n.state.linkedInUrl)},id:"profile-linkedin-format",message:function(){return"Please enter a valid LinkedIn URL."}}],n.onWindowPopState=function(e){e.state&&e.state.profileTabState&&n.setState(e.state.profileTabState)},n.onProfileTabChanged=function(e){o.PageMessages.clear(),n.checkHiddenTabMessage(e),n.setState({activePane:e,activeTab:e},function(){return n.updateUrlForTab(e)})},n.replaceUrlForTab=function(e){var t=window.history.state||{},a=n.props.userUrl;"home"!=e.toLowerCase()&&(a+="/"+e.toLowerCase()),history.replaceState(t,"",a)},n.updateUrlForTab=function(e){var t={};t.profileTabState={activePane:e,activeTab:e};var a=n.props.userUrl;"home"!=e.toLowerCase()&&(a+="/"+e.toLowerCase()),history.pushState(t,"",a)},n.onProfilePropChanged=function(e,t){var a={};a[e]=t,n.setState(a)},n.onProfileEditingStateCancelled=function(e,t){var a={},i={};a["isEditing"+e]=!1;for(var s=0,l=t;s<l.length;s++){var c=l[s];i[c]=n.props[c]}n.setState(r.extend({},a,i,n.getMenuLinks(!1)),function(){o.PageMessages.clear()})},n.onProfileEditingStateChanged=function(e){var t=n.state["isEditing"+e],a=n.getMenuLinks(!t);if(a["isEditing"+e]=!t,!t)return void n.setState(a);var i=n.getValidationPageMessages();o.PageMessages.clear(),o.PageMessages.add(i),i.length>0||n.setState(a,function(){var e={displayName:n.state.displayName,country:n.state.country,region:n.state.region,city:n.state.city,gitHubUserName:n.state.gitHubUserName,linkedInUrl:n.state.linkedInUrl,twitterUserName:n.state.twitterUserName,userAvatarUrl:n.state.userAvatarUrl,occupation:n.state.occupation,organization:n.state.organization,websiteUrl:n.state.websiteUrl};r.ajax({url:n.props.userUrl+".json",type:"PUT",contentType:"application/json",data:JSON.stringify(e),success:function(e){return"error"==e.status?void o.PageMessages.error({htmlMessage:e.message}):(n.setState({twitterUserName:e.twitterUserName,gitHubUserName:e.gitHubUserName}),
void o.PageMessages.success("Changes to your profile have been saved."))},error:function(e){o.PageMessages.error({htmlMessage:'There was a problem saving your profile changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'})}})})},n.onUpdateProfileImage=function(e,t){return e.append("userId",n.props.userId),e.append("imageLeft",t[0].left),e.append("imageTop",t[0].top),e.append("imageWidth",t[0].width),e.append("imageHeight",t[0].height),r.ajax({url:n.props.userUrl+"/image.json",type:"POST",dataType:"json",contentType:!1,processData:!1,data:e,success:function(e){r("body").css({overflow:"visible"}),r("html").css("overflow","visible"),n.setState({isEditingHeader:!1,userAvatarUrl:n.props.userAvatarUrl+"?r="+(new Date).getMilliseconds()}),o.PageMessages.success("Your profile image has been updated.")}})};var a,i=n.props.canEdit,s=n.props.competitionsSummary.totalResults,c=n.props.scriptsSummary.totalResults,p=n.props.discussionsSummary.totalResults,u=n.props.totalDatasets,d=n.props.totalOrganizations;switch(n.props.activePane.toLowerCase()){case"competitions":a=i||s>0?"competitions":"home";break;case"kernels":a=i||c>0?"kernels":"home";break;case"discussion":a=i||p>0?"discussion":"home";break;case"datasets":a=i||u>0?"datasets":"home";break;case"organizations":a=i||d>0?"organizations":"home";break;case"account":a=i?"account":"home";break;default:a="home"}return n.state=r.extend({},n.props,{activePane:a,activeTab:a,isEditingHeader:!1},n.getMenuLinks(!1)),n.replaceUrlForTab(a),n}return a(t,e),t.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1),window.removeEventListener("resize",this.resizeListener)},t.prototype.componentDidMount=function(){if(window.addEventListener("popstate",this.onWindowPopState,!1),window.addEventListener("resize",this.resizeListener),this.checkHiddenTabMessage(this.state.activePane),24266===this.props.userId){var e='In memory of Lucas, <a href="/forums/f/15/kaggle-forum/t/20388/data-scientist-hero/116473#post116473">a data scientist hero</a>';this.setState({pageMessages:[{type:"info",id:"tribute",htmlMessage:e}]})}},t.prototype.buildLink=function(e,t){return void 0===t&&(t=null),{count:null==t?null:i.numberWithCommas(t),href:"Home"==e?this.props.userUrl:this.props.userUrl+"/"+e.toLowerCase(),title:e,text:e,tab:e}},t.prototype.getMenuLinks=function(e){for(var t=document.body.clientWidth,n=this.props.canEdit,a=this.props.competitionsSummary.totalResults,r=this.props.scriptsSummary.totalResults,i=this.props.discussionsSummary.totalResults,s=this.props.totalDatasets,o=this.props.totalOrganizations,c=n?e?190:this.props.isAdmin&&this.props.userId!==l.Current.userId?230:121:136,p=Math.min(t,950)-c,u=67,d=[{link:this.buildLink("Home"),shouldShow:!0,width:72},{link:this.buildLink("Competitions",a),shouldShow:n||a>0,width:164},{link:this.buildLink("Kernels",r),shouldShow:n||r>0,width:122},{link:this.buildLink("Discussion",i),shouldShow:n||i>0,width:145},{link:this.buildLink("Datasets",s),shouldShow:(n||s>0)&&this.props.canCreateDatasets,width:130},{link:this.buildLink("Organizations",o),shouldShow:n||o>0,width:166},{link:this.buildLink("Account"),shouldShow:n||e,width:90}],m=[],h=[],f=0,g=d;f<g.length;f++){var v=g[f];v.shouldShow&&(v.width<p?(m.push(v.link),p-=v.width):(p<u&&h.push(m.pop()),h.push(v.link),p=u))}return{menuLinks:m,overflowMenuLinks:h}},t.prototype.getValidationPageMessages=function(e){var t=[];return this.validationRules.forEach(function(n){var a=t.filter(function(e){return e.id==n.id}).length>0;(n.isValid()&&a||!n.isValid()&&a&&!e)&&(t=t.filter(function(e){return e.id!=n.id})),n.isValid()||e||t.push({type:"error",id:n.id,message:n.message()})}),t},t.prototype.checkHiddenTabMessage=function(e){switch(e.toLowerCase()){case"competitions":this.showHiddenTabMessageIfNeeded("participate in a competition",this.props.competitionsSummary.totalResults);break;case"kernels":this.showHiddenTabMessageIfNeeded("create a kernel",this.props.scriptsSummary.totalResults);break;case"discussion":this.showHiddenTabMessageIfNeeded("participate in a discussion",this.props.discussionsSummary.totalResults);break;case"datasets":this.showHiddenTabMessageIfNeeded("create a dataset",this.props.totalDatasets);break;case"organizations":this.showHiddenTabMessageIfNeeded("join an organization",this.props.totalOrganizations)}},t.prototype.showHiddenTabMessageIfNeeded=function(e,t){this.props.canEdit&&0===t&&o.PageMessages.info("This tab is hidden from other users until you "+e+".")},t.prototype.render=function(){var e={onProfilePropChanged:this.onProfilePropChanged,onProfileEditingStateChanged:this.onProfileEditingStateChanged,onProfileEditingStateCancelled:this.onProfileEditingStateCancelled,onProfileTabChanged:this.onProfileTabChanged,onUpdateProfileImage:this.onUpdateProfileImage,userAvatarUrl:this.state.userAvatarUrl||this.props.userAvatarUrl};return React.createElement(s.Profile,r.extend({},this.state,e))},t}(React.Component);t.ProfileContainer=c},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(203),s=n(258),o=n(262),l=n(263),c=n(264),p=n(265),u=n(266),d=n(234),m=n(269),h=n(40),f=n(88),g=n(271),v=n(219),y=n(200),b=n(12),E=n(5),_=function(e){function t(t){var n=e.call(this,t)||this;return n.onCityChanged=function(e,t,a){n.props.onProfilePropChanged("city",e),n.props.onProfilePropChanged("region",t),n.props.onProfilePropChanged("country",a)},n.onUpdateImages=function(e,t){return n.props.onUpdateProfileImage(e,t).then(function(e){return n.setState({isEditingImage:!1})})},n.onOpenImageUploader=function(){n.setState({isEditingImage:!0})},n.onCloseImageUploader=function(){n.setState({isEditingImage:!1})},n.state={isEditingImage:!1},n}return a(t,e),t.prototype.getOverallTierName=function(){return"staff"===this.props.performanceTier?"Kaggle Team":this.props.performanceTierCategory+" "+this.props.performanceTier},t.prototype.getCityDescription=function(){var e=g.getCountryNameByCode(this.props.country)||this.props.country;return[this.props.city,this.props.region,e].filter(Boolean).join(", ")},t.prototype.renderDisplayName=function(){var e=this;return this.props.isEditingHeader&&this.props.canEdit?React.createElement(h.InlineTextEditor,{className:"profile__display-name--input",value:this.props.displayName,placeholder:"Enter your display name",onChangeCallback:function(t){return e.props.onProfilePropChanged("displayName",t)}}):React.createElement("span",null,this.props.displayName," ",this.props.genieUrl?React.createElement("a",{href:this.props.genieUrl,className:"profile__genie-link"},"Genie!"):null)},t.prototype.renderAdminCallToAction=function(){var e=this;return this.props.isEditingHeader?React.createElement("div",{className:"profile__cta-area"},React.createElement("a",{className:"profile__editing-cancel",onClick:function(){return e.props.onProfileEditingStateCancelled("Header",["displayName","gitHubUserName","linkedInUrl","twitterUserName","userAvatarUrl","country","region","city","occupation","organization","websiteUrl"])}},"cancel"),React.createElement("a",{className:"pageheader__calltoaction--active",onClick:function(){return e.props.onProfileEditingStateChanged("Header")},title:"Save Profile"},"Save Profile")):React.createElement("div",{className:"profile__cta-area"},this.props.userId!==h.Current.userId?React.createElement("a",{className:"profile__contact-user-link",onClick:function(){return e.props.onProfileTabChanged("contact")}},"Contact User"):null,React.createElement("a",{className:"pageheader__calltoaction",onClick:function(){return e.props.onProfileEditingStateChanged("Header")},title:"Edit Profile"},"Edit Profile"))},t.prototype.renderContactCallToAction=function(){var e=this;return React.createElement("a",{className:"pageheader__calltoaction",onClick:function(){return e.props.onProfileTabChanged("contact")},title:"Contact User"},"Contact User")},t.prototype.renderAvatarOverlay=function(){var e=React.createElement(v.ImageUploader,{title:"Upload Your Profile Image",imageSettings:[new v.ImageSetting("profile image","Select an area of the image to use for your profile",new v.Size(200,200),new v.Rectangle(new v.Point(0,0),new v.Size(0,0)))],originalImageUrl:null,containerSize:new v.Size(500,300),selectorBorderWidth:1,onCancel:this.onCloseImageUploader,onUpdateImages:this.onUpdateImages,hiResScale:2}),t=React.createElement(y.Modal,{buttonClassName:"pageheader__imageuploaderbutton",modalClassName:"pageheader__imageuploadermodal",modalContent:e,modalIsShown:this.state.isEditingImage,onShow:this.onOpenImageUploader,onClose:this.onCloseImageUploader});return React.createElement("div",{className:"profile__avatar-overlay"},t,React.createElement("p",{className:"profile__avatar-text",onClick:this.onOpenImageUploader},"Change Your Profile Photo"))},t.prototype.renderUserSocialLinks=function(){var e=this;return this.props.isEditingHeader?React.createElement("ul",{className:"profile__social-links--editing"},React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-github"}),React.createElement(h.InlineTextEditor,{className:"profile__social-link--input",value:this.props.gitHubUserName,placeholder:"GitHub Username",onChangeCallback:function(t){return e.props.onProfilePropChanged("gitHubUserName",t)}})),React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-twitter"}),React.createElement(h.InlineTextEditor,{className:"profile__social-link--input",value:this.props.twitterUserName,placeholder:"Twitter Username",onChangeCallback:function(t){return e.props.onProfilePropChanged("twitterUserName",t)}})),React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-linkedin"}),React.createElement(h.InlineTextEditor,{className:"profile__social-link--input",value:this.props.linkedInUrl,placeholder:"LinkedIn URL",onChangeCallback:function(t){return e.props.onProfilePropChanged("linkedInUrl",t)}})),React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-globe"}),React.createElement(h.InlineTextEditor,{className:"profile__social-link--input",value:this.props.websiteUrl,placeholder:"Website URL",onChangeCallback:function(t){return e.props.onProfilePropChanged("websiteUrl",t)}}))):React.createElement("ul",{className:"profile__social-links"},this.props.gitHubUserName&&this.props.gitHubUserName.length?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:"https://github.com/"+this.props.gitHubUserName,rel:"nofollow"},React.createElement("span",{className:"fa fa-github"}))):null,this.props.twitterUserName&&this.props.twitterUserName.length?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:"https://twitter.com/"+this.props.twitterUserName,rel:"nofollow"},React.createElement("span",{className:"fa fa-twitter"}))):null,this.props.linkedInUrl&&this.props.linkedInUrl.length?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:this.props.linkedInUrl,rel:"nofollow"},React.createElement("span",{className:"fa fa-linkedin"}))):null,this.props.websiteUrl&&this.props.websiteUrl.length?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:this.props.websiteUrl,className:"profile__social-link--url",rel:"nofollow"},this.props.websiteUrl)):null)},t.prototype.renderDatasetsPane=function(){var e=React.createElement(d.DatasetListReact,{banner:!1,canCreateNewDataset:!1,userId:this.props.userId});return this.props.totalDatasets>0||!this.props.canSeeCallToAction||this.props.userId!==h.Current.userId?e:React.createElement("div",null,React.createElement(E.ContentBox,null,React.createElement("div",{className:"profile__user-action-callout"},React.createElement("h4",null,"A data scientist with no data? No such thing!"),React.createElement("p",null,"Publish any dataset on Kaggle’s ",React.createElement("a",{href:"https://www.kaggle.com/datasets"},"open data platform"),", and your collection will grow here."),React.createElement("p",null,"Find other data enthusiasts with shared interests to discuss and collaborate for work or play."),React.createElement("div",{className:"profile__user-action-callout-button"},React.createElement(b.Button,{text:"New Dataset",href:"https://www.kaggle.com/datasets/new"})))),e)},t.prototype.renderActivePane=function(){switch(this.props.activePane.toLowerCase()){case"home":return React.createElement(m.HomeContainer,r({},this.props));case"competitions":return React.createElement(s.Competition,r({},this.props));case"kernels":return React.createElement(c.Scripts,r({},this.props));case"discussion":return React.createElement(o.Discussion,r({},this.props));case"contact":return React.createElement(l.Contact,r({},this.props));case"datasets":return this.renderDatasetsPane();case"organizations":return React.createElement(p.Organizations,r({},this.props));case"account":return this.props.canEdit?React.createElement(u.AccountContainer,{userName:this.props.userName}):React.createElement(m.HomeContainer,r({},this.props));default:return null}},t.prototype.renderNav=function(){var e=this;return React.createElement(i.PageHeaderNav,{activeTab:this.props.activeTab,classNameModifier:"profile",menuLinks:this.props.menuLinks,overflowMenuLinks:this.props.overflowMenuLinks,changeActiveTab:function(t){return e.props.onProfileTabChanged(t)}})},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"profile"},React.createElement("div",{className:"profile__header--"+this.props.performanceTier},React.createElement(i.PageHeader,null,React.createElement(i.PageHeaderTopRow,{modifier:"profile",title:this.renderDisplayName(),subtitle:"",isEditingHeaderInfo:!1,titleUrl:null},React.createElement(i.PageHeaderThumbnail,{classNameElement:"avatar",classNameModifier:"profile",imageUrl:this.props.userAvatarUrl,thumbnailOverlay:this.props.isEditingHeader?this.renderAvatarOverlay():null,targetUrl:""}),this.props.isEditingHeader?null:React.createElement("div",null,React.createElement(h.MediaQuery,{minWidth:0,maxWidth:h.Breakpoints.mobileMax},React.createElement("p",{className:"profile__user-metadata"},"Joined ",React.createElement(h.TimeAgo,{time:this.props.userJoinDate}),React.createElement("br",null),"last seen ",React.createElement(h.TimeAgo,{time:this.props.userLastActive,maxGranularity:"day"}))),React.createElement(h.MediaQuery,{minWidth:h.Breakpoints.tabletMin},React.createElement("p",{className:"profile__user-metadata"},"Joined ",React.createElement(h.TimeAgo,{time:this.props.userJoinDate}),this.props.userLastActive?React.createElement("span",null," · last seen ",React.createElement(h.TimeAgo,{time:this.props.userLastActive,maxGranularity:"day"})):null))),React.createElement(h.MediaQuery,{minWidth:h.Breakpoints.tabletMax},React.createElement("div",{className:"profile__user-tier profile__user-tier--"+this.props.performanceTier},React.createElement("a",{href:"/progression",title:"Progression"},React.createElement("p",null,React.createElement("img",{src:"/static/images/tiers/"+this.props.performanceTier+"@192.png",height:"92px",width:"92px"})),React.createElement("p",null,this.getOverallTierName())))),this.props.isEditingHeader&&this.props.canEdit?React.createElement("div",null,React.createElement("div",{className:"profile__user-occupation-edit"},React.createElement(h.InlineTextEditor,{className:"profile__user-occupation--input",value:this.props.occupation,placeholder:"Occupation",onChangeCallback:function(t){return e.props.onProfilePropChanged("occupation",t)}})," at ",React.createElement(h.InlineTextEditor,{className:"profile__user-occupation--input",value:this.props.organization,placeholder:"Organization",onChangeCallback:function(t){return e.props.onProfilePropChanged("organization",t)}})),React.createElement("div",{className:"profile__country-select"},React.createElement(f.CityLookup,{city:this.props.city,region:this.props.region,country:this.props.country,onChange:this.onCityChanged}))):React.createElement("div",null,React.createElement(h.MediaQuery,{minWidth:h.Breakpoints.tabletMax},React.createElement("div",null,React.createElement("p",{className:"profile__user-occupation"},(this.props.occupation||"")+" "+(this.props.occupation&&this.props.organization?"at":"")+" "+(this.props.organization||"")),React.createElement("p",{className:"profile__user-location"},this.getCityDescription()))),React.createElement(h.MediaQuery,{minWidth:h.Breakpoints.mobileMax,maxWidth:h.Breakpoints.tabletMax},React.createElement("div",null,React.createElement("p",{className:"profile__user-location"},(this.props.occupation||"")+" "+(this.props.occupation&&this.props.organization?"at":"")+" "+(this.props.organization||""),""+(this.props.occupation||this.props.organization?" · ":""),this.getCityDescription())))),this.renderUserSocialLinks()))),React.createElement("div",{className:"profile__wrapper"},React.createElement(i.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},React.createElement(h.MediaQuery,{minWidth:0,maxWidth:h.Breakpoints.tabletMax},React.createElement(h.OverflowX,null,this.renderNav())),React.createElement(h.MediaQuery,{minWidth:h.Breakpoints.desktopMin},this.renderNav()),React.createElement(h.MediaQuery,{minWidth:h.Breakpoints.desktopMin},this.props.canEdit?this.renderAdminCallToAction():this.renderContactCallToAction()))),React.createElement("div",{className:"profile__wrapper"},this.renderActivePane()))},t}(React.Component);t.Profile=_},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(2),s=n(206),o=n(7),l=n(32),c=n(34),p=n(29),u=n(259),d=n(260),m=n(261),h=n(112),f=[{value:"best",label:"Best Results"},{value:"recent",label:"Most Recent"}],g=[{value:"completed",label:"Completed"},{value:"active",label:"Active"},{value:"tutorial",label:"Tutorial"}],v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={competesWith:[]},n}return a(t,e),t.prototype.componentDidMount=function(){var e=this;i.get("/"+this.props.userName+"/competitions.json?includeStats=true").done(function(t){return e.setState(t)})},t.prototype.isTeamCompetition=function(e){return e.teamMembers.length>1},t.prototype.hasCompetitionEnded=function(e){return new Date(e.endDate)<new Date},t.prototype.getListTitle=function(){return this.state.totalCompetitions?React.createElement("span",null,React.createElement(h.FormatNumber,{number:this.state.totalCompetitions})," competitions entered"):" "},t.prototype.renderTimeAgo=function(e){return this.hasCompetitionEnded(e)?React.createElement(o.TimeAgo,{time:e.endDate}):"In progress"},t.prototype.renderRankingDescription=function(e){var t=e.ranking;return 1===t?this.hasCompetitionEnded(e)?React.createElement("span",{className:"profile-competitions__list-item-ranking-desc-winner"},"Winner"):React.createElement("span",null,"1st place"):t<=10?React.createElement("span",null,"Top 10"):React.createElement("span",null,"Top ",Math.round(100*t/e.totalCompetitors),"%")},t.prototype.renderTeamDescription=function(e){return this.isTeamCompetition(e)?React.createElement("span",null,e.totalEntries," submissions with team ",React.createElement("a",{href:e.teamUrl,className:"profile-competitions__team-link"},e.teamName)):React.createElement("span",null,e.totalEntries," entries as a solo competitor")},t.prototype.renderCompetitionListItem=function(e,t){return React.createElement(l.BlockLink,{key:t,href:e.competitionUrl},React.createElement("div",{className:"profile-competitions__list-item profile-competitions__list-item--"+(e.canQualifyTalent?"qualify":"no-qualify")},React.createElement("div",{className:"profile-competitions__list-item-thumbnail"},React.createElement("img",{src:e.thumbnailImageUrl,alt:e.competitionTitle})),React.createElement("div",{className:"profile-competitions__list-item-meta"},React.createElement("h2",{className:"profile-competitions__list-item-name"},React.createElement("a",{href:e.competitionUrl},e.competitionTitle)),React.createElement("div",{className:"profile-competitions__list-item-entries"},React.createElement("span",{className:"profile-competitions__list-item-entries--bold"},this.renderTimeAgo(e)," · Top ",Math.min(Math.ceil(e.ranking/e.totalCompetitors*100),100),"% ",e.canQualifyTalent?"":" · Competition Ineligible for Medals"),React.createElement("br",null),this.renderTeamDescription(e)),React.createElement("div",null,this.isTeamCompetition(e)?e.teamMembers.map(function(e,t){return React.createElement(c.Avatar,r({key:t},e,{width:30}))}):null)),React.createElement("div",{className:"profile-competitions__list-item-medal"},null!=e.medal?React.createElement("img",{src:"/static/images/medals/competitions/"+e.medal+"L@2x.png",title:e.medal}):React.createElement("div",{className:"profile-competitions__list-item-medal-spacer"}),React.createElement("div",{className:"profile-competitions__list-item-medal-rank-box"},React.createElement("div",{className:"profile-competitions__list-item-medal-rank"},React.createElement(m.FormatPlace,{number:e.ranking,superscript:!0})),React.createElement("div",{className:"profile-competitions__list-item-medal-teams"},"of ",e.totalCompetitors)))))},t.prototype.render=function(){return React.createElement("div",{className:"profile-competitions"},React.createElement(d.AchievementSummary,r({},this.props.competitionsSummary),React.createElement("div",{className:"achievement-summary__stats-wrapper"},React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.competitionsSummary.tier},"Competitions: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalCompetitions)),React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.competitionsSummary.tier},"Solo: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalSoloCompetitions," ",React.createElement("span",{className:"achievement-summary__stats-text--small"},this.state.totalSoloCompetitions?"("+Math.round(this.state.totalSoloCompetitions/this.state.totalCompetitions*100)+"%)":null," "))),React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.competitionsSummary.tier},"Team: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalTeamCompetitions," ",React.createElement("span",{className:"achievement-summary__stats-text--small"},this.state.totalTeamCompetitions?"("+Math.round(this.state.totalTeamCompetitions/this.state.totalCompetitions*100)+"%)":null," "))))),React.createElement(u.NextTier,{currentTier:this.props.competitionsSummary.tier,area:"competitions",userId:this.props.userId,tierRequirements:this.props.tierRequirements}),React.createElement(s.SmartListContainer,{titleResolver:this.getListTitle.bind(this),pluralItemDescription:"competitions",sortOptions:f,groups:g,data:this.state,dataUrl:"/"+this.props.userName+"/competitions.json",dataPathToList:"competitions",itemRenderer:this.renderCompetitionListItem.bind(this),mobileSortUpperBound:p.Breakpoints.tabletMax}))},t}(React.Component);t.Competition=v},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(24),i=n(6),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getNextTier=function(){var e=this,t=r.findIndex(this.props.tierRequirements,function(t){return t.tier===e.props.currentTier});return this.props.tierRequirements[t+1]},t.prototype.getRequirements=function(){var e=this;return this.getNextTier().requirements.filter(function(t){return!(t.isComplete||t.group&&t.group.toLowerCase()!==e.props.area)}).map(function(e){return e.label}).join(", ")},t.prototype.render=function(){return this.props.userId===i.Current.userId&&"grandmaster"!=this.props.currentTier?React.createElement("div",{className:"profile-next-tier profile-next-tier--"+this.getNextTier().tier},React.createElement("div",{className:"profile-next-tier__next-icon-box"},React.createElement("div",null,React.createElement("img",{src:"/static/images/tiers/"+this.getNextTier().tier+"@192.png",title:this.getNextTier().tier,height:"60",width:"60"}))),React.createElement("div",{className:"profile-next-tier__text"},React.createElement("div",{className:"profile-next-tier__title"},"Level up to ",React.createElement("span",{className:"profile-next-tier__capitalize"},this.props.area)," ",React.createElement("span",{className:"profile-next-tier__capitalize"},this.getNextTier().tier)),React.createElement("div",{className:"profile-next-tier__content"},this.getRequirements()))):null},t}(React.Component);t.NextTier=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(3),i=n(5),s=n(223),o=n(7),l=n(32),c=n(112),p=n(261),u=function(e){function t(t){var n=e.call(this,t)||this;return n.mode=t.children?"stats":"highlights",n}return a(t,e),t.prototype.formatNumber=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},t.prototype.getRank=function(){return"Top "+Math.min(Math.ceil(100*this.props.rankPercentage),100)+"%"},t.prototype.getTitle=function(){var e=this;return React.createElement("span",{className:"achievement-summary__title achievement-summary__title--"+(this.props.onProfileTabChanged?"link":"no-link"),onClick:this.props.onProfileTabChanged?function(){return e.props.onProfileTabChanged(e.props.summaryType)}:null},this.props.summaryType," ","stats"===this.mode?"Summary":this.props.tier)},t.prototype.getNoResultsMessage=function(){var e=this.props.summaryType.replace(/s$/,"");return"No "+e+" results"},t.prototype.shouldRenderComponent=function(){var e=!!this.props.children,t=!!this.props.highlights.length;return!e||t},t.prototype.renderScoreDescription=function(e){switch(this.props.summaryType){case"competitions":return React.createElement("div",null,React.createElement("p",null,React.createElement(p.FormatPlace,{number:e.score,superscript:!0})));default:return React.createElement("div",null,React.createElement("p",null,e.score),React.createElement("p",null,r("vote",e.score)))}},t.prototype.renderCompetitorCount=function(e){switch(this.props.summaryType){case"competitions":return React.createElement("div",{className:"achievement-summary__highlight__score-subtitle"},"of ",e.scoreOutOf);default:return React.createElement("div",null)}},t.prototype.renderRank=function(e){switch(this.props.summaryType){case"competitions":return React.createElement("span",null," · ","Top "+Math.min(Math.ceil(e.score/e.scoreOutOf*100),100)+"%");default:return React.createElement("span",null)}},t.prototype.renderMedal=function(e,t){return React.createElement("div",{className:"achievement-summary__medal achievement-summary__medal--"+t+" achievement-summary__medal--"+this.mode},React.createElement("p",null,React.createElement("img",{src:"/static/images/medals/"+this.props.summaryType+"/"+t+"L@1x.png",title:t})),React.createElement("p",null,e))},t.prototype.renderSmallMedal=function(e){return e?React.createElement("span",null,React.createElement("img",{src:"/static/images/medals/"+this.props.summaryType+"/"+e+"L@1x.png",title:e,height:"12px",width:"12 px",className:"achievement-summary__medal-small"})," · "):null},t.prototype.renderTeaserItem=function(e,t){return React.createElement(l.BlockLink,{href:e.url,key:t},React.createElement("div",{className:"achievement-summary__highlight"},React.createElement("div",{className:"achievement-summary__highlight__title"},React.createElement("p",null,React.createElement("a",{href:e.url,title:e.title},e.title)),React.createElement("p",{className:"achievement-summary__highlight__subtitle"},this.renderSmallMedal(e.medal),React.createElement(o.TimeAgo,{time:e.date}),this.renderRank(e))),React.createElement("div",{className:"achievement-summary__highlight__score"},this.renderScoreDescription(e)," ",this.renderCompetitorCount(e))))},t.prototype.renderTierIcon=function(){return React.createElement("img",{src:"/static/images/tiers/"+this.props.tier+"@48.png",title:this.props.tier,height:"30",width:"30"})},t.prototype.renderLargeTierIcon=function(){return React.createElement("img",{src:"/static/images/tiers/"+this.props.tier+"@192.png",title:this.props.tier,height:"70",width:"70"})},t.prototype.renderSummary=function(){return null!=this.props.rankCurrent&&this.props.highlights.length>0?this.props.rankCurrent>this.props.rankHighest?React.createElement("div",{className:"achievement-summary__rank-box-wrapper"},React.createElement("a",{href:"/rankings?group="+this.props.summaryType,className:"achievement-summary__rank-link"},React.createElement("div",{className:"achievement-summary__rank-box achievement-summary__rank-box--current"},React.createElement("div",{className:"achievement-summary__rank-label achievement-summary__rank-label--"+this.props.tier},"Current Rank"),React.createElement("div",{className:"achievement-summary__rank-text achievement-summary__rank-text--"+this.props.tier},this.props.rankCurrent),React.createElement("div",{className:"achievement-summary__rank-label--bottom"}," of ",React.createElement(c.FormatNumber,{number:this.props.rankOutOf})))),React.createElement("a",{href:"/rankings?group="+this.props.summaryType,className:"achievement-summary__rank-link"},React.createElement("div",{className:"achievement-summary__rank-box achievement-summary__rank-box--highest"},React.createElement("div",{className:"achievement-summary__rank-label achievement-summary__rank-label--"+this.props.tier},"Highest Rank"),React.createElement("div",{className:"achievement-summary__rank-text achievement-summary__rank-text--"+this.props.tier},this.props.rankHighest),React.createElement("div",{className:"achievement-summary__rank-label--bottom--empty"})))):React.createElement("a",{href:"/rankings?group="+this.props.summaryType,className:"achievement-summary__rank-link"},React.createElement("div",{className:"achievement-summary__rank-box"},React.createElement("div",{className:"achievement-summary__rank-label achievement-summary__rank-label--"+this.props.tier},"Rank"),React.createElement("div",{className:"achievement-summary__rank-text achievement-summary__rank-text--"+this.props.tier},this.props.rankCurrent),React.createElement("div",{className:"achievement-summary__rank-label--bottom"}," of ",React.createElement(c.FormatNumber,{number:this.props.rankOutOf})))):React.createElement("div",{className:"achievement-summary__rank-box"},React.createElement("a",{href:"/progression/",className:"achievement-summary__rank-link"},React.createElement("div",{className:"achievement-summary__rank-text achievement-summary__rank-text--smaller achievement-summary__rank-text--"+this.props.tier},"Unranked")))},t.prototype.render=function(){return this.shouldRenderComponent()?React.createElement(i.ContentBox,{
title:this.getTitle(),titleBarRightSide:"highlights"===this.mode?this.renderTierIcon():null,contentClassName:"achievement-summary__content-box"},React.createElement("div",{className:"achievement-summary achievement-summary--"+this.mode},"stats"===this.mode?React.createElement("div",{className:"achievement-summary__tier"},React.createElement("div",null,this.renderLargeTierIcon()),React.createElement("div",null,this.props.summaryType,React.createElement("br",null),this.props.tier)):null,React.createElement("div",{className:"achievement-summary__wrapper achievement-summary__wrapper--"+this.props.summaryType},React.createElement("div",{className:"achievement-summary__rank"},this.renderSummary()),React.createElement("div",{className:"achievement-summary__medals"},this.renderMedal(this.props.totalGoldMedals,"gold"),this.renderMedal(this.props.totalSilverMedals,"silver"),this.renderMedal(this.props.totalBronzeMedals,"bronze")),"highlights"===this.mode?React.createElement("div",{className:"achievement-summary__items"},React.createElement(s.TeaserList,{listItems:this.props.highlights,listItemRenderer:this.renderTeaserItem.bind(this),emptyListMessage:this.getNoResultsMessage()})):null),"stats"===this.mode?React.createElement("div",{className:"achievement-summary__stats"},this.props.children):null)):null},t}(React.Component);t.AchievementSummary=u},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(112),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getSuffix=function(){var e=this.props.number%100;if(e>10&&e<20)return"th";switch(this.props.number%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},t.prototype.render=function(){var e=this.props.superscript?{verticalAlign:"super",fontSize:"0.5em"}:{},t=React.createElement("span",{style:e},this.getSuffix());return React.createElement("span",null,React.createElement(r.FormatNumber,{number:this.props.number}),t)},t}(React.Component);t.FormatPlace=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(7),s=n(23),o=n(206),l=n(29),c=n(259),p=n(260),u=[{value:"mostVotes",label:"Most Votes"},{value:"latestPost",label:"Latest Post"}],d=[{value:"commentsAndTopics",label:"Comments and topics"},{value:"comments",label:"Comments"},{value:"topics",label:"Topics"},{separator:!0},{value:"upvoted",label:"Upvoted"}],m=398,h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return a(t,e),t.prototype.componentDidMount=function(){var e=this;$.get("/"+this.props.userName+"/discussion.json").done(function(t){return e.setState(t)})},t.prototype.onDidUpdate=function(){$(".profile-discussion__list-item").each(function(e,t){var n=$(t),a=n.outerHeight();a>m&&n.find(".profile-discussion__show-more").show()})},t.prototype.onShowMoreClicked=function(e){var t=$(e.target);t.parents(".profile-discussion__list-item").css("max-height","none"),t.parents(".profile-discussion__show-more").remove()},t.prototype.getTitle=function(e,t){return null!=this.state.totalTopics&&t.data&&!t.isLoadingMoreData?(t.data.totalDiscussions||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" "+t.values.group.replace(/([A-Z])/g," $1").toLowerCase():" "},t.prototype.renderTaglineLink=function(e){return React.createElement("a",{href:e.url},e.name)},t.prototype.renderTaglineLinkPost=function(e,t){return React.createElement("a",{href:e.url+"?forumMessageId="+t+"#post"+t},e.name)},t.prototype.renderTagline=function(e){switch(e.type){case"forumMessage":return React.createElement("div",null,React.createElement("div",{className:"profile-discussion__list-item-tagline-title"},"Comment in: ",this.renderTaglineLinkPost(e.forumTopic,e.id)),React.createElement("p",null,React.createElement(i.TimeAgo,{time:e.postDate})," in forum: ",this.renderTaglineLink(e.forum)));case"scriptComment":return React.createElement("div",null,React.createElement("div",{className:"profile-discussion__list-item-tagline-title"},"Comment on: ",this.renderTaglineLink(e.script)),React.createElement("p",null,React.createElement(i.TimeAgo,{time:e.postDate})," (kernel comment) "));case"forumTopic":return React.createElement("div",null,React.createElement("div",{className:"profile-discussion__list-item-tagline-title"},"Topic: ",this.renderTaglineLink(e.forumTopic)),React.createElement("p",null,React.createElement(i.TimeAgo,{time:e.postDate})," in forum: ",this.renderTaglineLink(e.forum)));default:return null}},t.prototype.renderDiscussionListItem=function(e,t){return React.createElement("div",{key:t,className:"profile-discussion__list-item"},React.createElement("div",{className:"profile-discussion__list-item-vote"},React.createElement(s.VoteButton,{totalVotes:e.totalScore,hasAlreadyVotedUp:e.vote.hasAlreadyVotedUp,hasAlreadyVotedDown:e.vote.hasAlreadyVotedDown,canUpvote:e.vote.canUpvote,canDownvote:e.vote.canDownvote,voteUpUrl:e.vote.voteUpUrl,voteDownUrl:e.vote.voteDownUrl}),e.medal?React.createElement("img",{src:"/static/images/medals/discussion/"+e.medal+"L@1x.png",title:e.medal,height:"25px",width:"25px"}):null),React.createElement("div",{className:"profile-discussion__list-item-section"},React.createElement("div",{className:"profile-discussion__list-item-tagline"},this.renderTagline(e),e.attachments.map(function(e){return React.createElement("div",null,React.createElement("a",{href:e.downloadUrl},e.fileName)," (",e.fileSizeDescription,")")}),React.createElement("p",null,"---")),React.createElement("div",{className:"profile-discussion__list-item-body"},React.createElement("div",{className:"profile-discussion__show-more",onClick:this.onShowMoreClicked},React.createElement("div",null," "),React.createElement("p",null,"Read full comment ",React.createElement("i",{className:"fa fa-chevron-down","aria-hidden":"true"}))),React.createElement("div",{className:"markdown-converter__text--rendered",dangerouslySetInnerHTML:{__html:e.message}}))))},t.prototype.render=function(){return React.createElement("div",{className:"profile-discussion"},React.createElement(p.AchievementSummary,r({},this.props.discussionsSummary),React.createElement("div",{className:"achievement-summary__stats-wrapper"},React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Total Posts: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalDiscussions)),React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Comments: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalReplies)),React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Topics: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalDiscussions?this.state.totalDiscussions-this.state.totalReplies:null)),React.createElement("div",{className:"achievement-summary__stats-divider"}),React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Net Votes: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalUpvotes)),React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.discussionsSummary.tier},"Votes/Post: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalUpvotes?Math.round(this.state.totalUpvotes/this.state.totalDiscussions*100)/100:null)))),React.createElement(c.NextTier,{currentTier:this.props.discussionsSummary.tier,area:"discussion",userId:this.props.userId,tierRequirements:this.props.tierRequirements}),React.createElement(o.SmartListContainer,{titleResolver:this.getTitle.bind(this),pluralItemDescription:"discussions",sortOptions:u,groups:d,data:this.state,dataUrl:"/"+this.props.userName+"/discussion.json",dataPathToList:"discussions",itemRenderer:this.renderDiscussionListItem.bind(this),onDidUpdate:this.onDidUpdate,mobileSortUpperBound:l.Breakpoints.tabletMax}))},t}(React.Component);t.Discussion=h},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(40),i=function(e){function t(t){var n=e.call(this,t)||this;return n.onSendEmail=function(){var e=$(n.refs.form).serializeArray();$.post(n.endpointUrl,e).then(function(e){r.PageMessages.clear(),e?(r.PageMessages.success("Your message has been sent"),n.setState({canSend:!1})):r.PageMessages.error("There was a problem sending your message")})},n.endpointUrl=n.props.userUrl+"/contact.json",n.state={hasLoaded:!1},n}return a(t,e),t.prototype.componentDidMount=function(){var e=this;$.get(this.endpointUrl).then(function(t){t.errorMessage&&r.PageMessages.error(t.errorMessage),t.infoMessage&&r.PageMessages.info(t.infoMessage),e.setState({hasLoaded:!0,canSend:t.canSend})})},t.prototype.render=function(){var e=this;return this.state.hasLoaded?React.createElement("div",{className:"profile-contact"},React.createElement(r.ContentBox,{title:"Contact User"},React.createElement("div",{className:"profile-contact__wrapper"},React.createElement("form",{ref:"form",disabled:!this.state.canSend},React.createElement("div",{className:"profile-contact__row"},React.createElement("label",{className:"profile-contact__row-label"},"To"),React.createElement("div",{className:"profile-contact__row-value"},this.props.displayName," ",React.createElement("span",{className:"profile-contact__confidential"},"<confidential> "))),React.createElement("div",{className:"profile-contact__row"},React.createElement("label",{className:"profile-contact__row-label"},"From"),React.createElement("div",{className:"profile-contact__row-value"},r.Current.userDisplayName," <",r.Current.userEmail,"> ")),React.createElement("div",{className:"profile-contact__row"},React.createElement("label",{className:"profile-contact__row-label"},"Subject"),React.createElement("div",{className:"profile-contact__row-value"},React.createElement("input",{type:"text",className:"profile-contact__subject",name:"subject",disabled:!this.state.canSend,autoFocus:!0}))),React.createElement("div",{className:"profile-contact__row"},React.createElement("textarea",{className:"profile-contact__body",name:"body",disabled:!this.state.canSend})),React.createElement("div",{className:"profile-contact__row"},React.createElement(r.Button,{text:"Send Email",onClick:this.onSendEmail,isDisabled:!this.state.canSend}),this.state.canSend?React.createElement("a",{className:"profile-contact__discard-link",onClick:function(){return e.props.onProfileTabChanged("home")}},"Discard"):null))))):null},t}(React.Component);t.Contact=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(2),s=n(5),o=n(260),l=n(1),c=n(259),p=n(6),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return a(t,e),t.prototype.componentDidMount=function(){var e=this;i.get("/"+this.props.userName+"/code.json").done(function(t){return e.setState(t)})},t.prototype.render=function(){var e=null;return this.props.canSeeCallToAction&&0===this.props.totalScripts&&this.props.userId===p.Current.userId&&(e=React.createElement(s.ContentBox,null,React.createElement("div",{className:"profile__user-action-callout"},React.createElement("h4",null,"In the words of your first math teacher, “Show your work”. "),React.createElement("p",null,"Any code you write and execute in ",React.createElement("a",{href:"https://www.kaggle.com/kernels"},"Kernels")," will be published here."),React.createElement("p",null,"A portfolio of models and dazzling visuals will attract collaborators, recruiters, and upvotes!")))),React.createElement("div",{className:"profile___scripts"},React.createElement(o.AchievementSummary,r({},this.props.scriptsSummary),React.createElement("div",{className:"achievement-summary__stats-wrapper"},React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.scriptsSummary.tier},"Upvotes: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalUpvotes)),React.createElement("div",null,React.createElement("span",{className:"achievement-summary__stats-label achievement-summary__stats-label--"+this.props.scriptsSummary.tier},"Forks: "),React.createElement("span",{className:"achievement-summary__stats-text"},this.state.totalForks)))),React.createElement(c.NextTier,{currentTier:this.props.scriptsSummary.tier,area:"kernels",userId:this.props.userId,tierRequirements:this.props.tierRequirements}),e,React.createElement(l.ScriptList,{listTitle:"Kernels",banner:!1,showFilters:!0,sourceBaseUrl:"/kernels/all/",userId:this.props.userId,languagesMetadataUrl:"/kernels/alllang",outputTypesMetadataUrl:"/kernels/allouttypes",loginAndReturnUrl:null,newNotebookUrl:null,newScriptUrl:null,showScriptProjectName:!0,showHiddenSelectionGroup:this.props.canEdit}))},t}(React.Component);t.Scripts=u},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(40),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderTitle=function(e){var n=t.props.totalOrganizations;return React.createElement("span",null,React.createElement(i.Pluralize,{count:n,word:"organization",formatNumber:!0})," joined")},t.renderOrganization=function(e){return React.createElement(i.OrganizationCard,r({},e,{key:e.url}))},t.renderFooter=function(e){return React.createElement("div",{className:"profile__organizations-footer"},React.createElement(i.Button,{href:"/organizations/new",text:"Create an organization"}))},t}return a(t,e),t.prototype.render=function(){return React.createElement(i.SmartListContainer,{titleResolver:this.renderTitle,dataUrl:this.props.userUrl+"/organizations.json",itemRenderer:this.renderOrganization,listFooterRenderer:this.renderFooter,pluralItemDescription:"organizations"})},t}(React.Component);t.Organizations=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(2),i=n(267),s=n(205),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state=n.getDefaultState(),n}return a(t,e),t.prototype.getDefaultState=function(){var e=this;return{onEditClick:this.onEditClick.bind(this),onSaveClick:this.onSaveClick.bind(this),onCancelClick:this.onCancelClick.bind(this),onUnlinkClick:this.onUnlinkClick.bind(this),onChangePasswordClick:this.onChangePasswordClick.bind(this),onCancelPasswordClick:this.onCancelPasswordClick.bind(this),onSavePasswordClick:this.onSavePasswordClick.bind(this),attributesForm:function(t){return e.attributesForm=t},changePasswordForm:function(t){return e.changePasswordForm=t},isEditing:!1,logins:[]}},t.prototype.getFormData=function(e){var t={};return r.each(r(e).serializeArray(),function(e,n){t[n.name]=n.value}),t},t.prototype.onChangePasswordClick=function(){this.setState({isShowingChangePassword:!0})},t.prototype.onCancelPasswordClick=function(){this.setState({isShowingChangePassword:!1})},t.prototype.onSavePasswordClick=function(){var e=this;r.ajax({url:"https://"+window.location.hostname+"/"+this.props.userName+"/password.json/",type:"PUT",data:this.getFormData(this.changePasswordForm)}).done(function(t){t.success?(e.setState({isShowingChangePassword:!1}),s.PageMessages.success("Your password has been changed.")):s.PageMessages.error("The current password is incorrect or the new password is invalid.")})},t.prototype.onEditClick=function(){this.setState({isEditing:!0,validation:[]})},t.prototype.onSaveClick=function(){var e=this;s.PageMessages.clear(),r.ajax({url:"/"+this.props.userName+"/account.json",type:"PUT",data:this.getFormData(this.attributesForm)}).done(function(t){e.setState(r.extend({isEditing:!1},t)),s.PageMessages.success("Your account settings have been changed.")}).fail(function(t){403===t.status?e.setState({validation:JSON.parse(t.responseText)}):s.PageMessages.error("An error has occurred. Please try again.")})},t.prototype.onCancelClick=function(){this.setState({isEditing:!1})},t.prototype.onUnlinkClick=function(e){var t=this;r.ajax({url:"/"+this.props.userName+"/account/link/"+e.loginProviderName.toLowerCase()+"/"+e.loginId+".json",type:"delete"}).done(function(e){t.setState(e),s.PageMessages.add(e.pageMessages)})},t.prototype.componentDidMount=function(){var e=this;r.get("/"+this.props.userName+"/account.json").done(function(t){return e.setState(t)})},t.prototype.render=function(){return React.createElement(i.Account,r.extend({},this.state,this.props))},t}(React.Component);t.AccountContainer=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(5),i=n(87),s=n(268),o=["Facebook","Google","Yahoo"],l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getFormattedDateOfBirth=function(){if(this.props.dateOfBirth){var e=this.props.dateOfBirth;return e.substring(0,4)+"/"+e.substring(5,7)+"/"+e.substring(8,10)}return null},t.prototype.getValidationMessage=function(e){return this.props.validation?(this.props.validation.filter(function(t){return t.key===e})[0]||{}).error:null},t.prototype.getIdentityProviders=function(){var e=this.props.logins.map(function(e){return e.loginProviderName});return o.filter(function(t){return e.indexOf(t)<0})},t.prototype.renderTitleBarRightSide=function(){return this.props.isEditing?React.createElement("div",{className:"account__multiple-button-container"},React.createElement("a",{className:"account__edit--cancel",onClick:this.props.onCancelClick},"cancel"),React.createElement("div",{className:"account__edit",onClick:this.props.onSaveClick},"Save")):React.createElement("div",{className:"account__edit",onClick:this.props.onEditClick},"Edit")},t.prototype.renderPhoneVerificationContent=function(){return this.props.isSmsVerified?"Verified":React.createElement("a",{href:this.props.verifyAccountUrl,className:"account__verify-account",title:"Verify you account"},"Not verified »")},t.prototype.renderAccountInfo=function(){var e=this;return React.createElement("form",{ref:function(t){return e.props.attributesForm(t)}},React.createElement(r.ContentBox,{title:this.props.userId?"Account (User ID "+this.props.userId+")":" ",titleBarRightSide:this.renderTitleBarRightSide()},React.createElement(s.AccountAttribute,{label:"User Name",value:this.props.userName,description:"Your username cannot be changed."}),React.createElement(s.AccountAttribute,{label:"Display Name",value:this.props.displayName,isEditing:this.props.isEditing,fieldName:"displayName",validationMessage:this.getValidationMessage("DisplayName"),description:"The name users will see publicly. We recommend using your full name."}),React.createElement(s.AccountAttribute,{label:"Date of Birth",isEditing:this.props.isEditing,fieldName:"dateOfBirth",validationMessage:this.getValidationMessage("DateOfBirth"),value:this.getFormattedDateOfBirth()}),React.createElement(s.AccountAttribute,{label:"Email Address",value:this.props.emailAddress,validationMessage:this.getValidationMessage("EmailAddress"),isEditing:this.props.isEditing,fieldName:"emailAddress"}),React.createElement(s.AccountAttribute,{label:"Phone Verification",value:this.renderPhoneVerificationContent()}),React.createElement("div",{className:"account__item"},React.createElement("label",null,"Email Preferences"),React.createElement("div",null,React.createElement(i.Checkbox,{isChecked:this.props.isSubscribedToMailingList,text:"Subscribe to mailing list for competition updates",isEditable:this.props.isEditing,textIsClickable:!0,formInputName:"isSubscribedToMailingList"}))),React.createElement("div",{className:"account__item"},React.createElement("a",{className:"account__close-account",href:"/account/delete"},"Close account..."))))},t.prototype.renderChangePassword=function(){var e=this;return this.props.isShowingChangePassword?React.createElement("form",{ref:function(t){return e.props.changePasswordForm(t)},className:"account__change-password"},React.createElement("div",null,React.createElement("label",null,"Current password"),React.createElement("p",null,React.createElement("input",{type:"password",name:"currentPassword"}))),React.createElement("div",null,React.createElement("label",null,"New password"),React.createElement("p",null,React.createElement("input",{type:"password",name:"newPassword"}))),React.createElement("div",null,React.createElement("label",null,"Confirm new password"),React.createElement("p",null,React.createElement("input",{type:"password",name:"confirmPassword"}))),React.createElement("span",{className:"account__change-password-buttons"},React.createElement("a",{onClick:this.props.onCancelPasswordClick},"Cancel"),React.createElement("a",{onClick:this.props.onSavePasswordClick},"Save"))):null},t.prototype.renderKaggleLogin=function(e,t){return React.createElement("div",{className:"account__login account__login--active",key:t},React.createElement("div",{className:"account__login-image--kaggle"}),React.createElement("div",null,React.createElement("div",null,React.createElement("h3",null,"Kaggle username"),React.createElement("p",null,this.props.userName||this.props.displayName," ",this.props.isShowingChangePassword?null:React.createElement("a",{onClick:this.props.onChangePasswordClick},"Change password »")),this.renderChangePassword())))},t.prototype.renderSocialLogin=function(e,t){var n=this;return React.createElement("div",{className:"account__login account__login--active",key:t},React.createElement("div",{className:"account__login-image--"+e.loginProviderName.toLowerCase()}),React.createElement("div",null,React.createElement("div",null,React.createElement("h3",null,e.loginProviderName," ",e.emailFromProvider?"email":"username"),React.createElement("p",null,e.emailFromProvider||e.loginIdentifier," ",React.createElement("a",{onClick:function(){return n.props.onUnlinkClick(e)}},"Unlink »")))))},t.prototype.renderLogins=function(){var e=this;return React.createElement(r.ContentBox,{title:"My logins"},React.createElement("div",{className:"account__item"},React.createElement("h2",null,"Active logins"),this.props.logins.map(function(t,n){return"Kaggle"===t.loginProviderName?e.renderKaggleLogin(t,n):e.renderSocialLogin(t,n)})),React.createElement("div",{className:"account__item"},React.createElement("h2",null,"Add additional logins"),React.createElement("p",null,"Link your profile to one or more of the services below for faster login and automatic bio information. We'll never share anything to your networks without your permission."),this.getIdentityProviders().map(function(t,n){return React.createElement("div",{className:"account__login",key:n},React.createElement("div",{className:"account__login-image--"+t.toLowerCase()}),React.createElement("a",{href:"/"+e.props.userName+"/account/link/"+t,className:"account__login-link--"+t.toLowerCase()},"Link to your ",t," account"))})))},t.prototype.render=function(){return React.createElement("div",{className:"account"},this.renderAccountInfo(),this.renderLogins())},t}(React.Component);t.Account=l},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getStringValue=function(){var e=this.props.value;return e},t.prototype.render=function(){return React.createElement("div",{className:"account__item"},React.createElement("label",null,this.props.label),this.props.isEditing&&this.props.fieldName?React.createElement("p",null,React.createElement("input",{type:"text",name:this.props.fieldName,defaultValue:this.getStringValue()})):React.createElement("p",{className:"account__attribute-value"},this.props.value," "),this.props.children,this.props.validationMessage&&this.props.isEditing?React.createElement("p",{className:"account__attribute-description account__attribute-description--error"},this.props.validationMessage):React.createElement("p",{className:"account__attribute-description"},this.props.description))},t}(React.Component);t.AccountAttribute=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(2),i=n(270),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={onBioMarkdownChanged:n.onBioMarkdownChanged.bind(n),onBioEditToggled:n.onBioEditToggled.bind(n),onBioEditCancelled:n.onBioEditCancelled.bind(n)},n}return a(t,e),t.prototype.onBioMarkdownChanged=function(e){this.bio=e},t.prototype.onBioEditCancelled=function(){this.setState({isEditingBio:!1})},t.prototype.onBioEditToggled=function(e){var t=this;this.state.isEditingBio&&"undefined"!=typeof this.bio?r.ajax({url:this.props.userUrl+"/bio.json",type:"PUT",contentType:"application/json",data:JSON.stringify({bio:this.bio}),success:function(e){t.setState({isEditingBio:!1,bio:t.bio})}}):this.setState({isEditingBio:!this.state.isEditingBio})},t.prototype.render=function(){return React.createElement(i.Home,r.extend({},this.props,this.state))},t}(React.Component);t.HomeContainer=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(5),s=n(41),o=n(260),l=n(29),c=n(170),p=n(115),u=n(166),d=(n(241)(),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderSummary=function(e){var t=!0;return t?React.createElement("div",{className:"profile__home__medal-summary"},React.createElement(o.AchievementSummary,r({},e,{onProfileTabChanged:this.props.onProfileTabChanged}))):null},t.prototype.renderEditToggleButton=function(){return this.props.canEdit?React.createElement(p.EditStateToggleButton,{isEditing:this.props.isEditingBio,sectionName:"Bio",cancelPropName:"cancel",cancelCallback:this.props.onBioEditCancelled,toggleCallback:this.props.onBioEditToggled}):null},t.prototype.render=function(){return React.createElement("div",{className:"profile__home"},React.createElement(l.MediaQuery,{minWidth:l.Breakpoints.desktopMin},React.createElement("div",{className:"profile__home__medals"},this.renderSummary(this.props.competitionsSummary),this.renderSummary(this.props.scriptsSummary),this.renderSummary(this.props.discussionsSummary))),this.props.canEdit||this.props.bio?React.createElement(i.ContentBox,{title:"Bio",titleBarRightSide:this.renderEditToggleButton()},React.createElement("div",{className:"profile__home__bio"},this.props.isEditingBio?React.createElement("div",{className:"profile__home__bio-editor"},React.createElement(c.MarkdownEditor,{defaultValue:this.props.bio,alwaysShowToolbar:!0,hidePreview:!0,shouldSanitizeHtml:!0,minRows:3,onChangeCallback:this.props.onBioMarkdownChanged})):React.createElement("div",{className:"profile__home__bio-text"},React.createElement(u.MarkdownConverter,{content:this.props.bio,insertNofollow:!0,mimeType:"text/markdown"})))):null,React.createElement(l.MediaQuery,{minWidth:0,maxWidth:l.Breakpoints.tabletMax},React.createElement("div",{className:"profile__home__medals"},this.renderSummary(this.props.competitionsSummary),this.renderSummary(this.props.scriptsSummary),this.renderSummary(this.props.discussionsSummary))),React.createElement(l.MediaQuery,{minWidth:l.Breakpoints.desktopMin},React.createElement(i.ContentBox,{title:"Activity"},React.createElement(s.ActivityCalendar,{dataUrl:this.props.activityUrl,tier:this.props.performanceTier}))))},t}(React.Component));t.Home=d},function(e,t){"use strict";function n(e){for(var n=0,a=t.CountryList;n<a.length;n++){var r=a[n];if(e==r.value)return r.label}return null}t.getCountryNameByCode=n,t.CountryList=[{label:"Afghanistan",value:"AF"},{label:"Albania",value:"AL"},{label:"Algeria",value:"DZ"},{label:"American Samoa",value:"AS"},{label:"Andorra",value:"AD"},{label:"Angola",value:"AO"},{label:"Anguilla",value:"AI"},{label:"Antarctica",value:"AQ"},{label:"Antigua & Barbuda",value:"AG"},{label:"Argentina",value:"AR"},{label:"Armenia",value:"AM"},{label:"Aruba",value:"AW"},{label:"Australia",value:"AU"},{label:"Austria",value:"AT"},{label:"Azerbaijan",value:"AZ"},{label:"Bahamas",value:"BS"},{label:"Bahrain",value:"BH"},{label:"Bangladesh",value:"BD"},{label:"Barbados",value:"BB"},{label:"Belarus",value:"BY"},{label:"Belgium",value:"BE"},{label:"Belize",value:"BZ"},{label:"Benin",value:"BJ"},{label:"Bermuda",value:"BM"},{label:"Bhutan",value:"BT"},{label:"Bolivia",value:"BO"},{label:"Bosnia",value:"BA"},{label:"Botswana",value:"BW"},{label:"Bouvet Island",value:"BV"},{label:"Brazil",value:"BR"},{label:"British Indian Ocean Territory",value:"IO"},{label:"British Virgin Islands",value:"VG"},{label:"Brunei",value:"BN"},{label:"Bulgaria",value:"BG"},{label:"Burkina Faso",value:"BF"},{label:"Burundi",value:"BI"},{label:"Cambodia",value:"KH"},{label:"Cameroon",value:"CM"},{label:"Canada",value:"CA"},{label:"Cape Verde",value:"CV"},{label:"Caribbean Netherlands",value:"BQ"},{label:"Cayman Islands",value:"KY"},{label:"Central African Republic",value:"CF"},{label:"Chad",value:"TD"},{label:"Chile",value:"CL"},{label:"China",value:"CN"},{label:"Christmas Island",value:"CX"},{label:"Cocos (Keeling) Islands",value:"CC"},{label:"Colombia",value:"CO"},{label:"Comoros",value:"KM"},{label:"Congo - Brazzaville",value:"CG"},{label:"Congo - Kinshasa",value:"CD"},{label:"Cook Islands",value:"CK"},{label:"Costa Rica",value:"CR"},{label:"Croatia",value:"HR"},{label:"Cuba",value:"CU"},{label:"Curaçao",value:"CW"},{label:"Cyprus",value:"CY"},{label:"Czech Republic",value:"CZ"},{label:"Côte d’Ivoire",value:"CI"},{label:"Denmark",value:"DK"},{label:"Djibouti",value:"DJ"},{label:"Dominica",value:"DM"},{label:"Dominican Republic",
value:"DO"},{label:"Ecuador",value:"EC"},{label:"Egypt",value:"EG"},{label:"El Salvador",value:"SV"},{label:"Equatorial Guinea",value:"GQ"},{label:"Eritrea",value:"ER"},{label:"Estonia",value:"EE"},{label:"Ethiopia",value:"ET"},{label:"Falkland Islands",value:"FK"},{label:"Faroe Islands",value:"FO"},{label:"Fiji",value:"FJ"},{label:"Finland",value:"FI"},{label:"France",value:"FR"},{label:"French Guiana",value:"GF"},{label:"French Polynesia",value:"PF"},{label:"French Southern Territories",value:"TF"},{label:"Gabon",value:"GA"},{label:"Gambia",value:"GM"},{label:"Georgia",value:"GE"},{label:"Germany",value:"DE"},{label:"Ghana",value:"GH"},{label:"Gibraltar",value:"GI"},{label:"Greece",value:"GR"},{label:"Greenland",value:"GL"},{label:"Grenada",value:"GD"},{label:"Guadeloupe",value:"GP"},{label:"Guam",value:"GU"},{label:"Guatemala",value:"GT"},{label:"Guernsey",value:"GG"},{label:"Guinea",value:"GN"},{label:"Guinea-Bissau",value:"GW"},{label:"Guyana",value:"GY"},{label:"Haiti",value:"HT"},{label:"Heard & McDonald Islands",value:"HM"},{label:"Honduras",value:"HN"},{label:"Hong Kong",value:"HK"},{label:"Hungary",value:"HU"},{label:"Iceland",value:"IS"},{label:"India",value:"IN"},{label:"Indonesia",value:"ID"},{label:"Iran",value:"IR"},{label:"Iraq",value:"IQ"},{label:"Ireland",value:"IE"},{label:"Isle of Man",value:"IM"},{label:"Israel",value:"IL"},{label:"Italy",value:"IT"},{label:"Jamaica",value:"JM"},{label:"Japan",value:"JP"},{label:"Jersey",value:"JE"},{label:"Jordan",value:"JO"},{label:"Kazakhstan",value:"KZ"},{label:"Kenya",value:"KE"},{label:"Kiribati",value:"KI"},{label:"Kuwait",value:"KW"},{label:"Kyrgyzstan",value:"KG"},{label:"Laos",value:"LA"},{label:"Latvia",value:"LV"},{label:"Lebanon",value:"LB"},{label:"Lesotho",value:"LS"},{label:"Liberia",value:"LR"},{label:"Libya",value:"LY"},{label:"Liechtenstein",value:"LI"},{label:"Lithuania",value:"LT"},{label:"Luxembourg",value:"LU"},{label:"Macau",value:"MO"},{label:"Macedonia",value:"MK"},{label:"Madagascar",value:"MG"},{label:"Malawi",value:"MW"},{label:"Malaysia",value:"MY"},{label:"Maldives",value:"MV"},{label:"Mali",value:"ML"},{label:"Malta",value:"MT"},{label:"Marshall Islands",value:"MH"},{label:"Martinique",value:"MQ"},{label:"Mauritania",value:"MR"},{label:"Mauritius",value:"MU"},{label:"Mayotte",value:"YT"},{label:"Mexico",value:"MX"},{label:"Micronesia",value:"FM"},{label:"Moldova",value:"MD"},{label:"Monaco",value:"MC"},{label:"Mongolia",value:"MN"},{label:"Montenegro",value:"ME"},{label:"Montserrat",value:"MS"},{label:"Morocco",value:"MA"},{label:"Mozambique",value:"MZ"},{label:"Myanmar",value:"MM"},{label:"Namibia",value:""},{label:"Nauru",value:"NR"},{label:"Nepal",value:"NP"},{label:"Netherlands",value:"NL"},{label:"New Caledonia",value:"NC"},{label:"New Zealand",value:"NZ"},{label:"Nicaragua",value:"NI"},{label:"Niger",value:"NE"},{label:"Nigeria",value:"NG"},{label:"Niue",value:"NU"},{label:"Norfolk Island",value:"NF"},{label:"North Korea",value:"KP"},{label:"Northern Mariana Islands",value:"MP"},{label:"Norway",value:"NO"},{label:"Oman",value:"OM"},{label:"Pakistan",value:"PK"},{label:"Palau",value:"PW"},{label:"Palestine",value:"PS"},{label:"Panama",value:"PA"},{label:"Papua New Guinea",value:"PG"},{label:"Paraguay",value:"PY"},{label:"Peru",value:"PE"},{label:"Philippines",value:"PH"},{label:"Pitcairn Islands",value:"PN"},{label:"Poland",value:"PL"},{label:"Portugal",value:"PT"},{label:"Puerto Rico",value:"PR"},{label:"Qatar",value:"QA"},{label:"Romania",value:"RO"},{label:"Russia",value:"RU"},{label:"Rwanda",value:"RW"},{label:"Réunion",value:"RE"},{label:"Samoa",value:"WS"},{label:"San Marino",value:"SM"},{label:"Saudi Arabia",value:"SA"},{label:"Senegal",value:"SN"},{label:"Serbia",value:"RS"},{label:"Seychelles",value:"SC"},{label:"Sierra Leone",value:"SL"},{label:"Singapore",value:"SG"},{label:"Sint Maarten",value:"SX"},{label:"Slovakia",value:"SK"},{label:"Slovenia",value:"SI"},{label:"Solomon Islands",value:"SB"},{label:"Somalia",value:"SO"},{label:"South Africa",value:"ZA"},{label:"South Georgia & South Sandwich Islands",value:"GS"},{label:"South Korea",value:"KR"},{label:"South Sudan",value:"SS"},{label:"Spain",value:"ES"},{label:"Sri Lanka",value:"LK"},{label:"St. Barthélemy",value:"BL"},{label:"St. Helena",value:"SH"},{label:"St. Kitts & Nevis",value:"KN"},{label:"St. Lucia",value:"LC"},{label:"St. Martin",value:"MF"},{label:"St. Pierre & Miquelon",value:"PM"},{label:"St. Vincent & Grenadines",value:"VC"},{label:"Sudan",value:"SD"},{label:"Suriname",value:"SR"},{label:"Svalbard & Jan Mayen",value:"SJ"},{label:"Swaziland",value:"SZ"},{label:"Sweden",value:"SE"},{label:"Switzerland",value:"CH"},{label:"Syria",value:"SY"},{label:"São Tomé & Príncipe",value:"ST"},{label:"Taiwan",value:"TW"},{label:"Tajikistan",value:"TJ"},{label:"Tanzania",value:"TZ"},{label:"Thailand",value:"TH"},{label:"Timor-Leste",value:"TL"},{label:"Togo",value:"TG"},{label:"Tokelau",value:"TK"},{label:"Tonga",value:"TO"},{label:"Trinidad & Tobago",value:"TT"},{label:"Tunisia",value:"TN"},{label:"Turkey",value:"TR"},{label:"Turkmenistan",value:"TM"},{label:"Turks & Caicos Islands",value:"TC"},{label:"Tuvalu",value:"TV"},{label:"U.S. Outlying Islands",value:"UM"},{label:"U.S. Virgin Islands",value:"VI"},{label:"Uganda",value:"UG"},{label:"Ukraine",value:"UA"},{label:"United States",value:"US"},{label:"United Kingdom",value:"GB"},{label:"United Arab Emirates",value:"AE"},{label:"Uruguay",value:"UY"},{label:"Uzbekistan",value:"UZ"},{label:"Vanuatu",value:"VU"},{label:"Vatican City",value:"VA"},{label:"Venezuela",value:"VE"},{label:"Vietnam",value:"VN"},{label:"Wallis & Futuna",value:"WF"},{label:"Western Sahara",value:"EH"},{label:"Yemen",value:"YE"},{label:"Zambia",value:"ZM"},{label:"Zimbabwe",value:"ZW"}]},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(3),i=n(112),s=n(206),o=n(32),l=n(7),c=n(6),p=n(11),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectionGroups=[{label:"Competitions",value:"competitions"},{label:"Kernels",value:"kernels"},{label:"Discussion",value:"discussion"}],t}return a(t,e),t.prototype.getRankText=function(e){return e.currentRanking?e.currentRanking:React.createElement("span",{className:"leaderboards__rank-text"},"unranked")},t.prototype.getCurrentCategory=function(){return this.category||this.props.group||this.selectionGroups[0].value},t.prototype.onSelectionsChanged=function(e,t){this.category=t},t.prototype.renderListHeaderCount=function(e,t){return React.createElement("div",{key:t,className:"leaderboards__list-header-count leaderboards__list-header-count--"+e.tier},React.createElement("img",{src:"/static/images/tiers/"+e.tier+"@96.png"}),React.createElement("div",null,React.createElement("div",null,i.numberWithCommas(e.count)),React.createElement("div",null,r(e.tier,e.count))))},t.prototype.renderListHeader=function(e,t){var n=t.data;return React.createElement("div",null,React.createElement("div",{className:"leaderboards__list-header"},n.counts.map(this.renderListHeaderCount)),React.createElement("div",{className:"leaderboards__item-wrapper leaderboards__item-wrapper--header"},React.createElement("div",{className:"leaderboards__rank"},"Rank"),React.createElement("div",{className:"leaderboards__tier"},"Tier"),React.createElement("div",{className:"leaderboards__avatar"},React.createElement("div",{className:"leaderboards__user-label"},"User")),React.createElement("div",{className:"leaderboards__name"}),React.createElement("div",{className:"leaderboards__medals"},React.createElement("div",{className:"leaderboards__medals-label"},"Medals")),React.createElement("div",{className:"leaderboards__points"},"Points")),n.userRanking&&(n.userRanking.currentRanking>5||!n.userRanking.currentRanking)?this.renderItem(n.userRanking,-1):null)},t.prototype.renderListFooter=function(e,t){var n=t.data,a=n.counts.filter(function(e){return["contributor","novice"].indexOf(e.tier)>=0}).reduce(function(e,t){return e.count+t.count});return React.createElement("div",null,React.createElement("div",{className:"leaderboards__list-footer"},i.numberWithCommas(a)," unranked Contributors and Novices"))},t.prototype.renderItem=function(e,t){return React.createElement(o.BlockLink,{key:t,href:e.userUrl},React.createElement("div",{className:"leaderboards__item-wrapper "+(e.userId===c.Current.userId?"leaderboards__item-wrapper--you":null)},React.createElement("div",{className:"leaderboards__rank"},this.getRankText(e)),React.createElement("div",{className:"leaderboards__tier"},React.createElement("img",{src:"/static/images/tiers/"+e.tier+"@96.png",title:e.tier})),React.createElement("div",{className:"leaderboards__avatar"},React.createElement("a",{href:e.userUrl},React.createElement("img",{src:e.thumbnailUrl}))),React.createElement("div",{className:"leaderboards__name"},React.createElement("p",null,React.createElement("a",{href:e.userUrl},e.displayName)),React.createElement("p",{className:"leaderboards__name-joined"},"joined ",React.createElement(l.TimeAgo,{time:e.joined}))),React.createElement("div",{className:"leaderboards__medals"},React.createElement("div",{className:"leaderboards__medal--gold"},React.createElement("div",{className:"leaderboards__medals-item"},React.createElement("img",{src:"/static/images/medals/"+this.getCurrentCategory()+"/GoldL@1x.png"})),React.createElement("div",{className:"leaderboards__medals-item"},React.createElement("span",null,e.totalGoldMedals))),React.createElement("div",{className:"leaderboards__medal--silver"},React.createElement("div",{className:"leaderboards__medals-item"},React.createElement("img",{src:"/static/images/medals/"+this.getCurrentCategory()+"/SilverL@1x.png"})),React.createElement("div",{className:"leaderboards__medals-item"},React.createElement("span",null,e.totalSilverMedals))),React.createElement("div",{className:"leaderboards__medal--bronze"},React.createElement("div",{className:"leaderboards__medals-item"},React.createElement("img",{src:"/static/images/medals/"+this.getCurrentCategory()+"/BronzeL@1x.png"})),React.createElement("div",{className:"leaderboards__medals-item"},React.createElement("span",null,e.totalBronzeMedals)))),React.createElement("div",{className:"leaderboards__points"},i.numberWithCommas(Math.round(e.points)))))},t.prototype.renderProgressionLink=function(){return React.createElement("a",{className:"leaderboards__learn-more-link",href:"/progression"},"Learn more about rankings ›")},t.prototype.render=function(){return React.createElement("div",{className:"leaderboards"},React.createElement(p.Banner,{title:"Kaggle Rankings",bannerImageClassName:"leaderboards__banner-image"}),React.createElement("div",{className:"leaderboards__wrapper"},React.createElement(s.SmartListContainer,{titleResolver:function(e,t){return i.numberWithCommas(t.data.totalUsers)+" users"},pluralItemDescription:"users",groups:this.selectionGroups,dataUrl:"/rankings.json",dataPathToList:"list",data:this.props,itemRenderer:this.renderItem.bind(this),listHeaderRenderer:this.renderListHeader.bind(this),listFooterRenderer:this.renderListFooter.bind(this),onSelectionsChanged:this.onSelectionsChanged.bind(this),titleBarRightSide:this.renderProgressionLink(),selectionGroupInTitle:!0,values:{group:this.props.group}})))},t}(React.Component);t.Leaderboards=u},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(2),i=n(40),s=n(274),o=n(205),l=function(e){function t(t){var n=e.call(this,t)||this;n.onProfileEditingStateChanged=function(e){if(!n.state.isSaving){var t={isSaving:!1},a=!n.state["isEditing"+e];if(t["isEditing"+e]=a,a)return void n.setState(t);var i=n.getValidationPageMessages();if(o.PageMessages.clear(),o.PageMessages.add(i),!(i.length>0)){var s={city:n.state.city,country:n.state.country,displayName:n.state.displayName,gitHubUserName:n.state.gitHubUserName,linkedInUrl:n.state.linkedInUrl,region:n.state.region,slug:n.state.slug,thumbnailImageUrl:n.state.thumbnailImageUrl,twitterUserName:n.state.twitterUserName,websiteUrl:n.state.websiteUrl,datasetMaxFileSizeMegabytes:n.state.datasetMaxFileSizeMegabytes};n.setState({isSaving:!0},function(){o.PageMessages.clear(),n.props.isNew?(s.overview=n.state.overview,r.ajax({url:"/organizations",type:"POST",contentType:"application/json",data:JSON.stringify(s),success:function(e){n.setState({twitterUserName:e.twitterUserName,gitHubUserName:e.gitHubUserName,isSaving:!1}),window.location.replace("/"+n.state.slug)},error:function(e){n.setState({isSaving:!1}),o.PageMessages.error({htmlMessage:'There was a problem saving your profile changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.',type:"error"});for(var t=0,a=JSON.parse(e.responseText);t<a.length;t++){var r=a[t];o.PageMessages.error(r.error)}}})):r.ajax({url:n.props.slug+".json",type:"PUT",contentType:"application/json",data:JSON.stringify(s),success:function(e){t.twitterUserName=e.twitterUserName,t.gitHubUserName=e.gitHubUserName,n.setState(t);var a="/"+n.state.slug;a!=window.location.pathname&&window.location.replace(a),o.PageMessages.success("Changes to your profile have been saved.")},error:function(e){n.setState(t),o.PageMessages.error({htmlMessage:'There was a problem saving your profile changes. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.',type:"error"});for(var a=0,r=JSON.parse(e.responseText);a<r.length;a++){var i=r[a];o.PageMessages.error(i.error)}}})})}}},n.onProfileEditingStateCancelled=function(e,t){var a={},i={};a["isEditing"+e]=!1;for(var s=0,l=t;s<l.length;s++){var c=l[s];i[c]=n.props[c]}n.setState(r.extend({},a,i),function(){o.PageMessages.clear()})},n.onProfilePropChanged=function(e,t){var a={};a[e]=t,n.setState(a)},n.onTabClicked=function(e){n.setState({activeTab:e},function(){return n.updateUrlForTab(e)})},n.onOverviewSaveClicked=function(e){return r.ajax({type:"PUT",url:n.props.slug+"/overview",contentType:"application/json",processData:!1,data:JSON.stringify({overview:e})})},n.onUserAddClicked=function(){r.ajax({contentType:"application/json",data:JSON.stringify({userName:n.state.userInput.value}),type:"POST",url:"/"+n.props.slug+"/users"}).fail(function(e){404==e.status&&(o.PageMessages.clear(),o.PageMessages.error("We had trouble locating the requested username or organization."))}).done(function(e){o.PageMessages.clear(),n.setState({users:e.users}),n.state.userInput.value=""})},n.onUserInputElementMounted=function(e){n.setState({userInput:e})},n.onUserRemoveClicked=function(e){r.ajax({url:"/"+n.props.slug+"/users/"+e,type:"DELETE"}).done(function(e){n.setState({activeTab:e.activeTab,canEdit:e.canEdit,users:e.users}),n.setState({menuLinks:n.getMenuLinks()})})},n.getMenuLinks=function(){var e=[],t=function(e){return{href:"/"+("Home"==e?n.props.slug:n.props.slug)+"/"+e.toLowerCase(),title:e,text:e,tab:e.toLowerCase()}};if(e.push(t("Home")),!n.props.isNew){var a=n.state.canEdit;(a||n.props.competitions.length>0)&&e.push(t("Competitions")),(a||n.props.datasets.length>0)&&e.push(t("Datasets")),(a||n.state.users.length>0)&&e.push(t("People"))}return e},n.replaceUrlForTab=function(e){if(!n.props.isNew){var t=window.history.state||{},a="/"+n.props.slug;"home"!=e.toLowerCase()&&(a+="/"+e.toLowerCase()),history.replaceState(t,"",a)}},n.updateUrlForTab=function(e){if(!n.props.isNew){var t={};t.profileTabState={activeTab:e};var a="/"+n.props.slug;"home"!=e.toLowerCase()&&(a+="/"+e.toLowerCase()),history.pushState(t,"",a)}},n.onWindowPopState=function(e){e.state&&e.state.profileTabState&&n.setState(e.state.profileTabState)},n.validationRules=[{isValid:function(){return n.state.displayName&&n.state.displayName.trim()},id:"organization-profile-no-name",message:function(){return"Please enter a display name."}},{isValid:function(){return n.state.displayName&&n.state.displayName.trim().length>=2&&n.state.displayName.trim().length<=50},id:"organization-profile-display-name-length",message:function(){return"Your display name must be between 2 and 50 characters in length."}},{isValid:function(){return!n.state.websiteUrl||i.isValidUrl(n.state.websiteUrl)},id:"organization-profile-website-format",message:function(){return"Please enter a valid website URL."}},{isValid:function(){return!n.state.linkedInUrl||i.isValidUrl(n.state.linkedInUrl)},id:"organization-profile-linkedin-format",message:function(){return"Please enter a valid LinkedIn URL."}},{isValid:function(){return n.state.thumbnailImageUrl&&n.state.thumbnailImageUrl.trim()},id:"organization-profile-no-thumbnail",message:function(){return"Please select a profile photo."}},{isValid:function(){return n.state.slug===n.props.slug||n.state.slug&&n.state.slug.trim()&&(n.props.isAdmin||n.state.slug.length>=6&&n.state.slug.length<=20)},id:"organization-profile-no-slug",message:function(){return"Please enter a permanent URL between 6 and 20 characters."}}],n.onOpenImageUploader=function(){n.setState({isEditingImage:!0})},n.onCloseImageUploader=function(){n.setState({isEditingImage:!1})},n.onUpdateImages=function(e,t){e.append("imageLeft",t[0].left),e.append("imageTop",t[0].top),e.append("imageWidth",t[0].width),e.append("imageHeight",t[0].height);var a=n.props.isNew?"/organizations/images":"/"+n.props.slug+"/image";return r.ajax({url:a,type:"POST",dataType:"json",contentType:!1,processData:!1,data:e,success:function(e){n.setState({isEditingImage:!1,thumbnailImageUrl:e.thumbnailImageUrl+"?r="+(new Date).getMilliseconds()}),o.PageMessages.success("The organization's profile image has been updated.")}})};var a,s=t.canEdit;switch(null==t.activeTab?"home":t.activeTab.toLowerCase()){case"competitions":a=s||t.competitions.length>0?"competitions":"home";break;case"datasets":a=s||t.datasets.length>0?"datasets":"home";break;case"people":a=s||t.users.length>0?"people":"home";break;default:a="home"}return n.replaceUrlForTab(a),n.state=r.extend({},n.props,{activeTab:a,canEdit:n.props.canEdit,isSaving:!1,users:n.props.users}),n.state=r.extend({},n.state,{menuLinks:n.getMenuLinks()}),n.helpers={onCloseImageUploader:n.onCloseImageUploader,onOpenImageUploader:n.onOpenImageUploader,onOverviewSaveClicked:n.onOverviewSaveClicked,onProfileEditingStateCancelled:n.onProfileEditingStateCancelled,onProfileEditingStateChanged:n.onProfileEditingStateChanged,onProfilePropChanged:n.onProfilePropChanged,onTabClicked:n.onTabClicked,onUpdateImages:n.onUpdateImages,onUserAddClicked:n.onUserAddClicked,onUserInputElementMounted:n.onUserInputElementMounted,onUserRemoveClicked:n.onUserRemoveClicked},n}return a(t,e),t.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},t.prototype.getValidationPageMessages=function(e){var t=[];return this.validationRules.forEach(function(n){var a=t.filter(function(e){return e.id==n.id}).length>0;(n.isValid()&&a||!n.isValid()&&a&&!e)&&(t=t.filter(function(e){return e.id!=n.id})),n.isValid()||e||t.push({type:"error",id:n.id,message:n.message()})}),t},t.prototype.render=function(){return React.createElement(s.OrganizationProfile,r.extend({},this.props,this.state,this.helpers))},t}(React.Component);t.OrganizationProfileContainer=l},function(e,t,n){"use strict";function a(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(t)?t:null}var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s=n(32),o=n(12),l=n(88),c=n(110),p=n(5),u=n(271),d=n(235),m=n(115),h=n(193),f=n(275),g=n(111),v=n(276),y=n(223),b=n(7),E=n(277),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderCompetitionTeaserItem=function(e,n){return t.renderTeaserItem(e.competitionUrl,e.thumbnailImageUrl,e.competitionTitle,e.deadline,n)},t.renderDatasetTeaserItem=function(e,n){return t.renderTeaserItem(e.datasetUrl,e.thumbnailImageUrl,e.title,e.dateUpdated,n)},t.renderPersonTeaserItem=function(e,n){return t.renderTeaserItem("."+e.slug,e.imageUrl,e.name,e.joinDate,n)},t}return r(t,e),t.prototype.getCityDescription=function(){var e=u.getCountryNameByCode(this.props.country)||this.props.country;return[this.props.city,this.props.region,e].filter(Boolean).join(", ")},t.prototype.renderActiveTab=function(){switch(this.props.activeTab.toLowerCase()){case"home":return this.renderHome();case"competitions":return this.renderCompetitions();case"datasets":return this.renderDatasets();case"people":return this.renderPeople();default:return null}},t.prototype.renderTeaserItem=function(e,t,n,a,r){return React.createElement(s.BlockLink,{href:e,key:r},React.createElement("div",{className:"organization-profile__home-teaser-item"},React.createElement("div",null,React.createElement("img",{src:t,title:n,className:"organization-profile__home-teaser-thumbnail"})),React.createElement("div",{className:"organization-profile__home-teaser-title"},React.createElement("div",null,React.createElement("a",{href:e},n)),React.createElement("div",{className:"organization-profile__home-teaser-time"},React.createElement(b.TimeAgo,{time:a,futureDateMessage:"In progress"})))))},t.prototype.renderHome=function(){var e=this;return React.createElement("div",{className:"organization-profile__profile-wrapper"},React.createElement("div",{className:"organization-profile__profile-row"},this.props.canEditSlug?React.createElement("div",{className:"organization-profile__power-settings"},React.createElement(p.ContentBox,{title:this.props.isNew?"Choose a Permanent URL":"Power settings",titleBarRightSide:React.createElement(m.EditStateToggleButton,{sectionName:"Description",cancelPropName:"description",isEditing:this.props.isEditingHeader,toggleCallback:function(){return e.props.onProfileEditingStateChanged("Header")},cancelCallback:function(){return e.props.onProfileEditingStateCancelled("Header",[])}})},React.createElement("section",{className:"organization-profile__section"},"https://www.kaggle.com/",this.props.isEditingHeader?React.createElement(h.InlineTextEditor,{className:"organization-profile__inline-slug-editor",value:this.props.slug,rejectedCharacterRegExp:/[^A-Za-z0-9-]+/g,onChangeCallback:function(t){return e.props.onProfilePropChanged("slug",t)}}):this.props.slug),this.props.isAdmin?React.createElement("section",{className:"organization-profile__section"},"Maximum dataset size (Mb): ",this.props.isEditingHeader?React.createElement(h.InlineTextEditor,{className:"organization-profile__inline-slug-editor",value:(this.props.datasetMaxFileSizeMegabytes||"").toString(),rejectedCharacterRegExp:/[^0-9]+/g,onChangeCallback:function(t){return e.props.onProfilePropChanged("datasetMaxFileSizeMegabytes",a(t))}}):this.props.datasetMaxFileSizeMegabytes||"Default"):null)):null,React.createElement("div",{className:"organization-profile__description"},React.createElement(f.MarkdownContentBox,{content:this.props.overview,canEdit:this.props.canEdit&&!this.props.isNew,contentBoxTitle:"About "+(this.props.isNew?"your organization":this.props.displayName),contentClassName:"organization-profile__description-content",isEditing:this.props.isNew,mimeType:"text/markdown",onChangeCallback:this.props.isNew?function(t){return e.props.onProfilePropChanged("overview",t)}:null,onSaveClicked:this.props.isNew?null:this.props.onOverviewSaveClicked})),this.props.users&&this.props.users.length>0?React.createElement("div",{className:"organization-profile__home-teaser organization-profile__home-teaser--people"},React.createElement(p.ContentBox,{title:React.createElement(g.Pluralize,{count:this.props.users.length,word:"people"}),onTitleClick:function(){return e.props.onTabClicked("people")},titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},React.createElement("div",{className:"organization-profile__home-teaser-wrapper"},React.createElement(y.TeaserList,{minItemHeight:1,listItems:this.props.users.slice(0,3),emptyListMessage:"",listItemRenderer:this.renderPersonTeaserItem})))):null),React.createElement("div",{className:"organization-profile__profile-row"},this.props.competitions&&this.props.competitions.length>0?React.createElement("div",{className:"organization-profile__home-teaser organization-profile__home-teaser--competitions"},React.createElement(p.ContentBox,{title:React.createElement(g.Pluralize,{count:this.props.competitions.length,word:"competition"}),onTitleClick:function(){return e.props.onTabClicked("competitions")},titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},React.createElement("div",{className:"organization-profile__home-teaser-wrapper"},React.createElement(y.TeaserList,{minItemHeight:1,listItems:this.props.competitions.slice(0,3),emptyListMessage:"",listItemRenderer:this.renderCompetitionTeaserItem})))):null,this.props.datasets&&this.props.datasets.length>0?React.createElement("div",{className:"organization-profile__home-teaser organization-profile__home-teaser--datasets"},React.createElement(p.ContentBox,{title:React.createElement(g.Pluralize,{count:this.props.datasets.length,word:"dataset"}),onTitleClick:function(){return e.props.onTabClicked("datasets")},titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},React.createElement("div",{className:"organization-profile__home-teaser-wrapper"},React.createElement(y.TeaserList,{minItemHeight:1,listItems:this.props.datasets.slice(0,3),emptyListMessage:"",listItemRenderer:this.renderDatasetTeaserItem})))):null))},t.prototype.renderCompetitions=function(){return React.createElement(p.ContentBox,{title:React.createElement(g.Pluralize,{count:this.props.competitions.length,word:"competition"})},this.props.competitions.map(function(e,t){return React.createElement(c.CompetitionCard,{key:t,competition:e})}))},t.prototype.renderDatasets=function(){return React.createElement(p.ContentBox,{title:React.createElement(g.Pluralize,{count:this.props.datasets.length,word:"dataset"})},this.props.datasets.map(function(e,t){return React.createElement(d.DatasetListItem,{key:t,dataset:e,hideOwnerAvatar:!0})}),this.props.canEdit?React.createElement("div",{className:"dataset-list-item organization-profile__new-dataset-container"},React.createElement(o.Button,{href:"/datasets/new?owner="+this.props.slug,text:"Create new dataset"})):null)},t.prototype.renderPeople=function(){var e=this;return React.createElement(p.ContentBox,{title:React.createElement(g.Pluralize,{count:this.props.users.length,word:"person"})},React.createElement("div",{className:"organization-profile__user-cards"},this.props.users.map(function(t){return React.createElement(E.UserCard,i({},t,{canEdit:e.props.canEdit,onRemoveClicked:e.props.onUserRemoveClicked,key:t.slug}))}),this.props.canEdit?React.createElement("div",{className:"organization-profile__user-editor"},React.createElement("i",{className:"organization-profile__user-editor-image fa fa-user"}),React.createElement("div",{className:"organization-profile__user-editor-info"},React.createElement("span",{className:"organization-profile__user-editor-header"},"Add a person to this organization"),React.createElement("input",{className:"organization-profile__user-editor-input",placeholder:"Enter username",ref:this.props.onUserInputElementMounted,type:"text"}),React.createElement("span",{className:"organization-profile__user-editor-button"},React.createElement(o.Button,{isSmall:!0,onClick:this.props.onUserAddClicked,text:"Add person"})))):null))},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"organization-profile"},React.createElement(v.ProfileHeader,{modifier:"organization",displayName:this.props.displayName,avatarUrl:this.props.thumbnailImageUrl?this.props.thumbnailImageUrl:"https://i0.wp.com/kaggle2.blob.core.windows.net/avatars/thumbnails/default-thumb.png?ssl=1",twitterUserName:this.props.twitterUserName,gitHubUserName:this.props.gitHubUserName,linkedInUrl:this.props.linkedInUrl,websiteUrl:this.props.websiteUrl,activeTab:this.props.activeTab,menuLinks:this.props.menuLinks,onProfilePropChanged:this.props.onProfilePropChanged,onProfileTabChanged:function(t){return e.props.onTabClicked(t)},rightThumbnailUrl:"/static/images/profile-organization.svg",rightThumbnailLabel:"Organization",hideWebsiteUrl:!0,canEdit:this.props.canEdit,isEditingHeader:this.props.isEditingHeader,isEditingImage:this.props.isEditingImage,onOpenImageUploader:this.props.onOpenImageUploader,onCloseImageUploader:this.props.onCloseImageUploader,onUpdateImages:this.props.onUpdateImages,renderAdminCallToAction:function(){return e.props.isEditingHeader?React.createElement("div",{className:"organization-profile__cta-area"},e.props.isNew||e.props.isSaving?null:React.createElement("a",{className:"organization-profile__editing-cancel",onClick:function(){return e.props.onProfileEditingStateCancelled("Header",["city","country","displayName","gitHubUserName","linkedInUrl","region","thumbnailImageUrl","twitterUserName","websiteUrl"])}},"cancel"),React.createElement("a",{className:e.props.isSaving?"organization-profile__save-button pageheader__calltoaction--muted":"pageheader__calltoaction--active",onClick:function(){return e.props.onProfileEditingStateChanged("Header")},title:"Save Profile"},"Save Profile")):React.createElement("div",{className:"organization-profile__cta-area"},React.createElement("a",{className:"pageheader__calltoaction",onClick:function(){return e.props.onProfileEditingStateChanged("Header")},title:"Edit Profile"},"Edit Profile"))}},this.props.canEdit&&this.props.isEditingHeader?React.createElement("div",null,React.createElement("div",{className:"organization-profile__country-select"},React.createElement(l.CityLookup,{city:this.props.city,region:this.props.region,country:this.props.country,onChange:function(t,n,a){e.props.onProfilePropChanged("city",t),e.props.onProfilePropChanged("region",n),e.props.onProfilePropChanged("country",a)}}))):React.createElement("div",null,this.getCityDescription().length>0?React.createElement("span",{className:"organization-profile__info"},this.getCityDescription()):null,React.createElement("span",{className:"organization-profile__info"},"Joined ",React.createElement(b.TimeAgo,{time:this.props.joinDate})),React.createElement("span",{className:"organization-profile__info"},React.createElement("a",{href:this.props.websiteUrl,rel:"nofollow",className:"organization-profile__website-url"},this.props.websiteUrl)))),React.createElement("div",{className:"organization-profile__wrapper"},this.renderActiveTab()))},t}(React.Component);t.OrganizationProfile=_},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(5),i=n(115),s=n(170),o=n(166),l=function(e){function t(t){var n=e.call(this,t)||this;return n.onContentChanged=function(e){n.editingContent=e,n.props.onChangeCallback&&n.props.onChangeCallback(e)},n.onToggleClicked=function(){var e=n.state.isEditing;e&&n.props.onSaveClicked?n.props.onSaveClicked(n.editingContent).then(function(){n.setState({isEditing:!1,content:n.editingContent})}):n.setState({isEditing:!0})},n.onCancelClicked=function(){n.setState({isEditing:!1})},n.renderEditButton=function(){return n.props.canEdit?React.createElement(i.EditStateToggleButton,{sectionName:"Description",cancelPropName:"description",
isEditing:n.state.isEditing,toggleCallback:n.onToggleClicked,cancelCallback:n.onCancelClicked}):null},n.renderMarkdownEditor=function(){return React.createElement("div",{className:"markdown-content-box__editor"},React.createElement(s.MarkdownEditor,{defaultValue:n.state.content,alwaysShowToolbar:!0,hidePreview:!0,shouldSanitizeHtml:!0,minRows:3,onChangeCallback:n.onContentChanged}))},n.renderMarkdownConverter=function(){return React.createElement("div",{className:"markdown-content-box__converter"},React.createElement(o.MarkdownConverter,{content:n.state.content,mimeType:n.props.mimeType,insertNofollow:!0,contentClassName:n.props.contentClassName}))},n.renderContentBody=function(){return n.state.isEditing?n.renderMarkdownEditor():n.renderMarkdownConverter()},n.editingContent=n.props.content,n.state={isEditing:n.props.isEditing,content:n.props.content},n}return a(t,e),t.prototype.render=function(){return React.createElement(r.ContentBox,{title:this.props.contentBoxTitle,titleBarRightSide:this.renderEditButton()},this.renderContentBody())},t}(React.Component);t.MarkdownContentBox=l},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(203),i=n(193),s=n(28),o=n(29),l=n(219),c=n(200),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderDisplayName=function(){var e=this;return this.props.isEditingHeader&&this.props.canEdit?React.createElement(i.InlineTextEditor,{className:"profile-header__display-name--input",value:this.props.displayName,placeholder:"Enter display name",onChangeCallback:function(t){return e.props.onProfilePropChanged("displayName",t)}}):React.createElement("span",null,this.props.displayName," ",this.props.genieUrl?React.createElement("a",{href:this.props.genieUrl,className:"profile__genie-link"},"Genie!"):null)},t.prototype.renderSocialLinks=function(){var e=this;return this.props.isEditingHeader?React.createElement("ul",{className:"profile__social-links--editing"},React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-github"}),React.createElement(i.InlineTextEditor,{className:"profile__social-link--input",value:this.props.gitHubUserName,placeholder:"GitHub Username",onChangeCallback:function(t){return e.props.onProfilePropChanged("gitHubUserName",t)}})),React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-twitter"}),React.createElement(i.InlineTextEditor,{className:"profile__social-link--input",value:this.props.twitterUserName,placeholder:"Twitter Username",onChangeCallback:function(t){return e.props.onProfilePropChanged("twitterUserName",t)}})),React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-linkedin"}),React.createElement(i.InlineTextEditor,{className:"profile__social-link--input",value:this.props.linkedInUrl,placeholder:"LinkedIn URL",onChangeCallback:function(t){return e.props.onProfilePropChanged("linkedInUrl",t)}})),React.createElement("li",{className:"profile__social-link--editing"},React.createElement("span",{className:"fa fa-globe"}),React.createElement(i.InlineTextEditor,{className:"profile__social-link--input",value:this.props.websiteUrl,placeholder:"Website URL",onChangeCallback:function(t){return e.props.onProfilePropChanged("websiteUrl",t)}}))):React.createElement("ul",{className:"profile__social-links"},this.props.gitHubUserName&&this.props.gitHubUserName.length?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:"https://github.com/"+this.props.gitHubUserName,rel:"nofollow"},React.createElement("span",{className:"fa fa-github"}))):null,this.props.twitterUserName&&this.props.twitterUserName.length?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:"https://twitter.com/"+this.props.twitterUserName,rel:"nofollow"},React.createElement("span",{className:"fa fa-twitter"}))):null,this.props.linkedInUrl&&this.props.linkedInUrl.length?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:this.props.linkedInUrl,rel:"nofollow"},React.createElement("span",{className:"fa fa-linkedin"}))):null,this.props.websiteUrl&&this.props.websiteUrl.length&&!this.props.hideWebsiteUrl?React.createElement("li",{className:"profile__social-link"},React.createElement("a",{href:this.props.websiteUrl,className:"profile__social-link--url",rel:"nofollow"},this.props.websiteUrl)):null)},t.prototype.renderAvatarOverlay=function(){var e=React.createElement(l.ImageUploader,{title:"Upload Organization Profile Image",imageSettings:[new l.ImageSetting("profile image","Select an area of the image to use for this organization's profile",new l.Size(200,200),new l.Rectangle(new l.Point(0,0),new l.Size(0,0)))],originalImageUrl:null,containerSize:new l.Size(500,300),selectorBorderWidth:1,onCancel:this.props.onCloseImageUploader,onUpdateImages:this.props.onUpdateImages,hiResScale:2}),t=React.createElement(c.Modal,{buttonClassName:"pageheader__imageuploaderbutton",modalClassName:"pageheader__imageuploadermodal",modalContent:e,modalIsShown:this.props.isEditingImage,onShow:this.props.onOpenImageUploader,onClose:this.props.onCloseImageUploader});return React.createElement("div",{className:"profile__avatar-overlay"},t,React.createElement("p",{className:"profile__avatar-text",onClick:this.props.onOpenImageUploader},"Change Organization Profile Photo"))},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"profile-header"},React.createElement("div",{className:"profile-header__header--"+this.props.modifier},React.createElement(r.PageHeader,null,React.createElement(r.PageHeaderTopRow,{modifier:"profile",title:this.renderDisplayName(),subtitle:"",isEditingHeaderInfo:this.props.isEditingHeader,canEdit:this.props.canEdit,titleUrl:null},React.createElement(r.PageHeaderThumbnail,{classNameElement:"avatar",classNameModifier:"profile",imageUrl:this.props.avatarUrl,targetUrl:"",thumbnailOverlay:this.props.isEditingHeader?this.renderAvatarOverlay():null}),React.createElement(o.MediaQuery,{minWidth:o.Breakpoints.tabletMax},React.createElement("div",{className:"profile-header__right-thumbnail profile-header__right-thumbnail--"+this.props.modifier},React.createElement("a",{href:this.props.rightThumbnailLinkUrl},React.createElement("p",null,React.createElement("img",{src:this.props.rightThumbnailUrl,height:"92px",width:"92px"})),React.createElement("p",null,this.props.rightThumbnailLabel)))),React.createElement("div",{className:"profile-header__metadata"},this.props.children),this.renderSocialLinks()))),React.createElement("div",{className:"profile__wrapper"},React.createElement(r.PageHeaderBottomRow,null,React.createElement(s.OverflowX,null,React.createElement(r.PageHeaderNav,{activeTab:this.props.activeTab,classNameModifier:"profile",menuLinks:this.props.menuLinks,changeActiveTab:function(t){return e.props.onProfileTabChanged(t)}}),React.createElement(o.MediaQuery,{minWidth:o.Breakpoints.desktopMin},this.props.canEdit?this.props.renderAdminCallToAction():null)))))},t}(React.Component);t.ProfileHeader=p},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(32),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement(r.BlockLink,{className:"organization-user-card",href:this.props.slug},React.createElement("img",{className:"organization-user-card__image",src:this.props.imageUrl,alt:this.props.name}),React.createElement("div",{className:"organization-user-card__info"},React.createElement("span",{className:"organization-user-card__name"},this.props.name,this.props.canEdit?React.createElement("a",{className:"organization-user-card__remove-link",onClick:function(){return e.props.onRemoveClicked(e.props.id)}},React.createElement("i",{className:"fa fa-remove"}),"  Remove"):null),React.createElement("span",{className:"organization-user-card__title"},this.props.occupation?this.props.organization?this.props.occupation+" at "+this.props.organization:this.props.occupation:""),React.createElement("span",{className:"organization-user-card__location"},this.props.location?this.props.location:"")))},t}(React.Component);t.UserCard=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(279),i=function(e){function t(t){var n=e.call(this,t)||this;return n.state=n.props,n}return a(t,e),t.prototype.render=function(){return React.createElement(r.Newsfeed,this.state)},t}(React.Component);t.NewsfeedContainer=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(206),s=n(5),o=n(280),l=n(32),c=n(7),p=n(34),u=n(281),d=n(282),m=n(283),h=n(284),f=n(285),g=n(286),v=n(287),y=n(288),b=n(289),E=n(290),_=n(291),R=n(292),w=(n(4),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderStoryContent=function(e){switch(e.storyType){case"blogPost":return React.createElement(d.NewsfeedBlog,r({},e));case"forumMessage":case"datasetMessage":case"competitionMessage":case"kernelMessage":case"forumTopic":case"datasetTopic":case"competitionTopic":return React.createElement(g.NewsfeedMessage,r({},e));case"kernel":case"kernelRun":return React.createElement(f.NewsfeedKernel,r({},e));case"competitionStarted":case"competitionEnded":case"competitionFinalized":return React.createElement(m.NewsfeedCompetition,r({},e));case"dataset":case"datasetVersion":return React.createElement(h.NewsfeedDataset,r({},e));case"blogPost":return React.createElement(d.NewsfeedBlog,r({},e));default:return null}},t.renderStory=function(e){return React.createElement("div",{className:"newsfeed__story-container",key:e.storyType+"-"+e.storyItemId},"kernel"!=e.storyType&&"kernelRun"!=e.storyType||e.kernel.kernelVisualizationUrl?React.createElement("div",{className:"newsfeed__story"},React.createElement(u.NewsfeedStoryHeader,r({},e)),React.createElement("div",{className:"newsfeed__story-content"},t.renderStoryContent(e))):React.createElement(u.NewsfeedStoryHeader,r({},e,{borderless:!0})))},t}return a(t,e),t.prototype.getStoryLink=function(e){switch(e.storyType){case"forumMessage":case"competitionMessage":case"datasetMessage":case"forumTopic":case"datasetTopic":case"competitionTopic":return e.discussion.topicUrl;case"kernelMessage":case"kernel":case"kernelRun":return e.kernel.kernelUrl;case"competitionStarted":case"competitionEnded":case"competitionFinalized":return e.competition.competitionUrl;case"dataset":case"datasetVersion":return e.dataset.datasetUrl;case"blogPost":return e.blog.blogUrl;default:return null}},t.prototype.render=function(){return React.createElement("div",{className:"newsfeed"},React.createElement("div",{className:"newsfeed__main-content"},React.createElement("div",{className:"newsfeed__story-list"},React.createElement(i.SmartListContainer,{dataUrl:"/newsfeed.json",data:this.props,dataPathToList:"stories",pluralItemDescription:"stories",itemRenderer:this.renderStory,isUnstyled:!0,pageSize:10})),React.createElement("div",{className:"newsfeed__sidebar-list"},React.createElement(s.ContentBox,null,React.createElement(l.BlockLink,{href:this.props.userUrl,className:"newsfeed__profile"},React.createElement(p.Avatar,{tier:this.props.userTier,width:50,thumbnailUrl:this.props.avatarUrl,displayName:this.props.userName,userUrl:this.props.userUrl}),React.createElement("div",{className:"newsfeed__profile-info"},React.createElement("div",{className:"newsfeed__profile-name"},React.createElement("a",{href:this.props.userUrl},this.props.userName)),React.createElement("div",{className:"newsfeed__profile-label"},"Joined ",React.createElement(c.TimeAgo,{time:this.props.userJoinDate})))),React.createElement("div",{className:"newsfeed__progression"},React.createElement(v.NewsfeedProgression,r({},this.props.progression)))),null!=this.props.banneredJob?React.createElement(s.ContentBox,null,React.createElement(l.BlockLink,{href:this.props.banneredJob.postUrl,className:"newsfeed__bannered-job",borderless:!0},React.createElement("div",null,React.createElement("img",{src:this.props.banneredJob.imageUrl,className:"newsfeed__bannered-job-image"})),React.createElement("div",{className:"newsfeed__bannered-job-text"},React.createElement("div",{className:"newsfeed__bannered-job-company"},this.props.banneredJob.company," is hiring"),React.createElement("div",{className:"newsfeed__bannered-job-position"},this.props.banneredJob.position),React.createElement("div",{className:"newsfeed__bannered-job-location"},React.createElement("span",{className:"fa fa-map-marker"})," ",this.props.banneredJob.location)))):null,React.createElement(o.SidebarContent,{title:"my"==this.props.competitionSidebarType?"My Competitions":"Recommended Competitions"},React.createElement("div",{className:"newsfeed__competitions-sidebar"},this.props.competitionSidebarList.map(function(e,t){return React.createElement(y.NewsfeedCompetitionSidebar,r({},e,{key:t}))}))),React.createElement(o.SidebarContent,{title:"recent"==this.props.datasetSidebarType?"Recent Datasets":"Recommended Datasets"},React.createElement("div",{className:"newsfeed__datasets-sidebar"},this.props.datasetSidebarList.map(function(e,t){return React.createElement(b.NewsfeedDatasetSidebar,r({},e,{key:t}))}))),React.createElement(o.SidebarContent,{title:"my"==this.props.kernelSidebarType?"My Kernels":"Recommended Kernels"},React.createElement("div",{className:"newsfeed__datasets-sidebar"},this.props.kernelSidebarList.map(function(e,t){return React.createElement(E.NewsfeedKernelSidebar,r({},e,{key:t}))}))),React.createElement(o.SidebarContent,{title:"recent"==this.props.topicSidebarType?"Recent Topics":"Recommended Topics"},React.createElement("div",{className:"newsfeed__discuttions-sidebar"},this.props.topicSidebarList.map(function(e,t){return React.createElement(R.NewsfeedTopicSidebar,r({},e,{key:t}))}))),React.createElement(o.SidebarContent,{title:"Recent Jobs",titleRightText:"See all jobs",titleRightHref:"/jobs"},React.createElement("div",{className:"newsfeed__jobs-sidebar"},this.props.jobsBoardSidebarList.map(function(e,t){return React.createElement(_.NewsfeedJobSidebar,r({},e,{key:t}))}))))))},t}(React.Component));t.Newsfeed=w},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return React.createElement("div",{className:"sidebar-content"},this.props.title?React.createElement("div",{className:"sidebar-content__title-container"},React.createElement("div",{className:"sidebar-content__title"},this.props.title),this.props.titleRightText?React.createElement("div",{className:"sidebar-content__title-right"},this.props.titleRightHref?React.createElement("a",{href:this.props.titleRightHref},this.props.titleRightText):this.props.titleRightText):null):null,React.createElement("div",{className:"sidebar-content__content"},this.props.children),this.props.footerText?React.createElement("div",{className:"sidebar-content__footer"},this.props.footerHref?React.createElement("a",{href:this.props.footerHref},this.props.footerText):this.props.footerText):null)},t}(React.Component);t.SidebarContent=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(7),i=n(34),s=n(23),o=n(111),l=n(4),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderLink=function(e,t){return React.createElement("a",{href:e},t)},t.prototype.renderActionText=function(){switch(this.props.storyType){case"forumMessage":case"competitionMessage":case"datasetMessage":return React.createElement("span",null," replied to ",this.renderLink(this.props.discussion.messageUrl,this.props.discussion.topicName));case"forumTopic":case"datasetTopic":case"competitionTopic":return React.createElement("span",null," created topic ",this.renderLink(this.props.discussion.topicUrl,this.props.discussion.topicName));case"kernelMessage":return React.createElement("span",null," commented on kernel ",this.renderLink(this.props.discussion.messageUrl,this.props.kernel.kernelName));case"competitionStarted":return React.createElement("span",null," launched competition ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName));case"competitionEnded":return React.createElement("span",null,"'s competition concluded ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName));case"competitionFinalized":return React.createElement("span",null,"'s competition finalized ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName));case"kernel":case"kernelRun":return React.createElement("span",null," ran kernel ",this.renderLink(this.props.kernel.kernelUrl,this.props.kernel.kernelName));case"dataset":return React.createElement("span",null," posted new dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle));case"datasetVersion":return React.createElement("span",null," updated dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle));case"blogPost":return React.createElement("span",null," posted blog ",this.renderLink(this.props.blog.blogUrl,this.props.blog.blogTitle));default:return null}},t.prototype.renderGrandParentText=function(){switch(this.props.storyType){case"forumMessage":case"competitionMessage":case"datasetMessage":case"forumTopic":case"datasetTopic":case"competitionTopic":return React.createElement("span",null," in ",this.renderLink(this.props.discussion.forumUrl,this.props.discussion.forumName),React.createElement("span",null," ∙ "),this.renderLink(this.props.comments.commentsUrl,React.createElement(o.Pluralize,{count:this.props.comments.commentCount,word:"comments"})));case"kernel":case"kernelRun":return React.createElement("span",null," on ",this.props.competition.competitionName?React.createElement("span",null,"competition ",this.renderLink(this.props.competition.competitionUrl,this.props.competition.competitionName)):React.createElement("span",null,"dataset ",this.renderLink(this.props.dataset.datasetUrl,this.props.dataset.datasetTitle)),React.createElement("span",null," ∙ "),this.renderLink(this.props.comments.commentsUrl,React.createElement(o.Pluralize,{count:this.props.comments.commentCount,word:"comments"})));default:return null}},t.prototype.render=function(){return React.createElement("div",{className:l("newsfeed-story-header",this.props.borderless?"newsfeed-story-header--borderless":"newsfeed-story-header--bordered")},this.props.vote?React.createElement("div",{className:"newsfeed-story-header__vote-button-container"},React.createElement(s.VoteButton,{voteUpUrl:this.props.vote.upvoteUrl,canDownvote:this.props.vote.canDownvote,canUpvote:this.props.vote.canUpvote,hasAlreadyVotedUp:this.props.vote.hasAlreadyUpvoted,hasAlreadyVotedDown:this.props.vote.hasAlreadyDownvoted,totalVotes:this.props.vote.voteCount,voteDownUrl:this.props.vote.downvoteUrl})):null,React.createElement("div",{className:l("newsfeed-story-header__avatar-container",this.props.vote?null:"newsfeed-story-header__avatar-container--no-voting")},React.createElement(i.Avatar,{tier:this.props.user.userTier,displayName:this.props.user.userDisplayName,thumbnailUrl:this.props.user.userAvatarUrl,userUrl:this.props.user.userUrl})),React.createElement("div",{className:"newsfeed-story-header__text-container"},React.createElement("div",{className:"newsfeed-story-header__label"},React.createElement("a",{href:this.props.user.userUrl},this.props.user.userDisplayName),this.renderActionText()),React.createElement("div",{className:"newsfeed-story-header__sublabel"},React.createElement(r.TimeAgo,{time:this.props.date}),this.renderGrandParentText())))},t}(React.Component);t.NewsfeedStoryHeader=c},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-blog"},React.createElement("img",{className:"newsfeed-blog__image",src:this.props.blog.blogImageUrl}),React.createElement("div",{className:"newsfeed-blog__summary",dangerouslySetInnerHTML:{__html:this.props.blog.blogSummary}}))},t}(React.Component);t.NewsfeedBlog=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(261),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-competition"},React.createElement("div",{className:"newsfeed-competition__content"},React.createElement("img",{src:this.props.competition.competitionImageUrl,className:"newsfeed-competition__image"}),React.createElement("div",{className:"newsfeed-competition__content-text-container"},React.createElement("a",{className:"newsfeed-competition__content-title",href:this.props.competition.competitionUrl},this.props.competition.competitionName),React.createElement("div",{className:"newsfeed-competition__content-overview"},this.props.competition.competitionOverview))),"competitionStarted"!=this.props.storyType?React.createElement("div",{className:"newsfeed-competition__results-container"},React.createElement("div",{className:"newsfeed-competition__results-label"},"competitionEnded"==this.props.storyType?"Preliminary Results":"Final Results"),this.props.competition.teams.map(function(e){return React.createElement("div",{className:"newsfeed-competition__results-team-container"},React.createElement("div",{className:"newsfeed-competition__results-team-rank"},React.createElement(r.FormatPlace,{number:e.rank})),1==e.users.length?React.createElement("a",{className:"newsfeed-competition__results-team-link",href:e.users[0].url},e.users[0].name):React.createElement("div",{className:"newsfeed-competition__results-team-group"},e.name," ",React.createElement("span",{className:"newsfeed-competition__results-team-user-list"},"(",e.users.map(function(t,n){return React.createElement("span",null,React.createElement("a",{className:"newsfeed-competition__results-team-user",href:t.url},t.name),n<e.users.length-1?", ":"")}),")")))}),"competitionEnded"==this.props.storyType?React.createElement("div",{className:"newsfeed-competition__preliminary-label"},"This reflects the preliminary standings - results will become final after the competition organizers verify the results."):null):null)},t}(React.Component);t.NewsfeedCompetition=i},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-dataset"},React.createElement("div",{className:"newsfeed-dataset__content"},React.createElement("img",{src:this.props.dataset.datasetImageUrl,className:"newsfeed-dataset__image"}),React.createElement("div",{className:"newsfeed-dataset__content-text-container"},React.createElement("a",{className:"newsfeed-dataset__content-title",href:this.props.dataset.datasetUrl},this.props.dataset.datasetTitle),React.createElement("div",{className:"newsfeed-dataset__content-overview"},this.props.dataset.datasetOverview))),"datasetVersion"==this.props.storyType?React.createElement("div",{className:"newsfeed-dataset__version-notes-container"},React.createElement("div",{className:"newsfeed-dataset__version-notes-label"},"Version notes"),React.createElement("div",{className:"newsfeed-dataset__version-notes-text"},this.props.dataset.datasetVersionNotes)):null)},t}(React.Component);t.NewsfeedDataset=a},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-kernel"},this.props.kernel.kernelVisualizationUrl?React.createElement("div",{className:"newsfeed-kernel__image-container"},React.createElement("a",{href:this.props.kernel.kernelUrl},React.createElement("img",{className:"newsfeed-kernel__image",src:this.props.kernel.kernelVisualizationUrl}))):null)},t}(React.Component);t.NewsfeedKernel=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(108),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-message"},React.createElement("div",{className:"newsfeed-message__content"},React.createElement(r.ForumMessageContent,{rawMarkdown:this.props.discussion.messageRawMarkdown,rawHtml:this.props.discussion.messageRawHtml})))},t}(React.Component);t.NewsfeedMessage=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(261),i=n(4),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderChecklistItem=function(e,t,n){return React.createElement("div",{className:i("newsfeed-progression__item","newsfeed-progression__item--"+(e.isComplete?"checked":"unchecked"),"newsfeed-progression__item--"+t),key:n},e.name)},t}return a(t,e),t.prototype.toTitleCase=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},t.prototype.renderTierList=function(e,t,n,a,s,o){var l=this;return React.createElement("div",{className:"newsfeed-progression"},React.createElement("a",{href:"grandmaster"==t?"/rankings?group="+e.toLowerCase():"/progression#"+s,className:i("newsfeed-progression__header","newsfeed-progression__header--"+t)},e," ",this.toTitleCase(t)),React.createElement("div",{className:"newsfeed-progression__list-container"},"grandmaster"==t?React.createElement("div",{className:"newsfeed-progression__ranking"},a?React.createElement("span",null,"Ranked ",React.createElement(r.FormatPlace,{number:a})):"Unranked"):o.map(function(e,n){return l.renderChecklistItem(e,t,n)})))},t.prototype.render=function(){var e=this;return this.props.isContributorOrHigher?React.createElement("div",null,this.renderTierList("Competitions",this.props.currentCompetitionTier,"competition",this.props.currentCompetitionRanking,this.props.nextCompetitionTier,this.props.competitionChecklist),this.renderTierList("Kernels",this.props.currentKernelTier,"scripts",this.props.currentKernelRanking,this.props.nextKernelTier,this.props.kernelChecklist),this.renderTierList("Discussion",this.props.currentDiscussionTier,"discussions",this.props.currentDiscussionRanking,this.props.nextDiscussionTier,this.props.discussionChecklist)):React.createElement("div",{className:"newsfeed-progression"},React.createElement("div",{className:"newsfeed-progression__header newsfeed-progression__header--novice"},"Novice"),React.createElement("div",null,this.props.contributorChecklist.map(function(t,n){return e.renderChecklistItem(t,"novice",n)})))},t}(React.Component);t.NewsfeedProgression=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(7),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-competition-sidebar"},React.createElement("div",{className:"newsfeed-competition-sidebar__container"},React.createElement("img",{src:this.props.imageUrl,className:"newsfeed-competition-sidebar__image"}),React.createElement("div",{className:"newsfeed-competition-sidebar__text-container"},React.createElement("div",{className:"newsfeed-competition-sidebar__title"},React.createElement("a",{href:this.props.competitionUrl},this.props.title)),React.createElement("div",{className:"newsfeed-competition-sidebar__sub-content"},React.createElement("div",{className:"newsfeed-competition-sidebar__hover-links"},React.createElement("ul",null,React.createElement("li",null,React.createElement("a",{href:this.props.leaderboardUrl},"Leaderboard")),React.createElement("li",null,React.createElement("a",{href:this.props.forumUrl},"Forum")),React.createElement("li",null,React.createElement("a",{href:this.props.submissionsUrl},"Submissions")))),React.createElement("div",{className:"newsfeed-competition-sidebar__remaining"},React.createElement("ul",null,this.props.ranking?React.createElement("li",null,this.props.ranking," of ",this.props.totalTeams):null,React.createElement("li",null,React.createElement(r.TimeAgo,{time:this.props.deadline,toGoOverride:"remaining"}))))))))},t}(React.Component);t.NewsfeedCompetitionSidebar=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(111),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-dataset-sidebar"},React.createElement("div",{className:"newsfeed-dataset-sidebar__container"},React.createElement("img",{src:this.props.imageUrl,className:"newsfeed-dataset-sidebar__image"}),React.createElement("div",{className:"newsfeed-dataset-sidebar__text-container"},React.createElement("div",{className:"newsfeed-dataset-sidebar__title"},React.createElement("a",{href:this.props.datasetUrl},this.props.title)),React.createElement("div",{className:"newsfeed-dataset-sidebar__sub-content"},this.props.kernelCount>0?React.createElement("a",{href:this.props.kernelsUrl},React.createElement(r.Pluralize,{count:this.props.kernelCount,word:"kernels"})):null,this.props.kernelCount>0&&this.props.topicCount>0?React.createElement("span",null," ∙ "):null,this.props.topicCount>0?React.createElement("a",{href:this.props.forumUrl},React.createElement(r.Pluralize,{
count:this.props.topicCount,word:"topics"})):null))))},t}(React.Component);t.NewsfeedDatasetSidebar=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(7),i=n(111),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-kernel-sidebar"},React.createElement("div",{className:"newsfeed-kernel-sidebar__container"},React.createElement("img",{src:this.props.imageUrl,className:"newsfeed-kernel-sidebar__image"}),React.createElement("div",{className:"newsfeed-kernel-sidebar__text-container"},React.createElement("div",{className:"newsfeed-kernel-sidebar__title"},React.createElement("a",{href:this.props.kernelUrl},this.props.title)),React.createElement("div",{className:"newsfeed-kernel-sidebar__sub-content"},React.createElement("ul",null,React.createElement("li",null,React.createElement(r.TimeAgo,{time:this.props.lastRunDate})),React.createElement("li",null,React.createElement(i.Pluralize,{count:this.props.voteCount,word:"votes"})),React.createElement("li",null,React.createElement("a",{href:this.props.commentsUrl},React.createElement(i.Pluralize,{count:this.props.commentCount,word:"comments"}))))))))},t}(React.Component);t.NewsfeedKernelSidebar=s},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-job-sidebar"},React.createElement("div",{className:"newsfeed-job-sidebar__container"},React.createElement("img",{src:this.props.imageUrl,className:"newsfeed-job-sidebar__image"}),React.createElement("div",{className:"newsfeed-job-sidebar__text-container"},React.createElement("div",{className:"newsfeed-job-sidebar__title"},React.createElement("a",{href:this.props.postUrl},this.props.position)),React.createElement("div",{className:"newsfeed-job-sidebar__sub-content"},this.props.company," ",React.createElement("span",null," ∙ "),React.createElement("span",{className:"fa fa-map-marker"})," ",this.props.location))))},t}(React.Component);t.NewsfeedJobSidebar=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(7),i=n(111),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement("div",{className:"newsfeed-topic-sidebar"},React.createElement("div",{className:"newsfeed-topic-sidebar__container"},React.createElement("img",{src:this.props.avatarUrl,className:"newsfeed-topic-sidebar__image"}),React.createElement("div",{className:"newsfeed-topic-sidebar__text-container"},React.createElement("div",{className:"newsfeed-topic-sidebar__title"},React.createElement("a",{href:this.props.topicUrl},this.props.topicName)),React.createElement("div",{className:"newsfeed-topic-sidebar__sub-content"},React.createElement("ul",null,React.createElement("li",null,React.createElement(r.TimeAgo,{time:this.props.lastUserMessageDate})),React.createElement("li",null,React.createElement("a",{href:this.props.topicUrl},React.createElement(i.Pluralize,{count:this.props.totalPosts,word:"comments"}))))))))},t}(React.Component);t.NewsfeedTopicSidebar=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(40),i=function(e){function t(t){var n=e.call(this,t)||this;return n.renderTitle=function(e,t){if(t.isLoadingMoreData)return" ";var a="competition",i="";switch(t.values.group){case"active":a="active competition";break;case"entered":i="you've entered";break;case"hosted":i="you've hosted"}var s=t.data?t.data.totalCompetitions:n.props.totalCompetitions;return t.data?React.createElement("span",null,React.createElement(r.Pluralize,{count:s,word:a,formatNumber:!0})," ",i):" "},n.renderCompetition=function(e,t,n){return React.createElement(r.CompetitionCard,{key:e.competitionId,competition:e,onClick:n})},n.filters=[{placeholder:"Segment",parameter:"segment",options:n.props.hostSegmentOptions}],n}return a(t,e),t.prototype.render=function(){return React.createElement("div",{className:"view-competition-list"},React.createElement(r.Banner,{title:"Competitions",infoTitle:"Welcome to Kaggle Competitions",infoSubtitle:"Challenge yourself with real-world machine learning problems",infoBanner:this.props.banner,bannerImageClassName:"view-competition-list__banner-image",panels:[{imageSrc:"/static/images/comps-1-new.png",title:"New to Data Science?",description:React.createElement("span",null,"Get started with a tutorial on our most popular competition for beginners,",React.createElement("span",null," "),React.createElement("a",{href:"/c/titanic",className:"view-competition-list__banner_link"},"Titanic: Machine Learning from Disaster"),".")},{imageSrc:"/static/images/comps-2-build.png",title:"Build a Model",description:"Get the data & use whatever tools or methods you prefer to make predictions."},{imageSrc:"/static/images/comps-3-submit.png",title:"Make a Submission",description:"Upload your prediction file for real-time scoring & a spot on the leaderboard."}]}),React.createElement("div",{className:"view-competition-list__wrapper"},React.createElement(r.SmartListContainer,{titleResolver:this.renderTitle,data:this.props,dataUrl:"/competitions.json",dataPathToList:"competitions",groups:this.props.selectionGroupOptions,sortOptions:this.props.sortByOptions,itemRenderer:this.renderCompetition,pluralItemDescription:"competitions",mobileSortUpperBound:r.Breakpoints.tabletMax,filtersOptions:this.filters,searchIndex:"competitions",values:this.props.values,groupDefaultSortBys:[{group:"active",sortBy:"prize"},{group:"all",sortBy:"deadline"}],searchableGroups:["active","all"],groupSearchRedirects:[{searchedGroup:"active",redirectToGroup:"all"}]})))},t}(React.Component);t.ViewCompetitionList=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(24),i=n(295),s=n(40),o=500,l=function(e){function t(t){var n=e.call(this,t)||this;return n.queuedTimer=new s.Timer,n.runningTimer=new s.Timer,n.onError=function(){n.runningTimer.setToZero(),n.queuedTimer.setToZero(),s.PageMessages.error("An error has occurred. Please try rerunning the script.",{clear:!0})},n.updateInputFileMetadata=function(e,t,a){if(!n.props.urls.submitToCompUrl&&n.props.urls.scriptProject.indexOf("/c/")===-1){var r={fileName:e,columns:[{fileName:e,columnIndex:t,description:a.description,dataType:a.harmonizedDataType}]},i=n.props.urls.scriptProject+"/datadictionary.json";$.ajax({url:i,type:"PATCH",processData:!1,contentType:"application/json",dataType:"text",data:JSON.stringify(r),success:function(e){e&&s.PageMessages.error("Your description could not be saved: "+e,{clear:!0})},error:function(){s.PageMessages.error("Sorry, there was a problem saving your update.",{clear:!0})}})}},n.initState(),n.initTimerCallbacks(),n}return a(t,e),t.prototype.initState=function(){var e=this.props.scriptProject.allowPrivateKernels&&(this.props.script.id||this.props.script.scriptId)<=0;this.state={script:{projectId:this.props.scriptProject.projectId,forkParentScriptVersionId:this.props.script.forkParentScriptVersionId,newText:this.props.scriptVersion.text,newTitle:this.props.scriptVersion.title,scriptId:this.props.script.id,scriptLanguageName:this.props.scriptVersion.languageName.toLowerCase(),isLanguageTemplate:this.props.script.isLanguageTemplate,isPrivate:this.props.script.isPrivate||e},scriptUrl:this.props.urls.script,isUnsavedPrivateKernel:e,tab:null,scriptVersionId:null,status:null,outputLog:[],outputFiles:null,runInfo:{},isEditingTitle:!1,versionNumber:this.props.scriptVersion.thisScriptVersionNumber,onLanguageChange:this.onLanguageChange.bind(this),onRunStart:r.debounce(this.onRunStart.bind(this),500),onRunEnd:this.onRunEnd.bind(this),onRunCancel:this.onRunCancel.bind(this),onScriptChange:this.onScriptChange.bind(this),onTabChange:this.onTabChange.bind(this),onTitleFocus:this.onTitleFocus.bind(this),onTitleBlur:this.onTitleBlur.bind(this),onTitleChange:this.onTitleChange.bind(this),onToggleOutputPreview:this.onToggleOutputPreview.bind(this),onUploadScriptClick:this.onUploadScriptClick.bind(this),onDownloadScriptClick:this.onDownloadScriptClick.bind(this),onSubmitCode:this.onSubmitCode.bind(this),onMetadataChange:this.props.urls.submitToCompUrl||this.props.urls.scriptProject.indexOf("/c/")!==-1?null:this.updateInputFileMetadata}},t.prototype.initTimerCallbacks=function(){this.queuedTimer.setDisplayCallback(function(e){s.PageMessages.info("Queued - Queue Time: "+e,{clear:!0,faIcon:"fa-cog fa-spin"})}),this.runningTimer.setDisplayCallback(function(e){s.PageMessages.info("Running - Run Time: "+e,{clear:!0,faIcon:"fa-refresh fa-spin"})})},t.prototype.setScriptState=function(e){this.setState({script:$.extend(this.state.script,e)})},t.prototype.fetchStatus=function(){var e=this;return $.get(this.props.urls.versionStatus+"?id="+this.state.scriptVersionId+"&existingStatus="+this.state.status).done(function(t){var n=t.status;switch(n){case"complete":case"error":e.onRunEnd(t);break;case"running":e.queuedTimer.stopTimer(),e.runningTimer.isRunning()||e.runningTimer.startTimer()}var a={status:n};t.thisScriptVersionNumber&&(a.versionNumber=t.thisScriptVersionNumber),e.setState(a)}).fail(this.onError)},t.prototype.fetchOutput=function(){var e=this,t={scriptRun:{id:this.state.scriptVersionId,status:this.subs.status,streams:{stdout:this.subs.stdout,stderr:this.subs.stderr}}};return $.ajax({url:"/redis/sub",type:"POST",data:JSON.stringify(t),processData:!1,contentType:"application/json",dataType:"json"}).done(function(t){function n(e){var n=this;this.subs[e]=a;var r=this.state.outputLog.concat(t.Result.map(function(t,a){return{stream_name:e,data:t.Value,time:t.Position.toFixed(1),lineNo:n.state.outputLog.length+a+1}}));this.setState({outputLog:r})}var a=r.chain(t.Result).pluck("Position").max().value();switch(t.Key){case"streams:stdout":n.bind(e)("stdout");break;case"streams:stderr":n.bind(e)("stderr");break;case"status":e.subs.status=a}}).fail(this.onError)},t.prototype.startPolling=function(){this.poll(this.fetchStatus.bind(this)),this.poll(this.fetchOutput.bind(this))},t.prototype.poll=function(e){var t=this;this.shouldPoll&&e().then(function(){window.setTimeout(function(){return t.poll(e)},o)})},t.prototype.mapOutputFiles=function(e){var t=e.slice();return t.forEach(function(e){e.fileName===i.RMARKDOWN_OUTPUT_FILE_NAME&&(e.filePreviewUrl=e.fileUrl)}),t},t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.onKeyDown.bind(this),!1)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.onKeyDown.bind(this),!1)},t.prototype.downloadFile=function(e,t){var n=window.document.createElement("a");n.href=window.URL.createObjectURL(new Blob([e],{type:"text/plain"})),n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)},t.prototype.onKeyDown=function(e){e.shiftKey&&13==e.keyCode&&(this.onRunStart(),e.preventDefault())},t.prototype.onUploadScriptClick=function(e){var t=this,n=e.target.files[0],a=new FileReader;a.onload=function(e){t.setScriptState({newText:a.result})},a.readAsText(n)},t.prototype.onDownloadScriptClick=function(){var e=this,t=this.props.scriptProject.availableLanguagesWithTemplates.filter(function(t){return t.languageName.toLowerCase()===e.state.script.scriptLanguageName})[0].defaultFileName;this.downloadFile(this.state.script.newText,t)},t.prototype.onTitleFocus=function(){this.setState({isEditingTitle:!0})},t.prototype.onTitleBlur=function(e){if(this.state.script.newTitle)s.PageMessages.clear(),this.setState({isEditingTitle:!1});else{var t=e.target;s.PageMessages.error("Script title cannot be empty",{clear:!0}),t.focus()}},t.prototype.onTitleChange=function(e){this.setScriptState({newTitle:e.target.value})},t.prototype.onLanguageChange=function(e){var t=this,n=this.props.scriptProject.availableLanguagesWithTemplates,a=n.some(function(e){return e.template===t.state.script.newText}),r=a?n.filter(function(t){return t.languageName.toLowerCase()===e})[0].template:this.state.script.newText;this.setScriptState({scriptLanguageName:e,newText:r})},t.prototype.onScriptChange=function(e){this.setScriptState({newText:e})},t.prototype.onTabChange=function(e){this.setState({tab:e})},t.prototype.onToggleOutputPreview=function(e){e.expanded=!e.expanded,this.setState({outputFiles:this.state.outputFiles})},t.prototype.onRunStart=function(){var e=this;this.runningTimer.setToZero(),this.queuedTimer.setToZero(),this.queuedTimer.startTimer(),$.post(this.props.urls.saveVersion,this.state.script,null,"json").then(function(t){var n=t.versionId,a=t.status,r=t.scriptId;"error"===a?(e.queuedTimer.stopTimer(),s.PageMessages.error(t.message,{clear:!0})):(t.newUrl&&history.replaceState({},null,t.newUrl+"/edit"),e.subs={stdout:-1,stderr:-1,status:0},e.shouldPoll=!0,e.setScriptState({scriptId:r}),e.setState({outputLog:[],tab:"log",runInfo:{},outputFiles:[],isUnsavedPrivateKernel:!1,scriptUrl:t.newUrl||e.state.scriptUrl}),e.setState({scriptVersionId:n,status:a},function(){return e.startPolling()}),window.Intercom("trackEvent","run_script",{script_id:r}),e.props.isDataset?window.Intercom("trackEvent","run_dataset_script",{script_id:r}):window.Intercom("trackEvent","run_comp_script",{script_id:r}))})},t.prototype.onRunError=function(){s.PageMessages.error({htmlMessage:'<span class="script-editor__page-message">Run Failed - Run Time: '+this.runningTimer.getElapsedTimeString()+'<a href="'+this.state.scriptUrl+'">View Completed Script (Exit Editor) <i class="fa fa-angle-double-right" /></a></span>'},{clear:!0})},t.prototype.onRunComplete=function(e){var t="rmarkdown"===this.state.script.scriptLanguageName;t?this.setState({tab:"html"}):e.length>0&&this.setState({tab:"output"}),s.PageMessages.success({htmlMessage:'<span class="script-editor__page-message">Run Successful - Run Time: '+this.runningTimer.getElapsedTimeString()+' <a href="'+this.state.scriptUrl+'">View Completed Script (Exit Editor) <i class="fa fa-angle-double-right" /></a></span>'},{clear:!0})},t.prototype.onRunEnd=function(e){var t=this;this.queuedTimer.stopTimer(),this.runningTimer.stopTimer(),this.shouldPoll=!1;var n=JSON.parse(e.consoleOutput),a=this.mapOutputFiles(e.outputFiles);this.setState({runInfo:e.runInfo,outputLog:n,outputFiles:a},function(){switch(e.status){case"complete":t.onRunComplete(a);break;case"error":t.onRunError()}})},t.prototype.onRunCancel=function(){var e=this;this.queuedTimer.stopTimer(),this.runningTimer.stopTimer(),s.PageMessages.clear(),$.ajax({url:this.props.urls.cancel,type:"POST",data:{scriptVersionId:this.state.scriptVersionId}}).then(function(){e.shouldPoll=!1,e.setState({status:"cancelled"})})},t.prototype.onSubmitCode=function(){var e=this,t=$.extend({isCodeSubmission:!0},this.state.script);$.post(this.props.urls.saveVersion,t,null,"json").then(function(e){e.message?s.PageMessages.error(e.message,{clear:!0}):window.location.href=e.submitRedirectUrl}).fail(function(t){var n=$.parseJSON(t.responseText);n&&n.details?s.PageMessages.error(n.details,{clear:!0}):e.onError()})},t.prototype.render=function(){return React.createElement(i.ScriptEditor,$.extend({},this.props,this.state))},t}(React.Component);t.ScriptEditorContainer=l},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(296)["default"];n(300),n(301),n(302),n(303),n(304),n(309),n(310);var s=n(40),o=n(214),l=n(37),c=n(5),p=n(6),u=n(247);t.RMARKDOWN_OUTPUT_FILE_NAME="__results__.html";var d=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.noOutputLines=0,t.allTabs=[{title:"Code",text:"Code",actionCallback:function(){return t.props.onTabChange("code")}},{title:"Input",text:"Input",actionCallback:function(){return t.props.onTabChange("input")}},{title:"Log",text:"Log",actionCallback:function(){return t.props.onTabChange("log")}},{title:"Output",text:"Output",actionCallback:function(){return t.props.onTabChange("output")}},{title:"HTML",text:"HTML",actionCallback:function(){return t.props.onTabChange("html")}},{title:"Info",text:"Info",actionCallback:function(){return t.props.onTabChange("info")}}],t.onDataSourceChanged=function(e,t){},t}return a(n,e),n.prototype.componentDidMount=function(){this.fixHorizontalScrollbar()},n.prototype.componentDidUpdate=function(){this.tailLog()},n.prototype.fixHorizontalScrollbar=function(){var e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)},n.prototype.tailLog=function(){this.props.outputLog&&this.props.outputLog.length!==this.noOutputLines&&this.logContainer&&(this.logContainer.scrollTop=this.logContainer.scrollHeight,this.noOutputLines=this.props.outputLog.length)},n.prototype.getLanguageMode=function(){return"rmarkdown"===this.props.script.scriptLanguageName?"markdown":this.props.script.scriptLanguageName},n.prototype.getLanguageOptions=function(){var e=this.props.scriptProject.availableLanguagesWithTemplates;return e.filter(function(e){return e.languageName.indexOf("Notebook")===-1}).map(function(e){return{label:e.languageName,value:e.languageName.toLowerCase(),aceMode:e.aceLanguageName}})},n.prototype.getTabs=function(e){var t=this.allTabs;return e||(t=t.filter(function(e){return"Code"!==e.title})),this.props.outputFiles&&this.getHtmlOutputFile()||(t=t.filter(function(e){return"HTML"!==e.title})),t},n.prototype.getHtmlOutputFile=function(){return this.props.outputFiles.filter(function(e){return e.fileName===t.RMARKDOWN_OUTPUT_FILE_NAME})[0]},n.prototype.getActiveTab=function(e){return this.props.tab?this.props.tab:"desktop"===e?"input":"code"},n.prototype.getTabSelectOptions=function(){return this.getTabs(!0).map(function(e){return{label:e.title,value:e.title.toLowerCase()}})},n.prototype.getVisualizationFiles=function(){return this.props.outputFiles?this.props.outputFiles.filter(function(e){return[".png",".jpg",".gif",".svg"].indexOf(e.fileType)>-1}):null},n.prototype.getNonVisualizationFiles=function(){return this.props.outputFiles?this.props.outputFiles.filter(function(e){return[".png",".jpg",".gif",".svg"].indexOf(e.fileType)==-1}):null},n.prototype.shouldShowOutputPreviewList=function(){return this.props.outputFiles&&this.getNonVisualizationFiles().length>0||!this.shouldShowVisualizationsBox()},n.prototype.shouldShowVisualizationsBox=function(){return this.props.outputFiles&&this.getVisualizationFiles().length>0},n.prototype.renderVisualizationsBox=function(){return React.createElement("div",null,(this.getVisualizationFiles()||[]).length>0?this.getVisualizationFiles().map(function(e){return React.createElement("img",{className:"script-editor__visualization",src:e.fileUrl})}):this.renderNoOutputMessage())},n.prototype.renderNoOutputMessage=function(){return React.createElement("div",{className:"script-editor__no-output"},React.createElement(c.ContentBox,null,"No output"))},n.prototype.renderTabbedContent=function(e){var t=this;switch(this.getActiveTab(e)){case"code":return this.renderEditor(e);case"log":return React.createElement("div",{className:"script-editor__log",ref:function(e){return t.logContainer=e}},React.createElement(l.ScriptLogSection,{logLineData:this.props.outputLog,withContentBox:!1}));case"input":if(this.props.hasMultipleDataSourcesFlag&&this.props.dataSources&&0===this.props.dataSources.length)return React.createElement("div",{className:"script-editor__add-data-source-banner"},React.createElement(u.AddDataSourceBanner,{scriptVersionId:this.props.scriptVersion.id,onDataSourceAdded:this.onDataSourceChanged}));if(this.props.inputFiles&&this.props.inputFiles.length>0)return React.createElement(s.FilePreviewList,{files:this.props.inputFiles,dataSources:this.props.dataSources||null,userCanEditMetadata:!p.Current.isAnonymous&&this.props.onMetadataChange,onMetadataChange:this.props.onMetadataChange});case"output":return React.createElement("div",{className:"script-editor__output"},this.shouldShowVisualizationsBox()&&this.renderVisualizationsBox(),this.shouldShowOutputPreviewList()&&(this.getNonVisualizationFiles()||[]).length>0?React.createElement(s.FilePreviewList,{files:this.getNonVisualizationFiles(),scriptVersionId:this.props.scriptVersionId,showSubmitToCompButtons:"code"!==this.props.scriptProject.competitionType,submitToCompUrl:this.props.urls.submitToCompUrl,competitionName:this.props.scriptProject.displayName}):this.renderNoOutputMessage());case"html":var n=this.getHtmlOutputFile().filePreviewUrl;return n&&React.createElement("iframe",{className:"script-editor__html_iframe",src:n});case"info":return React.createElement(l.ScriptRunInfoSection,r({},this.props.runInfo,{withContentBox:!1}));default:return null}},n.prototype.renderEditor=function(e){var t=this;return window.setTimeout(function(){return t.fixHorizontalScrollbar()}),React.createElement(i,{name:"script-editor",mode:this.getLanguageMode(),value:this.props.script.newText,onChange:this.props.onScriptChange,theme:"monokai",enableBasicAutocompletion:!0,editorProps:{$blockScrolling:!0},className:"script-editor__ace-editor",showPrintMargin:!1,setOptions:{maxLines:"Infinity",fontSize:"14px"},height:"auto",width:"auto",tabSize:4})},n.prototype.renderTitle=function(){return React.createElement("div",{className:"script-editor__title-area"},React.createElement("input",{className:"script-editor__title-input script-editor__title-input--"+(this.props.isEditingTitle?"focused":"unfocused"),placeholder:"Title",value:this.props.script.newTitle,onChange:this.props.onTitleChange,onFocus:this.props.onTitleFocus,onBlur:this.props.onTitleBlur,autoFocus:!this.props.script.newTitle}))},n.prototype.renderTabs=function(e,t){return React.createElement("div",{className:"script-editor__tabs"},React.createElement(s.PageHeaderNav,{classNameModifier:"script-editor",menuLinks:this.getTabs(t),activeTab:this.getActiveTab(e)}))},n.prototype.renderRunButton=function(e){return React.createElement("div",{className:"script-editor__call-to-action-area"},"running"!==this.props.status?React.createElement("div",{onClick:this.props.onRunStart,title:"Run Script",className:"pageheader__calltoaction pageheader__calltoaction"},"Run"):React.createElement("div",{onClick:this.props.onRunCancel,title:"Cancel Run",className:"pageheader__calltoaction pageheader__calltoaction--muted pageheader__calltoaction"},"Cancel"))},n.prototype.renderConvertButton=function(e,t){return null},n.prototype.renderLanguageSelectBox=function(e){return React.createElement("div",{className:"script-editor__language-area"},React.createElement(s.SelectBox,{className:"script-editor__language-select-box "+("phone"===e&&"KaggleBoxlessSelect"),options:this.getLanguageOptions(),onChange:this.props.onLanguageChange,value:this.props.script.scriptLanguageName,searchable:!1}))},n.prototype.renderScriptProjectThumbnail=function(){return React.createElement("div",{className:"script-editor__project-thumbnail"},React.createElement("a",{href:this.props.urls.scriptProject,title:this.props.scriptProject.displayName},React.createElement("img",{src:this.props.urls.scriptProjectThumbnail})))},n.prototype.renderPrivacyToggle=function(){return React.createElement(o.PrivacyToggle,{kernelType:"Script",displayMode:"SelectBox",isPrivate:this.props.script.isPrivate,disabled:this.props.isUnsavedPrivateKernel,scriptId:this.props.script.scriptId})},n.prototype.renderSubmitButton=function(){return"code"===this.props.scriptProject.competitionType&&"python"===this.props.script.scriptLanguageName&&React.createElement("div",{onClick:this.props.onSubmitCode,title:"Submit",className:"pageheader__calltoaction pageheader__calltoaction--secondary"},"Submit")},n.prototype.renderDesktopEditor=function(){return React.createElement("div",{className:"script-editor"},React.createElement("div",{className:"script-editor__left-pane"},React.createElement("div",{className:"script-editor__left-pane-header script-editor__full-pane-header"},this.renderScriptProjectThumbnail(),this.renderTitle(),React.createElement("div",{className:"script-editor__upload-button"},React.createElement("label",{htmlFor:"script-file-upload"},React.createElement("i",{className:"fa fa-cloud-upload",title:"Upload script"})),React.createElement("input",{type:"file",id:"script-file-upload",style:{display:"none"},onChange:this.props.onUploadScriptClick})),React.createElement("div",{className:"script-editor__download-button"},React.createElement("i",{className:"fa fa-cloud-download",title:"Download script",onClick:this.props.onDownloadScriptClick})),this.renderLanguageSelectBox("desktop"),this.renderPrivacyToggle(),this.renderConvertButton(!1,"script-editor__convert-to-notebook"),this.renderRunButton("desktop"),this.renderSubmitButton()),React.createElement("div",{className:"script-editor__left-pane-container"},React.createElement("div",{className:"script-editor__page-messages"},React.createElement(s.PageHeaderBottomRow,null)),this.renderEditor("desktop"))),React.createElement("div",{className:"script-editor__right-pane script-editor__right-pane--"+this.props.tab},React.createElement("div",{className:"script-editor__right-pane-header"},this.renderTabs("desktop",!1),React.createElement("div",{className:"script-editor__version-number"},"Version ",this.props.versionNumber),this.props.script.isPrivate?null:React.createElement("div",{className:"script-editor__license-info"},"This script ",this.props.script.scriptId>0?"has been":"will be"," released under the ",React.createElement("a",{target:"_blank",href:"http://www.apache.org/licenses/LICENSE-2.0"},"Apache 2.0")," open source license.")),React.createElement("div",{className:"script-editor__right-pane-content script-editor__right-pane-content--"+this.props.tab},this.renderTabbedContent("desktop"))))},n.prototype.renderTabletEditor=function(){return React.createElement("div",{className:"script-editor"},React.createElement("div",{className:"script-editor__full-pane"},React.createElement("div",{className:"script-editor__full-pane-header script-editor__full-pane-header"},this.renderScriptProjectThumbnail(),this.renderTitle(),this.renderTabs("tablet",!0),this.renderLanguageSelectBox("tablet"),this.renderConvertButton(!0,"script-editor__convert-to-notebook"),this.renderRunButton("tablet"),this.renderSubmitButton()),React.createElement("div",{className:"script-editor__full-pane-container"},React.createElement("div",{className:"script-editor__page-messages"},React.createElement(s.PageHeaderBottomRow,null)),this.renderTabbedContent("tablet"))))},n.prototype.renderPhoneEditor=function(){var e=this;return React.createElement("div",{className:"script-editor"},React.createElement("div",{className:"script-editor__full-pane"},React.createElement("div",{className:"script-editor__full-pane-header script-editor__full-pane-header"},this.renderTitle(),React.createElement(s.SelectBox,{options:this.getTabSelectOptions(),onChange:function(t){return e.props.onTabChange(t)},value:this.getActiveTab("phone"),className:"script-editor__tab-select-box KaggleBoxlessSelect",searchable:!1}),this.renderLanguageSelectBox("phone"),this.renderConvertButton(!0,"script-editor--options"),this.renderRunButton("phone"),this.renderSubmitButton()),React.createElement("div",{className:"script-editor__full-pane-container"},React.createElement("div",{className:"script-editor__page-messages"},React.createElement(s.PageHeaderBottomRow,null)),this.renderTabbedContent("phone"))))},n.prototype.render=function(){return React.createElement("div",null,React.createElement(s.MediaQuery,{minWidth:1381},this.renderDesktopEditor()),React.createElement(s.MediaQuery,{minWidth:831,maxWidth:1380},this.renderTabletEditor()),React.createElement(s.MediaQuery,{minWidth:0,maxWidth:830},this.renderPhoneEditor()))},n}(React.Component);t.ScriptEditor=d},,,,,,,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(312),s=n(327),o=n(389),l=n(6),c=n(390),p=n(205),u=n(428),d=function(e){function t(t){var n=e.call(this,t)||this;n.getUiState=function(e){void 0===e&&(e=n.state.activeTab);var t=e.toLowerCase(),a=n.state,r=a.isNewTopic,i=a.topicId,s={activePane:t,activeTab:e,isNewTopic:r,topicId:i};return{competitionTabState:s}},n.onTopicClicked=function(e){n.setState({topicId:e.id},function(){var t=n.getUiState();history.pushState(t,e.title,e.topicUrl),history.replaceState(t,document.title,window.location.pathname+window.location.search)})},n.onTopicSubmitted=function(e){n.setState({isNewTopic:!1,topicId:e},function(){return n.updateUrlForTab("discussion")})},n.onWindowPopState=function(e){e.state&&e.state.competitionTabState&&n.setState(e.state.competitionTabState)},n.onCompetitionTabChanged=function(e){p.PageMessages.clear();var t=$.Deferred();return n.setState({activePane:e.toLowerCase(),activeTab:e,isNewTopic:!1,topicId:null},function(){n.updateUrlForTab(e),t.resolve()}),t},n.updateUrlForTab=function(e,t){void 0===t&&(t=!1);var a=n.getUiState(e),r=n.competitionUrl,i=e.toLowerCase();if("overview"!==i){r+="/"+i;var s=n.state,o=s.isNewTopic,l=s.topicId,c=l||(o?"new":null);c&&"discussion"===i&&(r+="/"+c)}var p="discussion"===i||"overview"===i?window.location.hash:null;t?history.replaceState(a,"",r):history.pushState(a,"",r),p&&(window.location.hash=p)},n.onCompetitionEditingStateCancelled=function(e,t){for(var a=(l={},l["isEditing"+e]=!1,l),r={},i=0,s=t;i<s.length;i++){var o=s[i];r[o]=n.state.lastSavedState[o]}n.setState($.extend({},a,r));var l},n.onCompetitionEditingStateChanged=function(e){var t="isEditing"+e,a=n.state[t],r=(i={},i[t]=!a,i);n.setState(r,function(){});var i},n.onSubmissionStatusChanged=function(){$.get(n.props.dataRefreshUrl).then(function(e){n.setState({submissions:e.submissions,remainingDailySubmissions:e.remainingDailySubmissions})})},n.onReenableSubmssion=function(){n.setState({remainingDailySubmissions:n.props.maxDailySubmissions,maxDailySubmissionsResetDate:new Date((new Date).setDate((new Date).getDate()+1))})},n.checkForPhoneVerificationAndUserName=function(){return n.props.needsPhoneVerification?(window.location.href="/account/phone/number?returnUrl="+n.competitionUrl,!1):!!l.Current.userName||(window.location.href="/account/set-username?returnUrl="+n.competitionUrl,!1)},n.onCompetitionStateChanged=function(e,t){if("showRulesModal"!=e||1!=t||n.checkForPhoneVerificationAndUserName()){n.setState((a={},a[e]=t,a));var a}},n.onCreateTopic=function(){var e={isNewTopic:!0,topicId:null};n.setState(e,function(){return n.updateUrlForTab("discussion")})},n.onAcceptCompetitionRules=function(){if(n.checkForPhoneVerificationAndUserName())return n.state.hasAcceptedRules?(p.PageMessages.clear(),void p.PageMessages.info("You have already accepted the rules, no need to do it again!")):void n.setState({
isProcessingRulesAcceptance:!0},function(){return l.Current.userId?void $.ajax({type:"POST",url:n.props.acceptRulesUrl,success:function(e){return e.redirect?void window.location.assign(e.redirect):void n.setState({hasAcceptedRules:!0,showRulesModal:!1,isProcessingRulesAcceptance:!1,team:e.data},function(){p.PageMessages.clear(),p.PageMessages.success("You have accepted the rules for this competition.")})},error:function(){n.setState({isProcessingRulesAcceptance:!1},function(){p.PageMessages.clear(),p.PageMessages.error({htmlMessage:'There was a problem accepting the rules for this competition. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'})})}}):void(window.location.href="/account/login")})},n.onCompetitionSubmission=function(){n.onCompetitionTabChanged("leaderboard").then(function(){n.competitionRef.refreshPublicLeaderboard()})},n.onSetImages=function(e,t){var a=t[0];e.append("coverImage.Left",Math.floor(a.left)),e.append("coverImage.Top",Math.floor(a.top)),e.append("coverImage.Width",Math.floor(a.width)),e.append("coverImage.Height",Math.floor(a.height));var r=t[1];return e.append("cardImage.Left",Math.floor(r.left)),e.append("cardImage.Top",Math.floor(r.top)),e.append("cardImage.Width",Math.floor(r.width)),e.append("cardImage.Height",Math.floor(r.height)),$.ajax({url:n.props.addImageUrl,type:"POST",dataType:"json",contentType:!1,processData:!1,data:e})},n.updateSelectedSubmission=function(e){var t=$.extend(!0,[],n.state.submissions);t[e].isSelected=!t[e].isSelected,n.setState({submissions:t})},n.updateTeamName=function(e){var t=$.extend(!0,{},n.state.team,{name:e});n.setState({team:t})};var a=n.props,i=a.activeTab,c=a.canEdit,d=a.isCreatingCompetition,m=a.dateEnabled,h=a.mergerDeadline,f=a.deadline,g=a.competitionSlug,v=i.toLowerCase();"admin"!==v||c||(i="overview",v="overview");var y=r({},t,{activeTab:i,activePane:v,isEditingOverviewPages:!1,isEditingFiles:!1,showRulesModal:!1,isProcessingRulesAcceptance:!1,editing:u.Map([["data",u.Map([["evaluation",!1],["benchmarks",!1]])]])});n.store=s.createStore(y),n.state=r({},y,{lastSavedState:y});var b=(new Date).getTime(),E=o["default"](m),_=o["default"](h),R=o["default"](f);return d?(n.hasMergerDeadline=!1,n.competitionUrl="",n.isCompetitionPending=!1):(n.hasMergerDeadline=R!=_,n.competitionUrl="/c/"+g,n.isCompetitionPending=!E||E>b),n.updateUrlForTab(i,!0),n.competitionHasEnded=R<b,n}return a(t,e),t.prototype.componentDidMount=function(){window.location.hash.indexOf("#latest-")!==-1&&history.replaceState(this.getUiState(),document.title,window.location.pathname+window.location.search),this.isCompetitionPending&&p.PageMessages.info("This competition hasn't been launched. Only hosts and Kaggle admins can see it.")},t.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},t.prototype.render=function(){var e=this;return React.createElement(i.Provider,{store:this.store},React.createElement(c.Competition,r({onTopicClicked:this.onTopicClicked,onTopicSubmitted:this.onTopicSubmitted,onCompetitionEditingStateCancelled:this.onCompetitionEditingStateCancelled,onCompetitionEditingStateChanged:this.onCompetitionEditingStateChanged,onCompetitionStateChanged:this.onCompetitionStateChanged,onCompetitionTabChanged:this.onCompetitionTabChanged,onCompetitionSubmission:this.onCompetitionSubmission,onAcceptCompetitionRules:this.onAcceptCompetitionRules,onSetImages:this.onSetImages,onSubmissionStatusChanged:this.onSubmissionStatusChanged,onReenableSubmssion:this.onReenableSubmssion,updateSelectedSubmission:this.updateSelectedSubmission,updateTeamName:this.updateTeamName,onCreateTopic:this.onCreateTopic,hasMergerDeadline:this.hasMergerDeadline,competitionUrl:this.competitionUrl,competitionHasEnded:this.competitionHasEnded,isCompetitionPending:this.isCompetitionPending,ref:function(t){e.competitionRef=t}},this.state)))},t}(React.Component);t.CompetitionContainer=d},,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){var t=function(e){return e},n={path:e},a=function(e){return n},r=l.createAction(p,t,a),i=l.createAction(u,null,a),s=l.createAction(d,null,a);return{onSave:r,onEdit:i,onCancel:s}}function r(e,t){var n=t.type,a=(t.payload,t.meta),r=a?a.path:null;switch(n){case p:return s({},e,{editing:e.editing.setIn(r,!1)});case u:return s({},e,{editing:e.editing.setIn(r,!0)});case d:return s({},e,{editing:e.editing.setIn(r,!1)});default:return e}}function i(e){var t=c.createStore(r,e,c.applyMiddleware(f));return t}var s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o=n(78),l=n(328),c=n(50),p="COMPETITION_SAVE",u="COMPETITION_EDIT",d="COMPETITION_CANCEL",m="FETCH_API";t.actions={evaluation:a(["data","evaluation"]),benchmarks:a(["data","benchmarks"])};var h=function(e){var t=e.children,n=e.benchmarkDetailsUpdateUrl,a=t.filter(function(e){return e.dirty}).reduce(function(e,t){return s({},e,(n={},n[t.id]=t.details,n));var n},{});return new Promise(function(e,t){$.ajax({type:"POST",url:n,contentType:"application/json",data:JSON.stringify({details:a}),success:function(t){e(t)},error:function(e){t(e)}})})},f=function(e){return function(e){return function(t){var n=(t.type,t.payload);if(t.type===p){var a=t.meta,r=a?a.path:[null,null],i=r[0],s=r[1];"data"===i&&"benchmarks"===s&&h(n).then(function(n){a.response=n,e(t)})}else{if(t.type!==m)return e(t);var l=t.meta,c=l.url,u=l.method;o(c,"url must exist to fetch"),o(u,"method must be specified to fetch"),fetch(c,{method:u,headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(n){l.response=n,e(t)})}}}};t.createStore=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";function n(e){return e?new Date(e.toString()).getTime():null}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(391),s=n(396),o=n(397),l=n(403),c=n(405),p=n(409),u=n(411),d=n(412),m=n(413),h=n(414),f=n(418),g=n(421),v=n(423),y=n(426),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getPageContainerComponent=function(){var e=t.props,n=e.isCreatingCompetition,a=e.activePane;if(n)return y.CompetitionCreatorContainer;switch(a){case"overview":return o.CompetitionOverviewContainer;case"host":return l["default"];case"data":return c.CompetitionDataContainer;case"rules":return p.CompetitionRulesContainer;case"discussion":return d.CompetitionDiscussion;case"kernels":return m.CompetitionKernels;case"team":return v.CompetitionTeamContainer;case"submissions":return g.CompetitionSubmissionsContainer;case"submit":return f.CompetitionSubmissionContainer;case"admin":if(t.props.canEdit)return i.CompetitionAdminContainer;default:return null}},t}return a(t,e),t.prototype.refreshPublicLeaderboard=function(){this.leaderboardRef.triggerPublicLeaderboardReload()},t.prototype.render=function(){var e=this;this.props.isCreatingCompetition,this.getPageContainerComponent();return React.createElement("div",{className:"competition"},React.createElement(s.CompetitionHeader,r({},this.props)),this.props.isCreatingCompetition?React.createElement(y.CompetitionCreatorContainer,r({},this.props)):"overview"==this.props.activePane?React.createElement(o.CompetitionOverviewContainer,r({},this.props)):"data"==this.props.activePane?React.createElement(c.CompetitionDataContainer,r({},this.props)):"rules"==this.props.activePane?React.createElement(p.CompetitionRulesContainer,r({},this.props)):"discussion"==this.props.activePane?React.createElement(d.CompetitionDiscussion,r({},this.props)):"leaderboard"==this.props.activePane?React.createElement(h.CompetitionLeaderboardContainer,r({},this.props,{ref:function(t){return e.leaderboardRef=t}})):"kernels"==this.props.activePane?React.createElement(m.CompetitionKernels,r({},this.props)):"team"==this.props.activePane?React.createElement(v.CompetitionTeamContainer,r({},this.props)):"submissions"==this.props.activePane?React.createElement(g.CompetitionSubmissionsContainer,r({},this.props)):"admin"==this.props.activePane&&this.props.canEdit?React.createElement(i.CompetitionAdminContainer,r({},this.props)):"submit"==this.props.activePane?React.createElement(f.CompetitionSubmissionContainer,r({},this.props)):null,React.createElement(u.CompetitionRulesModal,r({},this.props)))},t}(React.Component);t.Competition=b},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(392),i=function(e){function t(t){var n=e.call(this,t)||this;return n.hideImageUploaderModal=function(){n.setState({isAddingImages:!1})},n.onUpdateImageUploader=function(e,t){return n.props.onSetImages(e,t).then(function(){location.reload()})},n.onAddImages=function(){n.setState({isAddingImages:!0})},n.state={isAddingImages:!1},n.helperProps={hideImageUploaderModal:n.hideImageUploaderModal,onUpdateImageUploader:n.onUpdateImageUploader,onAddImages:n.onAddImages},n}return a(t,e),t.prototype.render=function(){return React.createElement(r.CompetitionAdmin,Object.assign({},this.props,this.helperProps,this.state))},t}(React.Component);t.CompetitionAdminContainer=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(5),s=n(393),o=n(395),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement("div",{className:"competition-admin"},React.createElement(i.ContentBox,{title:"Competition Setup"},React.createElement(s.CompetitionAdminNav,r({},this.props)),React.createElement(o.CompetitionAdminBasics,r({},this.props))))},t}(React.Component);t.CompetitionAdmin=l},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(394),i=n(203),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.adminPageNames=["basics","attributes","scoring","email participants","clone"],t}return a(t,e),t.prototype.render=function(){for(var e=[],t=0,n=this.adminPageNames;t<n.length;t++){var a=n[t],s="/c/"+this.props.competitionSlug+"/admin"+("basics"!=a?"#"+a:"");e.push(i.buildLink(a,r.deslugify(a),s))}return React.createElement("div",{className:"competition-admin__nav-wrapper"},React.createElement("nav",{className:"competition-admin__nav"},e.map(function(e,t){return React.createElement("a",{className:"competition-admin__nav-item",href:e.href,key:"competition-admin-nav-"+t,onClick:function(e){return console.log(e)},title:e.title},e.text)})))},t}(React.Component);t.CompetitionAdminNav=s},function(e,t){"use strict";function n(e){return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}function a(e){return e.replace(/-+/g," ")}t.slugify=n,t.deslugify=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(219),i=n(200),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderImageUploader=function(){var e=this.props,t=e.hideImageUploaderModal,n=e.onUpdateImageUploader,a=(e.onAddImages,e.isAddingImages),s=e.canEdit;if(s){var o=React.createElement(r.ImageUploader,{title:"Upload a Competition Image",imageSettings:[new r.ImageSetting("cover image","Select an area of the image to use as the cover image for this competitions’s homepage",new r.Size(950,200),new r.Rectangle(new r.Point(0,0),new r.Size(100,100))),new r.ImageSetting("thumbnail","Select an area of the image to use as a thumbnail on the overall Competition listing page",new r.Size(200,200),new r.Rectangle(new r.Point(0,0),new r.Size(100,100)))],originalImageUrl:null,containerSize:new r.Size(500,300),selectorBorderWidth:1,onCancel:t,onUpdateImages:n,hiResScale:2,step1Html:"Upload an image by clicking the button below. If you need inspiration, <a href='http://www.unsplash.com' target='_blank'>unsplash.com</a> has a great library of public domain images. Or you can use the random image below."});return React.createElement(i.Modal,{buttonClassName:"dataset-header__upload-image-button",modalContent:o,modalIsShown:a,onShow:null,onClose:t})}return null},t.prototype.render=function(){return React.createElement("div",{className:"competition-admin__setup"},React.createElement("div",{className:"competition-admin__attribute"},React.createElement("label",{className:"competition-admin__attribute-name",htmlFor:"competition-url"},"Competition URL"),React.createElement("div",{className:"competition-admin__attribute-value"},React.createElement("p",null,"https://www.kaggle.com/c/"),React.createElement("input",{className:"competition-admin__attribute-input",id:"competition-url",name:"competition-url",value:this.props.competitionSlug}))),React.createElement("div",{className:"competition-admin__attribute"},React.createElement("label",{className:"competition-admin__attribute-name"},"Competition Type"),React.createElement("div",{className:"competition-admin__attribute-value"},React.createElement("p",null,this.props.hostSegment))),React.createElement("div",{className:"competition-admin__attribute"},React.createElement("label",{className:"competition-admin__attribute-name"},"Submission Format"),React.createElement("div",{className:"competition-admin__attribute-value"},React.createElement("p",null,this.props.competitionType))),React.createElement("div",{className:"competition-admin__attribute"},React.createElement("label",{className:"competition-admin__attribute-name"},"Use Kernels"),React.createElement("div",{className:"competition-admin__attribute-value"},React.createElement("p",null,"Maybe"))),React.createElement("div",{className:"competition-admin__attribute"},React.createElement("label",{className:"competition-admin__attribute-name",htmlFor:"competition-images"},"Images"),React.createElement("div",{className:"competition-admin__attribute-value"},React.createElement("span",{onClick:this.props.onAddImages,className:"competition-admin__add-image-link"},"Add images"),this.renderImageUploader())))},t}(React.Component);t.CompetitionAdminBasics=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(6),s=n(203),o=n(28),l=n(7),c=n(112),p=n(29),u=function(e){return React.createElement("div",{className:"competition-header__classification-icon-wrapper"},React.createElement("div",{className:"competition-header__classification-icon"},React.createElement(d,r({},e))))},d=function(e){var t=e.hostSegment;switch(t){case"featured":return React.createElement("span",{className:"fa fa-trophy"});case"research":return React.createElement("span",{className:"fa fa-flask"});case"recruitment":return React.createElement("span",{className:"fa fa-trophy"});case"prospect":return React.createElement("span",{className:"fa fa-trophy"});case"getting started":return React.createElement("span",{className:"fa fa-university"});case"masters":return React.createElement("span",{className:"fa fa-trophy"});case"playground":return React.createElement("span",{className:"fa fa-bicycle"});default:return React.createElement("span",{className:"fa fa-trophy"})}},m=function(e){function t(t){var n=e.call(this,t)||this;n.buildLink=function(e,t,a){void 0===t&&(t=null),void 0===a&&(a=null);var r="/c/"+n.props.competitionSlug+"/"+e.toLowerCase(),s=e.toLowerCase();"Team"==e&&(n.props.needsPhoneVerification&&(r="/account/phone/number?returnUrl="+n.props.competitionUrl,s=null),i.Current.userName||(r="/account/set-username?returnUrl="+n.props.competitionUrl,s=null));var o={count:null==a?null:c.numberWithCommas(a),href:r,title:e.toLowerCase(),text:t||e,tab:s};return o};var a=(t.hasHost,t.hasKernels),r=t.discussion,s=t.hasLeaderboard,o=t.canEdit,l=(t.submissions,t.rewardTypeName);t.isCompetitionPending;return n.competitionMenuLinks=[n.buildLink("Overview")],n.competitionMenuLinks.push(n.buildLink("Data")),n.competitionOverflowMenuLinks=[n.buildLink("Rules"),n.buildLink("Team")],n.competitionMenuLinksRight=[],a&&n.competitionMenuLinks.push(n.buildLink("Kernels")),r&&n.competitionMenuLinks.push(n.buildLink("Discussion")),s&&n.competitionMenuLinks.push(n.buildLink("Leaderboard")),o&&n.competitionOverflowMenuLinks.push(n.buildLink("Admin")),n.props.team&&!n.props.needsPhoneVerification&&i.Current.userName&&n.competitionMenuLinksRight.push(n.buildLink("Submissions","My Submissions")),n.isMonetaryReward=["USD","AUD","EUR"].indexOf(l)>=0,n}return a(t,e),t.prototype.renderDeadlineInfo=function(){var e=new Date(this.props.mergerDeadline.toString()).getTime()<(new Date).getTime();return this.props.hasMergerDeadline&&!e?React.createElement("span",null,React.createElement(l.TimeAgo,{time:this.props.deadline})," (",React.createElement(l.TimeAgo,{time:this.props.mergerDeadline})," until merger deadline)"):React.createElement(l.TimeAgo,{time:this.props.deadline})},t.prototype.renderTop=function(){var e=this.props.hostSegment;return React.createElement("div",{className:"competition-header__top"},React.createElement("div",{className:"competition-header__top-image",style:{backgroundImage:"url("+this.props.competitionHeaderImageUrl+")"}}),React.createElement(s.PageHeaderTopRowSafe,null,React.createElement("div",{className:"competition-header__classification"},React.createElement(u,{hostSegment:e}),React.createElement("p",{className:"competition-header__classification-text"},this.props.hostSegment," ",this.props.competitionType," Competition",this.props.isPrivate?React.createElement("span",null," · ",React.createElement("span",{className:"fa fa-eye-slash"})," Private"):null)),React.createElement("div",{className:"competition-header__meta"},React.createElement("div",{className:"competition-header__info"},React.createElement("h1",{className:"competition-header__title"},this.props.competitionTitle),React.createElement("h2",{className:"competition-header__subtitle"},this.props.briefDescription),React.createElement("div",{className:"competition-header__details"},React.createElement("span",null,this.props.organizationId&&React.createElement("span",{className:"competition-header__organization-name"},React.createElement("a",{href:"/"+this.props.organizationSlug},this.props.organizationName)," · "),React.createElement("span",null,c.numberWithCommas(this.props.totalTeams)+" teams")),React.createElement(p.MediaQuery,{minWidth:p.Breakpoints.desktopMin},React.createElement("span",null," · ")),this.renderDeadlineInfo())),this.props.rewardQuantity>0&&this.isMonetaryReward?React.createElement("div",{className:"competition-header__prize"},React.createElement("span",{className:"competition-header__prize-value"},"$"+c.numberWithCommas(this.props.rewardQuantity)),React.createElement("span",{className:"competition-header__prize-text"},"Prize Money")):null)))},t.prototype.renderAlternateTop=function(){return React.createElement(s.PageHeaderTopRowSafe,null,React.createElement("div",{className:"competition-header__top--alt"},React.createElement("div",{className:"competition-header__top-image-wrapper--alt"},React.createElement("a",{href:""+this.props.competitionUrl},React.createElement("img",{className:"competition-header__top-image--alt",src:this.props.competitionFrontPageImageUrl}))),React.createElement("div",{className:"competition-header__meta--alt"},React.createElement("h1",{className:"competition-header__title--alt"},this.props.competitionTitle),React.createElement("h2",{className:"competition-header__subtitle--alt"},this.props.briefDescription),React.createElement("div",{className:"competition-header__details--alt"},this.props.rewardQuantity>0&&this.isMonetaryReward?"$"+c.numberWithCommas(this.props.rewardQuantity)+" · ":null,this.props.totalTeams?c.numberWithCommas(this.props.totalTeams)+" teams · ":null,this.renderDeadlineInfo(),this.props.isPrivate?React.createElement("span",null," · ",React.createElement("span",{className:"fa fa-eye-slash"})," Private"):null))))},t.prototype.render=function(){var e=this,t=this.competitionMenuLinksRight.slice(0);return"submit"==this.props.activePane&&t.push(this.buildLink("Submit","Submit "+("code"==this.props.competitionType.toLowerCase()?"Model":"Predictions"))),this.props.isCreatingCompetition?null:React.createElement("div",{className:"competition-header__container"},React.createElement(s.PageHeader,{backgroundClass:"competition-header"},this.props.hasHeaderImage?this.renderTop():this.renderAlternateTop(),this.props.isCreatingCompetition?null:React.createElement(s.PageHeaderBottomRow,{pageMessages:this.props.pageMessages},this.props.organizationId&&this.props.hasHeaderImage?React.createElement("div",{className:"competition-header__thumbnail-placeholder"},React.createElement(s.PageHeaderThumbnail,{classNameElement:"thumbnail",targetUrl:"/c/"+this.props.competitionSlug,imageUrl:this.props.competitionThumbnailImageUrl}),React.createElement(s.PageHeaderThumbnail,{classNameElement:"author",targetUrl:"/"+this.props.organizationSlug,imageUrl:this.props.organizationThumbnailUrl})):null,React.createElement(p.MediaQuery,{minWidth:0,maxWidth:p.Breakpoints.tabletMax},React.createElement(o.OverflowX,null,React.createElement("div",{className:"competition-header__nav-wrapper"},React.createElement(s.PageHeaderNav,{activeTab:this.props.activeTab,classNameModifier:"competition",changeActiveTab:function(t){return e.props.onCompetitionTabChanged(t)},menuLinks:this.competitionMenuLinks,overflowMenuLinks:this.props.team?this.competitionOverflowMenuLinks:this.competitionOverflowMenuLinks.filter(function(e){return"Team"!==e.text}),rightMenuLinks:t.length?t:null}),"discussion"==this.props.activePane?React.createElement(s.PageHeaderCallToAction,{onClick:this.props.onCreateTopic,text:"New Topic"}):"submit"==this.props.activePane||this.props.submissionsAreDisabled?null:React.createElement(s.PageHeaderCallToAction,{href:"code"==this.props.competitionType.toLowerCase()&&this.props.hasAcceptedRules?this.props.newScriptUrl:null,onClick:this.props.hasAcceptedRules?"code"!=this.props.competitionType.toLowerCase()?function(){return e.props.onCompetitionTabChanged("submit")}:function(){}:function(){return e.props.onCompetitionStateChanged("showRulesModal",!0)},text:"Submit "+("prediction"==this.props.competitionType.toLowerCase()?"Predictions":"Model")})))),React.createElement(p.MediaQuery,{minWidth:p.Breakpoints.desktopMin},React.createElement("div",{className:"competition-header__nav-wrapper"},React.createElement(s.PageHeaderNav,{activeTab:this.props.activeTab,classNameModifier:"competition",changeActiveTab:function(t){return e.props.onCompetitionTabChanged(t)},menuLinks:this.competitionMenuLinks,overflowMenuLinks:this.props.team?this.competitionOverflowMenuLinks:this.competitionOverflowMenuLinks.filter(function(e){return"Team"!==e.text}),rightMenuLinks:t.length?t:null}),"discussion"==this.props.activePane?React.createElement(s.PageHeaderCallToAction,{onClick:this.props.onCreateTopic,text:"New Topic"}):"submit"==this.props.activePane||this.props.submissionsAreDisabled?null:React.createElement(s.PageHeaderCallToAction,{href:"code"==this.props.competitionType.toLowerCase()&&this.props.hasAcceptedRules?this.props.newScriptUrl:null,onClick:this.props.hasAcceptedRules?"code"!=this.props.competitionType.toLowerCase()?function(){return e.props.onCompetitionTabChanged("submit")}:function(){}:function(){return e.props.onCompetitionStateChanged("showRulesModal",!0)},text:"Submit "+("prediction"==this.props.competitionType.toLowerCase()?"Predictions":"Model")}))))))},t}(React.Component);t.CompetitionHeader=m},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(r,i){function s(e){try{l(a.next(e))}catch(t){i(t)}}function o(e){try{l(a["throw"](e))}catch(t){i(t)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,o)}l((a=a.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function n(e){return function(t){return a([e,t])}}function a(n){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(s=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,i=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(s=o.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){o=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){o.label=n[1];break}if(6===n[0]&&o.label<s[1]){o.label=s[1],s=n;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(n);break}s[2]&&o.ops.pop(),o.trys.pop();continue}n=t.call(e,o)}catch(a){n=[6,a],i=0}finally{r=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,i,s,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return{next:n(0),"throw":n(1),"return":n(2)}},o=n(205),l=n(398),c=function(e){function t(t){var n=e.call(this,t)||this;return n.onWindowPopState=function(e){e.state&&e.state.competitionOverviewTabState&&n.setState(e.state.competitionOverviewTabState)},n.updateUrlForTab=function(e,t){void 0===t&&(t=!1);var a={},r=e.toLowerCase().replace(/\s+/g,"-")||n.props.pages[0].name.replace("#",""),i=n.props.competitionUrl;a.competitionTabState={activePane:"overview",activeTab:"overview"},a.competitionOverviewTabState={activeOverviewTab:r},r!=n.props.pages[0].name.replace("#","")&&(i+="#"+r),t?history.replaceState(a,"",i):history.pushState(a,"",i)},n.saveOverview=function(e){return i(n,void 0,void 0,function(){var t,n,a,r;return s(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,fetch(this.props.saveOverviewUrl,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(e)})];case 1:return t=i.sent(),[4,t.json()];case 2:return n=i.sent(),"CONCURRENT_EDIT"===n.message?(a="Changes can't be saved. "+(n.userDisplayName||"Unknown user")+" has saved an update to this page. Refresh the page to get the latest version before editing.",o.PageMessages.clear(),o.PageMessages.error(a)):n.pageMessages&&n.pageMessages.length>0?o.PageMessages.set(n.pageMessages):(n.pages&&this.setState({localPages:n.pages}),o.PageMessages.clear(),o.PageMessages.success("Save successful.")),[3,4];case 3:return r=i.sent(),r.pageMessages&&o.PageMessages.set(r.pageMessages),[3,4];case 4:return[2]}})})},n.onOverviewEditingStateChanged=function(e){n.setState({isEditingOverview:!n.state.isEditingOverview},function(){if(e){var t={rewardQuantity:n.props.rewardQuantity,numPrizes:n.props.numPrizes,dateEnabled:n.props.dateEnabled,deadline:n.props.deadline,enablePreDeadline:!1,overviewPages:n.state.localPages};n.saveOverview(t)}})},n.newPageCounter=0,n.activeOverviewTab=(window.location.hash||n.props.pages[0].name).replace("#",""),n.state={activeOverviewTab:n.activeOverviewTab,isEditingOverview:!1,localPages:n.props.pages},n.updateUrlForTab(n.activeOverviewTab,!0),n}return a(t,e),t.prototype.componentWillMount=function(){window.addEventListener("popstate",this.onWindowPopState,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("popstate",this.onWindowPopState,!1)},t.prototype.onOverviewTabChanged=function(e,t){var n=this;t.ctrlKey||t.shiftKey||t.metaKey||t.button&&1==t.button||this.setState({activeOverviewTab:e},function(){return n.updateUrlForTab(e)})},t.prototype.onOverviewEditingStateCancelled=function(){this.setState({activeOverviewTab:this.props.pages[0].name,isEditingOverview:!1,localPages:this.props.pages})},t.prototype.onAddOverviewPage=function(){var e=$.extend(!0,[],this.state);this.newPageCounter+=1;var t="Untitled "+this.newPageCounter,n={name:t,mimeType:"text/markdown",content:"Insert text here. Please use markdown."};e.localPages.push(n),e.activeOverviewTab=t,this.setState(e)},t.prototype.onPublishOverviewPage=function(e){var t=$.extend(!0,{},this.state),n=t.localPages[e];n.isPublished=!n.isPublished,this.setState(t)},t.prototype.onRemoveOverviewPage=function(e){var t=$.extend(!0,{},this.state);return t.localPages.length<=1?(o.PageMessages.clear(),void o.PageMessages.error("You must keep a minimum of one page in this section.")):(t.localPages.splice(e,1),t.activeOverviewTab=t.localPages[0].name,void this.setState(t))},t.prototype.onChangeOverviewPage=function(e,t,n){var a=$.extend(!0,{},this.state);a.localPages[e][t]=n,a.activeOverviewTab=a.localPages[e].name,this.setState(a)},t.prototype.render=function(){var e={onOverviewTabChanged:this.onOverviewTabChanged.bind(this),onOverviewEditingStateCancelled:this.onOverviewEditingStateCancelled.bind(this),onOverviewEditingStateChanged:this.onOverviewEditingStateChanged.bind(this),onAddOverviewPage:this.onAddOverviewPage.bind(this),onPublishOverviewPage:this.onPublishOverviewPage.bind(this),onRemoveOverviewPage:this.onRemoveOverviewPage.bind(this),onChangeOverviewPage:this.onChangeOverviewPage.bind(this)};return React.createElement(l.CompetitionOverview,r({},this.props,e,this.state))},t}(React.Component);t.CompetitionOverviewContainer=c},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(5),i=n(115),s=n(399),o=n(203),l=n(166),c=n(170),p=n(193),u=n(112),d=n(400),m=n(401),h=n(402),f=n(111),g=n(28),v=n(13),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderOverviewNav=function(){var e=this,t=this.props.activeOverviewTab.toLowerCase();return React.createElement(g.OverflowX,null,React.createElement("div",{className:"competition-overview__nav-wrapper"},React.createElement("nav",{className:"competition-overview__nav"},this.props.localPages.map(function(n,a){var r=n.name.replace(/-+/g," "),i="/c/"+e.props.competitionSlug+("overview"!=n.name?"#"+n.name:""),s=o.buildLink(n.name,r,i);return React.createElement("a",{className:(t==s.tab.toLowerCase()?"competition-overview__nav-item--selected":"competition-overview__nav-item")+(n.isPublished?"":" competition-overview__nav-item--unpublished"),
href:s.href,key:"overview-nav-"+a,onClick:function(t){return e.props.onOverviewTabChanged(s.tab,t)},title:s.title},s.text)}),this.props.isEditingOverview?React.createElement("a",{className:"competition-overview__nav-add",onClick:function(){return e.props.onAddOverviewPage()}},React.createElement("span",{className:"fa fa-plus"})," Add Page"):null)))},t.prototype.renderCompetitionPage=function(e,t){var n=this,a=[{label:"HTML",value:l.assignMimeType(l.MarkdownConverterMimeTypes.Html)},{label:"Markdown",value:l.assignMimeType(l.MarkdownConverterMimeTypes.Markdown)}],r=l.translateMimeType(e.mimeType);return this.props.isEditingOverview?React.createElement("div",{key:"competition-overview-page-"+t},React.createElement("div",{className:"competition-overview__section-top"},React.createElement("div",{className:"competition-overview__section-meta"},React.createElement(p.InlineTextEditor,{className:"competition-overview__section-header-input",onChangeCallback:function(e){return n.props.onChangeOverviewPage(t,"name",e)},value:e.name}),React.createElement(v.SelectBox,{options:a,onChange:function(e){return n.props.onChangeOverviewPage(t,"mimeType",e.toString())},value:r,searchable:!1}),React.createElement("a",{className:"competition-overview__section-publish",onClick:function(){return n.props.onPublishOverviewPage(t)}},React.createElement("span",{className:"competition-overview__publish-checkbox fa "+(e.isPublished?"fa-check-square-o":"fa-square-o")})," Published?"),React.createElement("a",{className:"competition-overview__section-delete",onClick:function(){return n.props.onRemoveOverviewPage(t)}},React.createElement("span",{className:"fa fa-trash"})," Delete Page"))),React.createElement(c.MarkdownEditor,{shouldSanitizeHtml:!0,hidePreview:!0,hideToolbar:!0,defaultValue:e.content?e.content:null,suffix:"-"+e.name,onChangeCallback:function(e){return n.props.onChangeOverviewPage(t,"content",e)},minRows:5,maxRows:15})):React.createElement("div",{key:"competition-overview-page-"+t},e.isPublished?null:React.createElement("div",{className:"competition-overview__not-published"},"This page is currently not published. You're seeing this as an admin."),React.createElement(l.MarkdownConverter,{content:e.content?e.content:null,mimeType:e.mimeType?e.mimeType:null,insertNofollow:!0}))},t.prototype.renderLeaderboardTeaser=function(e,t){},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"competition-overview"},React.createElement(r.ContentBox,{title:"Overview",titleBarRightSide:this.props.canEdit?React.createElement(i.EditStateToggleButton,{isEditing:this.props.isEditingOverview,cancelCallback:function(){return e.props.onOverviewEditingStateCancelled()},cancelPropName:"overview",toggleCallback:function(){return e.props.onOverviewEditingStateChanged(e.props.isEditingOverview)},sectionName:"Overview"}):null},this.renderOverviewNav(),React.createElement("div",{className:"competition-overview__content"},this.props.localPages.map(function(t,n){return e.props.activeOverviewTab.toLowerCase()==t.name.toLowerCase()?e.renderCompetitionPage(t,n):null}))),React.createElement("div",{className:"competition-overview__teasers"},React.createElement("div",{className:"competition-overview__teaser"},React.createElement(d.LeaderboardTeaser,{emptyListCreateNewUrl:this.props.newScriptUrl,emptyListMessage:"There are no competitors yet.",emptyListCreateNewText:"Be the first",listItems:this.props.leaderboardTeaser,listTitle:"Leaderboard",numItemsToShow:8,numPrizes:this.props.disablePrizeIndicator?0:this.props.numPrizes,onTitleClick:function(){return e.props.onCompetitionTabChanged("leaderboard")},rewardQuantity:this.props.rewardQuantity})),this.props.hasKernelsEnabled?React.createElement("div",{className:"competition-overview__teaser"},React.createElement(h.KernelsTeaser,{emptyListCreateNewUrl:this.props.newScriptUrl,emptyListMessage:"There are no kernels yet.",emptyListCreateNewText:"Be the first",listItems:this.props.kernelTeaser,listTitle:React.createElement(f.Pluralize,{word:"kernel",count:this.props.totalKernels,formatNumber:!0}),onTitleClick:function(){return e.props.onCompetitionTabChanged("kernels")}})):null,React.createElement("div",{className:"competition-overview__teaser"},React.createElement(m.DiscussionTeaser,{emptyListCreateNewAction:function(){return e.props.onCreateTopic()},emptyListMessage:"There are no topics yet.",emptyListCreateNewText:"Start one",listItems:this.props.discussionTeaser,listTitle:React.createElement(f.Pluralize,{word:"discussion topic",count:this.props.totalDiscussions,formatNumber:!0}),onTitleClick:function(){return e.props.onCompetitionTabChanged("discussion")}}))),React.createElement(r.ContentBox,null,this.props.dateEnabled&&this.props.deadline?React.createElement(s.HorizontalTimeline,{startDate:this.props.dateEnabled,startLabel:React.createElement("span",{className:"competition-overview__milestone-title"},"Launch"),endDate:this.props.deadline,endLabel:React.createElement("span",{className:"competition-overview__milestone-title"},"Close"),milestoneDates:[{details:React.createElement("p",{className:"competition-overview__milestone-name"},"Rules Acceptance Deadline"),date:this.props.mergerDeadline}]}):React.createElement("p",null,"The timeline for this competition will appear once there is a valid start date and deadline.")),React.createElement("div",{className:"competition-overview__stats-section"},this.props.totalTeams?React.createElement("div",{className:"competition-overview__stats"},React.createElement("div",{className:"competition-overview__stat"},React.createElement("p",{className:"competition-overview__stat-number"},React.createElement(u.FormatNumber,{number:this.props.totalTeams})),React.createElement("p",{className:"competition-overview__stat-label"},"Teams")),React.createElement("div",{className:"competition-overview__stat"},React.createElement("p",{className:"competition-overview__stat-number"},React.createElement(u.FormatNumber,{number:this.props.totalCompetitors})),React.createElement("p",{className:"competition-overview__stat-label"},"Competitors")),this.props.totalEntries?React.createElement("div",{className:"competition-overview__stat"},React.createElement("p",{className:"competition-overview__stat-number"},React.createElement(u.FormatNumber,{number:this.props.totalEntries})),React.createElement("p",{className:"competition-overview__stat-label"},"Entries")):null):null,React.createElement("div",{className:"competition-overview__progression-info"},React.createElement("div",{className:"competition-overview__progression-info-item"},React.createElement("p",{className:"competition-overview__progression-info-label"},"Points"),React.createElement("p",{className:"competition-overview__progression-info-text"},"This competition ",this.props.countsTowardsRanking?(this.props.competitionHasEnded?"awarded":"awards")+" "+(this.props.userRankMultiplier<1?this.props.userRankMultiplier+"X":""):""+(this.props.competitionHasEnded?"did not award ":"does not award ")," standard ",React.createElement("a",{href:"https://www.kaggle.com/progression"},"ranking points"))),React.createElement("div",{className:"competition-overview__progression-info-item"},React.createElement("p",{className:"competition-overview__progression-info-label"},"Tiers"),React.createElement("p",{className:"competition-overview__progression-info-text"},"This competition ",this.props.countsTowardsTiers?""+(this.props.competitionHasEnded?"counted ":"counts "):""+(this.props.competitionHasEnded?"did not count ":"does not count ")," towards ",React.createElement("a",{href:"https://www.kaggle.com/progression"},"tiers"))))))},t}(React.Component);t.CompetitionOverview=y},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(7),i=n(33),s=n(8),o=function(e){function t(t){var n=e.call(this,t)||this;return n.startMS=new Date(n.props.startDate.toString()).getTime(),n.endMS=new Date(n.props.endDate.toString()).getTime(),n.nowMS=(new Date).getTime(),n.startTillEnd=n.endMS-n.startMS,n.startTillNow=n.nowMS-n.startMS,n}return a(t,e),t.prototype.renderMilestone=function(e,t){var n=new Date(e.date.toString()).getTime()-this.startMS,a=n/this.startTillEnd,o=(100*a).toString()+"%",l=a>0&&a<1;return l?React.createElement("div",{className:"horizontal-timeline__milestone-placeholder",key:"timeline-point-"+t},React.createElement("div",{className:n>this.startTillNow?"horizontal-timeline__point--future":"horizontal-timeline__point",style:{left:o}},React.createElement("div",{className:"horizontal-timeline__point-details",style:{left:o}},React.createElement("p",{className:"horizontal-timeline__milestone-date"},React.createElement(r.TimeAgo,{time:e.date,hideToGo:!0})),e.details),React.createElement("div",{className:"horizontal-timeline__point-tooltip-wrapper"},React.createElement(i.ToolTip,{className:"horizontal-timeline__point-tooltip-wrapper",alignLeft:a<.5,tipText:s(e.date).format("ll")})))):null},t.prototype.render=function(){var e=this,t=this.startTillNow/this.startTillEnd,n=0<t&&t<1?(this.startTillNow/this.startTillEnd*100).toString()+"%":"100%";return React.createElement("div",{className:"horizontal-timeline__wrapper"},React.createElement("div",{className:"horizontal-timeline"},React.createElement("div",{className:"horizontal-timeline__line"}),React.createElement("div",{className:"horizontal-timeline__progress-bar",style:{width:n}}),React.createElement("div",{className:this.startTillNow>0?"horizontal-timeline__point":"horizontal-timeline__point--future"},React.createElement("div",{className:"horizontal-timeline__point-label--start",style:{left:0}},this.props.startLabel?this.props.startLabel:null,React.createElement(r.TimeAgo,{time:this.props.startDate,hideToGo:!0})),React.createElement("div",{className:"horizontal-timeline__point-tooltip-wrapper"},React.createElement(i.ToolTip,{className:"horizontal-timeline__point-tooltip-wrapper",alignLeft:!0,tipText:s(this.props.startDate).format("ll")}))),this.props.milestoneDates.map(function(t,n){return e.renderMilestone(t,n)}),React.createElement("div",{className:this.startTillEnd>this.startTillNow?"horizontal-timeline__point--future":"horizontal-timeline__point",style:{left:"100%"}},React.createElement("div",{className:"horizontal-timeline__point-label--end",style:{right:0}},this.props.endLabel?this.props.endLabel:null,React.createElement(r.TimeAgo,{time:this.props.endDate,hideToGo:!0})),React.createElement("div",{className:"horizontal-timeline__point-tooltip-wrapper"},React.createElement(i.ToolTip,{className:"horizontal-timeline__point-tooltip-wrapper",tipText:s(this.props.endDate).format("ll")})))))},t}(React.Component);t.HorizontalTimeline=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(5),i=n(223),s=function(e){function t(t){var n=e.call(this,t)||this;n.placeholders=[];var a=n.props.listItems.length;if(a<n.props.numItemsToShow)for(var r=1;r<=n.props.numItemsToShow-a;r++)n.placeholders.push({rank:r+a,teamName:"-"});return n}return a(t,e),t.prototype.renderLeaderboardTeaserItem=function(e,t){return React.createElement("div",{className:"leaderboard-teaser__item",key:"leaderboard-teaser-item-"+t},e.rank<=this.props.numPrizes&&this.props.rewardQuantity>0?React.createElement("div",{className:"leaderboard-teaser__item-rank--reward"},e.rank):React.createElement("div",{className:"leaderboard-teaser__item-rank"},e.rank),React.createElement("p",{className:"leaderboard-teaser__item-name",title:e.teamName},e.teamName))},t.prototype.render=function(){var e=this,t=this.props.listItems.concat(this.placeholders);return React.createElement(r.ContentBox,{contentClassName:"leaderboard-teaser__items",growVertically:this.props.growVertically||!0,title:this.props.listTitle,onTitleClick:function(){return e.props.onTitleClick()},titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},React.createElement("div",{className:"leaderboard-teaser__content"},React.createElement(i.TeaserList,{minItemHeight:this.props.numItemsToShow,listItems:t,listItemRenderer:function(t,n){return e.renderLeaderboardTeaserItem(t,n)},emptyListCreateNewUrl:this.props.emptyListCreateNewUrl,emptyListMessage:this.props.emptyListMessage,emptyListCreateNewText:this.props.emptyListCreateNewText})))},t}(React.Component);t.LeaderboardTeaser=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(5),i=n(223),s=n(111),o=n(7),l=n(32),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderDiscussionTeaserItem=function(e,t){return React.createElement(l.BlockLink,{key:"competition-discussion-teaser-item-"+t,href:e.itemUrl},React.createElement("div",{className:"discussion-teaser__item"},React.createElement("div",{className:"discussion-teaser__item-title"},React.createElement("a",{href:e.itemUrl,title:e.title},e.title)),React.createElement("div",{className:"discussion-teaser__item-details"},React.createElement(s.Pluralize,{word:"reply",count:e.totalReplies})," · ",React.createElement(o.TimeAgo,{time:e.date}))))},t.prototype.render=function(){var e=this;return React.createElement(r.ContentBox,{contentClassName:"discussion-teaser__items",growVertically:this.props.growVertically||!0,title:this.props.listTitle,onTitleClick:function(){return e.props.onTitleClick()},titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},React.createElement(i.TeaserList,{minItemHeight:this.props.minItemHeight||4,listItems:this.props.listItems,listItemRenderer:function(t,n){return e.renderDiscussionTeaserItem(t,n)},emptyListCreateNewAction:this.props.emptyListCreateNewAction,emptyListMessage:this.props.emptyListMessage,emptyListCreateNewText:this.props.emptyListCreateNewText}))},t}(React.Component);t.DiscussionTeaser=c},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(5),i=n(223),s=n(111),o=n(7),l=n(32),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderKernelsTeaserItem=function(e,t){return React.createElement(l.BlockLink,{key:"kernels-teaser-item-"+t,href:e.itemUrl},React.createElement("div",{className:"kernels-teaser__item"},React.createElement("div",{className:"kernels-teaser__item-title"},React.createElement("a",{href:e.itemUrl,title:e.title},e.title)),React.createElement("div",{className:"kernels-teaser__item-details"},React.createElement(s.Pluralize,{word:"vote",count:e.totalVotes})," · ",React.createElement(o.TimeAgo,{time:e.date}))))},t.prototype.render=function(){var e=this;return React.createElement(r.ContentBox,{contentClassName:"kernels-teaser__items",growVertically:this.props.growVertically||!0,title:this.props.listTitle,onTitleClick:function(){return e.props.onTitleClick()},titleBarRightSide:React.createElement("span",{className:"fa fa-chevron-right"})},React.createElement(i.TeaserList,{minItemHeight:this.props.minItemHeight||4,listItems:this.props.listItems,listItemRenderer:function(t,n){return e.renderKernelsTeaserItem(t,n)},emptyListCreateNewUrl:this.props.emptyListCreateNewUrl,emptyListMessage:this.props.emptyListMessage,emptyListCreateNewText:this.props.emptyListCreateNewText}))},t}(React.Component);t.KernelsTeaser=c},function(e,t,n){"use strict";function a(e){var t=e.children;return React.createElement(s.ChecklistContentBox,{children:t,title:"Host Checklist",okHeader:React.createElement("div",null,React.createElement("section",null,React.createElement("header",null,"Your competition passes our automated checks."),React.createElement("div",null,"Only submit if you are ready to launch. We'll review and be in touch.")),React.createElement("aside",null,React.createElement("button",null,"Submit Competition »"))),notOkHeader:React.createElement("div",null,React.createElement("section",null,React.createElement("header",null,"Your competition is not ready for launch."),React.createElement("div",null,"Please check the below issues.")))})}var r=n(404),i=n(312),s=n(5),o=i.connect(r.getHostChecklistState)(a);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){return React.createElement("div",{className:"competition-host"},React.createElement(o,null))}},function(e,t){"use strict";t.getHostChecklistState=function(e){return{children:e.hostChecklist}}},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(205),s=n(406),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCompetitionDataDownload=function(e){t.props.hasAcceptedRules||(e.preventDefault(),t.props.onCompetitionStateChanged("showRulesModal",!0))},t.onCompetitionDataIntroSaved=function(e){var n={page:{content:e,name:"Data"}};return $.ajax({type:"POST",url:t.props.saveDataUrl,contentType:"application/json",dataType:"json",data:JSON.stringify(n),success:function(e){e.pageMessages&&e.pageMessages.length>0?i.PageMessages.set(e.pageMessages):(i.PageMessages.clear(),i.PageMessages.success("Save successful."))},error:function(e){e.pageMessages&&e.pageMessages.length>0?i.PageMessages.set(e.pageMessages):(i.PageMessages.clear(),i.PageMessages.error("Save unsuccessful."))}})},t}return a(t,e),t.prototype.render=function(){var e={onCompetitionDataDownload:this.onCompetitionDataDownload,onCompetitionDataIntroSaved:this.onCompetitionDataIntroSaved};return React.createElement(s.CompetitionData,r({},this.props,e))},t}(React.Component);t.CompetitionDataContainer=o},function(e,t,n){"use strict";function a(e){var t=e.files;e.isEditing,e.onSave,e.onCancel;return React.createElement(p.ContentBox,{title:"Training Data"},React.createElement(u.FilePreviewList,{files:t.map(function(t){return{showSubmitToCompButton:!1,submitToCompUrl:null,downloadCallback:function(t){return e.onCompetitionDataDownload(t)},description:t.description,fileName:t.name,filePreviewUrl:t.previewUrl,fileType:t.fileType||t.name.split(".")[t.name.split(".").length-1],fileUrl:t.url,size:t.totalBytes,fullPath:t.relativePath,canDelete:!1,onDelete:null,hideFilePreview:!0}})}))}function r(e){return e&&"NULL"!==e}function i(e){return r(e)?e:"Unscored"}var s,o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&(n[a[r]]=e[a[r]]);return n},p=n(5),u=n(164),d=n(116),m=n(166),h=n(275),f=n(13),g=n(115),v=n(407),y=n(312),b=n(327);!function(e){e[e.CurrentFiles=0]="CurrentFiles",e[e.NewFiles=1]="NewFiles"}(s=t.FileListIndex||(t.FileListIndex={}));var E=function(){return React.createElement("span",null,React.createElement("div",{className:"competition-data__loader"},"Loading..."))},_=function(e){function t(t){var n=e.call(this,t)||this;return n.getEvaluationState=function(){var e=n.props,t=(e.isEditing,e.onSave,e.onEdit,e.onCancel,c(e,["isEditing","onSave","onEdit","onCancel"]));return t},n.onToggle=function(){var e=n.props,t=e.isEditing,a=e.onSave,r=e.onEdit;t?a(n.state):r()},n.getScoringMetricLabel=function(){var e=n.state,t=(e.scoringMetrics,e.scoringMetricId),a=n.state.scoringMetrics.filter(function(e){var n=e.value;return n===t})[0];return a?a.label:null},n.onScoringMetricChanged=function(e){try{var t=parseInt(e);n.setState({scoringMetricId:t,scoringMetricDirty:!0})}catch(a){}},n.state=n.getEvaluationState(),n}return o(t,e),t.prototype.componentWillReceiveProps=function(){this.setState(this.getEvaluationState())},t.prototype.render=function(){var e=this.props,t=e.isEditing,n=(e.onCancel,this.state),a=n.scoringMetrics,r=n.scoringMetricId,i=n.scoringMetricDirty,s=n.solutionFileDirty,o=n.submissionFormat,l=n.status,c=n.uploadUrls,u=this.getScoringMetricLabel();return React.createElement(p.ContentBox,{title:"Evaluation"},t?React.createElement("div",{className:"competition-data__evaluation--edit"},React.createElement("section",{className:"competition-data__evaluation-item--"+l.scoringMetric},React.createElement("span",null,"Scoring Metric"),React.createElement("span",null,React.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}),React.createElement(f.SelectBox,{options:a,onChange:this.onScoringMetricChanged,searchable:!1,placeholder:"Choose a scoring metric to use...",value:r})),React.createElement("span",null,i&&React.createElement("div",null,React.createElement("span",null,"Change metric"),s&&React.createElement("span",null,"This will wipe your solution/sample files.")))),React.createElement("section",{className:"competition-data__evaluation-item--"+l.solutionFile},React.createElement("span",null,"Solution file"),React.createElement("span",null,React.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}),React.createElement(d.FileUploader,{compact:!0,createBlobUrl:c.solution,mode:"single",onFileUploadFinished:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.info.apply(console,["SOLUTION_UPLOAD"].concat(e))},singleFileButtonLabel:"Upload a solution file"}))),React.createElement("section",{className:"competition-data__evaluation-item--"+l.sampleSubmissionFile},React.createElement("span",null,"Sample submission file"),React.createElement("span",null,React.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}),React.createElement(d.FileUploader,{compact:!0,createBlobUrl:c.sampleSubmission,mode:"single",onFileUploadFinished:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.info.apply(console,["BENCHMARK_UPLOAD"].concat(e))},singleFileButtonLabel:"Upload a sample submission"})))):React.createElement("div",{className:"competition-data__evaluation"},React.createElement("section",null,React.createElement("span",null,"Scoring Metric"),React.createElement("span",null,u," ",React.createElement("a",{href:"#"},"Read more about evaluation »"))),React.createElement("section",null,React.createElement("span",null,"Submission format"),React.createElement("span",null,o))))},t}(React.Component),R=function(e){function t(t){var n=e.call(this,t)||this;n.onToggle=function(){var e=n.props,t=e.isEditing,a=e.onSave,r=e.onEdit;t?a(n.state):r()},n.onUploadStarted=function(e){var t=n.state.children;n.setState({children:t.concat([{name:e,placeholder:!0}])})},n.onUploadFinished=function(e,t,a){var r=n.props.benchmarkSubmitUrl,i=JSON.stringify({blobFileTokens:[t],submissionDescription:e});fetch(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin",body:i}).then(function(t){var a=n.state.children;n.setState({children:a.filter(function(e){return!e.placeholder}).concat([{name:e}])})})},n.deleteBenchmark=function(e){fetch("/admin/submission/"+e,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin"}).then(function(e){return e.json()}).then(function(t){var a=n.state.children;n.setState({children:a.filter(function(t){return t.id!==e})})})};var a=(t.isEditing,t.onSave,t.onEdit,t.onCancel,c(t,["isEditing","onSave","onEdit","onCancel"]));return n.state=a,n}return o(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.isEditing,a=t.onCancel,s=(t.benchmarkUploadUrl,this.state.children);return React.createElement(p.ContentBox,{title:"Benchmarks",titleBarRightSide:React.createElement(g.EditStateToggleButton,{sectionName:"Benchmarks",cancelPropName:"benchmarks",isEditing:n,toggleCallback:this.onToggle,cancelCallback:a})},n?React.createElement("div",{className:"competition-data__benchmarks-edit"},React.createElement("section",null,"Click or drag benchmark files below to provide them to your competitors and feature the scores on the leaderboard."),React.createElement("section",null,s.map(function(t,n){return React.createElement("div",{key:n},React.createElement("span",null,n+1),React.createElement("span",null,t.placeholder?React.createElement(E,null):React.createElement("input",{type:"text",defaultValue:t.details||t.name,onChange:function(t){var a=s.map(function(e,a){return a===n?l({},e,{details:t.currentTarget.value,dirty:!0}):e});e.setState({children:a})},disabled:void 0===t.id})),React.createElement("span",null,t.name),t.id?React.createElement("span",null,React.createElement("a",{onClick:function(n){e.deleteBenchmark(t.id),n.preventDefault()}},"Remove")):React.createElement("span",null,React.createElement("a",{href:"",onClick:function(){return window.location.reload()}},"Refresh to edit")))})),React.createElement(d.FileUploader,{createBlobUrl:this.props.benchmarkUploadUrl,mode:"multiple",onFileUploadStarted:this.onUploadStarted,onFileUploadFinished:this.onUploadFinished,singleFileButtonLabel:"Upload Files"})):React.createElement("div",{className:"competition-data__benchmarks"},React.createElement("div",{className:"competition-data__benchmarks-content"},"Study these benchmark models to get started with this competition."),s.map(function(e,t){var n=r(e.privateScore)?i(e.privateScore):null,a=i(e.publicScore);return React.createElement("div",{key:t,className:"competition-data__benchmarks-item"},React.createElement("span",null,React.createElement("a",{href:"#"+e.name.replace(" ","_")},e.details||e.name)),n?React.createElement("span",null,React.createElement("span",null,"Private Score: ",n),React.createElement("span",null,"Public Score: ",a)):React.createElement("span",null,"Scores: ",a),e.id?React.createElement("span",null,React.createElement("a",{href:"/submissions/"+e.id},React.createElement("i",{className:"fa fa-download","aria-hidden":"true"})," Download")):React.createElement("span",null,React.createElement("a",{href:"",onClick:function(){return window.location.reload()}},"Refresh to download")))})))},t}(React.Component),w=y.connect(v.getTrainingDataState)(a),C=(y.connect(v.getEvaluationState,l({},b.actions.evaluation))(_),y.connect(v.getBenchmarksState,l({},b.actions.benchmarks))(R)),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderVersionNotes=function(e,t,n){return React.createElement(m.MarkdownConverter,{key:"version-"+t,contentClassName:"dataset-home__version-notes",content:e,insertNofollow:!0})},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"competition-data"},React.createElement(w,l({},this.props)),React.createElement(h.MarkdownContentBox,{canEdit:this.props.canEdit,content:this.props.dataIntro?this.props.dataIntro.content:null,mimeType:this.props.dataIntro?this.props.dataIntro.mimeType:null,contentBoxTitle:"Data Introduction",contentClassName:"competition-data__content",onSaveClicked:function(t){return e.props.onCompetitionDataIntroSaved(t)}}),this.props.benchmarks&&React.createElement(C,null))},t}(React.Component);t.CompetitionData=S},function(e,t,n){"use strict";var a=n(408),r=function(e){return e.editing.getIn(["data","evaluation"])},i=function(e){return e.editing.getIn(["data","benchmarks"])},s=function(e){return e.evaluationAlgorithms.map(function(e){var t=e.id,n=e.name;return{label:n,value:t}})},o=function(e){return e.evaluationAlgorithmId};t.getSubmissionFormat=function(e){return"Your submission should have "+e.totalSolutionRows+" rows, each with "+e.totalSolutionColumns+" columns."};var l=a.createSelector(o,function(e){return null===e?"not-ok":"ok"}),c=function(e){return null===e.evaluationAlgorithmId?"disabled":e.hasSolutionFile?"ok":"not-ok"},p=function(e){return null!==e.evaluationAlgorithmId&&e.hasSolutionFile?e.hasSampleSubmissionFile?"ok":"not-ok":"disabled"},u=a.createSelector(l,c,p,function(e,t,n){return{scoringMetric:e,solutionFile:t,sampleSubmissionFile:n}}),d=function(e){return{solution:e.solutionUploadUrl,sampleSubmission:e.submissionUploadUrl}};t.getEvaluationState=a.createSelector(r,s,o,t.getSubmissionFormat,u,d,function(e,t,n,a,r,i){return{isEditing:e,scoringMetrics:t,scoringMetricId:n,scoringMetricDirty:!1,solutionFileDirty:!1,sampleSubmissionDirty:!1,submissionFormat:a,status:r,uploadUrls:i}}),t.getBenchmarks=function(e){return e.benchmarks},t.getSubmissionUploadUrl=function(e){return e.submissionUploadUrl},t.getBenchmarkSubmitUrl=function(e){return e.benchmarkSubmitUrl},t.getSubmissionDetailsUpdateUrl=function(e){return e.submissionDetailsUpdateUrl},t.getSubmissionDeleteUrl=function(e){return e.submissionDeleteUrl},t.getBenchmarksState=a.createSelector(i,t.getBenchmarks,t.getSubmissionUploadUrl,t.getBenchmarkSubmitUrl,t.getSubmissionDetailsUpdateUrl,t.getSubmissionDeleteUrl,function(e,t,n,a,r,i){return{isEditing:e,children:t,benchmarkUploadUrl:n,benchmarkSubmitUrl:a,benchmarkDetailsUpdateUrl:r,benchmarkDeleteUrl:i}}),t.getTrainingDataState=function(e){return{files:e.files}}},,function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(205),i=n(410),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onCompetitionRulesSaved=function(e){var t={page:{content:e,name:"Rules"}};return $.ajax({type:"POST",url:this.props.saveRulesUrl,contentType:"application/json",dataType:"json",data:JSON.stringify(t),success:function(e){e.pageMessages&&e.pageMessages.length>0?r.PageMessages.set(e.pageMessages):(r.PageMessages.clear(),r.PageMessages.success("Save successful."))},error:function(e){e.pageMessages&&e.pageMessages.length>0?r.PageMessages.set(e.pageMessages):(r.PageMessages.clear(),r.PageMessages.error("Save unsuccessful."))}})},t.prototype.render=function(){var e={onCompetitionRulesSaved:this.onCompetitionRulesSaved.bind(this)};return React.createElement(i.CompetitionRules,$.extend({},this.props,e))},t}(React.Component);t.CompetitionRulesContainer=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(85),i=n(5),s=n(275),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement("div",{className:"competition-rules"},React.createElement(s.MarkdownContentBox,{canEdit:this.props.canEdit,content:this.props.rules?this.props.rules.content:null,mimeType:this.props.rules?this.props.rules.mimeType:null,contentBoxTitle:"Rules",contentClassName:"competition-rules__content",onSaveClicked:function(t){return e.props.onCompetitionRulesSaved(t)}}),React.createElement(i.ContentBox,{title:"Rules acceptance"},this.props.hasAcceptedRules?React.createElement("div",{className:"competition-rules__acceptance"},React.createElement("p",{className:"competition-rules__accepted-text"},React.createElement("span",{
className:"competition-rules__acceptance-icon"},React.createElement("span",{className:"fa fa-check-circle-o"})),"You have accepted the rules for this competition. Good luck!")):React.createElement("div",{className:"competition-rules__acceptance"},React.createElement("p",{className:"competition-rules__acceptance-text"},'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound with the above rules.'),React.createElement("div",{className:"competition-rules__acceptance-actions"},React.createElement("a",{className:"competition-rules__decline"},"I Do Not Accept"),React.createElement(r.ButtonAutoWidth,{classNames:"competition-rules__accept",onClick:function(){return e.props.onAcceptCompetitionRules()},text:"I Understand and Accept"}),this.props.isProcessingRulesAcceptance?React.createElement("div",{className:"competition-rules__is-processing"},React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null))))},t}(React.Component);t.CompetitionRules=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(85),i=n(200),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement(i.Modal,{onClose:function(){return e.props.onCompetitionStateChanged("showRulesModal",!1)},onShow:function(){},modalIsShown:this.props.showRulesModal&&!this.props.hasAcceptedRules},React.createElement("div",{className:"competition-rules__acceptance"},React.createElement("p",{className:"competition-rules__acceptance-text"},'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound to the ',React.createElement("a",{href:this.props.competitionUrl+"/rules"},"competition rules"),"."),React.createElement("div",{className:"competition-rules__acceptance-actions"},React.createElement("a",{className:"competition-rules__decline",onClick:function(){return e.props.onCompetitionStateChanged("showRulesModal",!1)}},"I Do Not Accept"),React.createElement(r.ButtonAutoWidth,{classNames:"competition-rules__accept",onClick:function(){return e.props.onAcceptCompetitionRules()},text:"I Understand and Accept"}),this.props.isProcessingRulesAcceptance?React.createElement("div",{className:"competition-rules__is-processing"},React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null)))},t}(React.Component);t.CompetitionRulesModal=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(40),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement(i.Forum,r({},$.extend(!0,{},this.props.discussion,this.props.newTopic),{isNew:this.props.isNewTopic,onTopicClicked:this.props.onTopicClicked,topicSubmitted:this.props.onTopicSubmitted,topicId:this.props.topicId}))},t}(React.Component);t.CompetitionDiscussion=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(85),i=n(200),s=n(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this;return React.createElement("div",{className:"competition-kernels"},this.props.hasKernelsEnabled?React.createElement("div",{className:"competition-kernels__actions"},React.createElement("p",{className:"competition-kernels__action-text"},"Create kernels to experiment with this competition's data and share your techniques."),React.createElement("div",{className:"competition-kernels__calls-to-action"},React.createElement("a",{className:"competition-kernels__call-to-action",onClick:this.props.hasAcceptedRules?function(){}:function(){return e.props.onCompetitionStateChanged("showRulesModal",!0)},href:this.props.hasAcceptedRules?this.props.competitionUrl+"/kernels/notebooks/new":null},"New Notebook"),React.createElement("a",{className:"competition-kernels__call-to-action",onClick:this.props.hasAcceptedRules?function(){}:function(){return e.props.onCompetitionStateChanged("showRulesModal",!0)},href:this.props.hasAcceptedRules?this.props.competitionUrl+"/kernels/scripts/new":null},"New Script"))):null,React.createElement(s.ScriptList,{listTitle:"Kernels",banner:!1,showFilters:!0,sourceBaseUrl:"/kernels/c/"+this.props.competitionId+"/",languagesMetadataUrl:"/kernels/alllang",outputTypesMetadataUrl:"/kernels/allouttypes",loginAndReturnUrl:"/account/login",newNotebookUrl:null,newScriptUrl:null,showScriptProjectName:!1,showHiddenSelectionGroup:this.props.canEdit}),React.createElement(i.Modal,{onClose:function(){return e.props.onCompetitionStateChanged("showRulesModal",!1)},onShow:function(){},modalIsShown:this.props.showRulesModal&&!this.props.hasAcceptedRules},React.createElement("div",{className:"competition-rules__acceptance"},React.createElement("p",{className:"competition-rules__acceptance-text"},'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound with the above rules.'),React.createElement("div",{className:"competition-rules__acceptance-actions"},React.createElement("a",{className:"competition-rules__decline",onClick:function(){return e.props.onCompetitionStateChanged("showRulesModal",!1)}},"I Do Not Accept"),React.createElement(r.ButtonAutoWidth,{classNames:"competition-rules__accept",onClick:function(){return e.props.onAcceptCompetitionRules()},text:"I Understand and Accept"})))))},t}(React.Component);t.CompetitionKernels=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(415),i=function(e){function t(t){var n=e.call(this,t)||this;n.getUserScore=function(e){var t=e.nearUser&&e.nearUser.filter(function(t){return t.rank===e.userRanking})[0];return t&&t.score},n.triggerPublicLeaderboardReload=function(){n.setState({isLoadingPublicData:!0},function(){return n.fetchPublicLeaderboard()})},n.triggerPrivateLeaderboardReload=function(){n.setState({isLoadingPrivateData:!0},function(){return n.fetchPrivateLeaderboard()})},n.fetchPublicLeaderboard=function(){var e=n.state,t=e.includeBeforeUserPublic,a=e.includeAfterUserPublic,r=jQuery.Deferred();return $.ajax({url:"/c/"+n.props.competitionId+"/leaderboard.json?includeBeforeUser="+t+"&includeAfterUser="+a,method:"GET",success:function(e){n.setState({publicData:e,isLoadingPublicData:!1,isLoadingBeforeUserPublic:!1,isLoadingAfterUserPublic:!1,previousBestPublicScore:n.state.previousBestPublicScore||e.isScoring&&n.getUserScore(e)},function(){e.isScoring&&n.startPollingScoringStatus(),r.resolve()})},error:function(){return n.setState({publicData:{submissions:[]},isLoadingPublicData:!1,isLoadingBeforeUserPublic:!1,isLoadingAfterUserPublic:!1})}}),r},n.fetchPrivateLeaderboard=function(){var e=n.state,t=e.includeBeforeUserPrivate,a=e.includeAfterUserPrivate,r=jQuery.Deferred();return $.ajax({url:"/c/"+n.props.competitionId+"/leaderboard.json?includeBeforeUser="+t+"&includeAfterUser="+a+"&type=private",method:"GET",success:function(e){n.setState({privateData:e,isLoadingPrivateData:!1,isLoadingBeforeUserPrivate:!1,isLoadingAfterUserPrivate:!1},function(){r.resolve()})},error:function(){return n.setState({privateData:{submissions:[]},isLoadingPrivateData:!1,isLoadingBeforeUserPrivate:!1,isLoadingAfterUserPrivate:!1})}}),r},n.onChangeTab=function(e){n.setState({activeLeaderboardTab:e})},n.onLoadBeforeUser=function(e){"Private"==e?n.setState({includeBeforeUserPrivate:!0,isLoadingBeforeUserPrivate:!0},n.fetchPrivateLeaderboard):n.setState({includeBeforeUserPublic:!0,isLoadingBeforeUserPublic:!0},n.fetchPublicLeaderboard)},n.onLoadAfterUser=function(e){"Private"==e?n.setState({includeAfterUserPrivate:!0,isLoadingAfterUserPrivate:!0},n.fetchPrivateLeaderboard):n.setState({includeAfterUserPublic:!0,isLoadingAfterUserPublic:!0},n.fetchPublicLeaderboard)};var a="Public";return n.props.competitionHasEnded&&(a="Private"),n.state={activeLeaderboardTab:a,isLoadingPublicData:!0,isLoadingPrivateData:!0,includeBeforeUserPublic:!1,includeBeforeUserPrivate:!1,includeAfterUserPublic:!1,includeAfterUserPrivate:!1,previousBestPublicScore:null,publicScoringStatus:{}},n}return a(t,e),t.prototype.componentDidMount=function(){this.fetchPublicLeaderboard(),this.fetchPrivateLeaderboard()},t.prototype.componentWillUnmount=function(){clearInterval(this.scorePollHandle)},t.prototype.startPollingScoringStatus=function(){var e=this;if(this.state.publicData.isScoring){var t=function(){$.get(e.props.submissionStatusUrl).then(function(t){e.setState({publicScoringStatus:t},function(){var n="Complete"===t.submissionStatus,a="Error"===t.submissionStatus;(n||a)&&(clearInterval(e.scorePollHandle),e.setState({publicScoringStatus:t},function(){e.fetchPublicLeaderboard().then(function(e){if(n){var t=$("#score").offset();t&&$("html,body").animate({scrollTop:t.top-100},"slow")}}),e.props.onSubmissionStatusChanged()}))})})};t(),this.scorePollHandle&&clearInterval(this.scorePollHandle),this.scorePollHandle=window.setInterval(t,5e3)}},t.prototype.render=function(){var e={onLeaderboardTabChanged:this.onChangeTab,onLoadBeforeUser:this.onLoadBeforeUser,onLoadAfterUser:this.onLoadAfterUser,getUserScore:this.getUserScore,triggerPublicLeaderboardReload:this.triggerPublicLeaderboardReload,triggerPrivateLeaderboardReload:this.triggerPrivateLeaderboardReload};return React.createElement(r.CompetitionLeaderboard,$.extend({},this.props,e,this.state))},t}(React.Component);t.CompetitionLeaderboardContainer=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(34),i=n(5),s=n(7),o=n(33),l=n(205),c=n(111),p=n(416),u=n(208),d=n(417),m=n(8),h=["Discovering your KGI (Kaggle Greatness Index)...","Taking your entry for a test drive...","Coming to terms with your brilliance...","Teaching your submission to our robots...","Planning for your ascendency...","Adding more hamsters to the evaluation servers...","You call ::this:: big data? ...","Wiring more money to our cloud provider...","First-in-first-out? This could take a while...","Data mining? They should call it data youring!","Something tells me this isn't your first csv file ;)","You take the artificial out of AI...","All models are wrong. Yours are just useful...","Checking that Bayes' theorem is still true...","Making a call to Watson to check this for you...","We are going to need more mechanical turks...","No free lunch? Not after you win this thing...","Deep learning is shallow next to the depths of your greatness...","Reserving the local university teraflop cluster...","Is this Bayesian? You know I'm a strict Bayesian, right?","What has 64 cores and 128GB RAM? Not me! Hold tight...","Entering these into the TI-89 as fast as we can...","No whammies no whammies no whammies...","I can feel it. This one is worth lots of points..."],f=function(e){function t(t){var n=e.call(this,t)||this;return n.runTimer=new u.Timer,n.renderLeaderboardItem=function(e,t,a,i,l){var c=e.rank&&a===e.rank,u=4,d=[],m=e.teamMembers.length-u>1,h=[];return m?(d=e.teamMembers.slice(0,u-1),h=e.teamMembers.slice(u-1)):d=e.teamMembers,React.createElement("tr",{className:(e.rank?"competition-leaderboard__row":"competition-leaderboard__benchmark-row")+" "+(c&&n.isScoredOverlay()&&"competition-leaderboard__row--user-scored"),key:"leaderboard-row-"+t},c&&n.renderUserOverlay(e,l),c&&React.createElement("td",null,React.createElement("a",{href:"#score",id:"score"})),React.createElement("td",{className:"competition-leaderboard__td-rank","data-th":"Rank"},e.rank?e.rank:React.createElement("span",{className:"fa fa-map-marker"})),React.createElement("td",{className:"competition-leaderboard__td-change","data-th":"Change"},e.rank?React.createElement(p.PositionChange,{change:e.change}):null),React.createElement("td",{className:e.medal&&n.props.countsTowardsTiers?"competition-leaderboard__td-team--"+e.medal:"competition-leaderboard__td-team","data-th":"Team Name",title:e.teamName},React.createElement("span",null,e.rank&&!n.props.disablePrizeIndicator&&e.rank<=n.props.numPrizes&&n.props.rewardQuantity>0?React.createElement("span",{className:"competition-leaderboard__asterisk"},React.createElement("span",{className:"fa fa-asterisk"})):null,e.teamName)),React.createElement("td",{className:"competition-leaderboard__td-kernel","data-th":"Kernel"},e.sourceKernelUrl&&e.sourceKernelName?React.createElement("a",{className:""+(e.rank?"competition-leaderboard__td-kernel-link":"competition-leaderboard__td-benchmark-kernel-link"),href:e.sourceKernelUrl,title:e.sourceKernelName},React.createElement("span",{className:"fa fa-code"}),e.sourceKernelName):null),React.createElement("td",{className:"competition-leaderboard__td-members","data-th":"Team Members"},d.map(function(e,t){return React.createElement("span",{className:"competition-leaderboard__team-member",key:"team-member-"+t},React.createElement(r.Avatar,{displayName:e.displayName,tier:e.tier,thumbnailUrl:e.thumbnailUrl,userUrl:e.profileUrl,width:25}))}),m?React.createElement(o.ToolTip,{tipText:""+h.map(function(e){return e.displayName}).join(", ")},React.createElement("a",{className:"competition-leaderboard__team-more-button"},"+",h.length)):null),React.createElement("td",{className:"competition-leaderboard__td-score","data-th":"Score"},c&&i?"Processing":e.score),React.createElement("td",{className:"competition-leaderboard__td-entries","data-th":"Number of Entries"},e.rank?e.entries:null),React.createElement("td",{className:"competition-leaderboard__td-last","data-th":"Last Entry"},e.rank?React.createElement(s.TimeAgo,{time:e.lastSubmission,condense:!0,hideAgo:!0}):null))},n.leaderboardNavItems=[{title:"Public",text:"Public Leaderboard",tab:"Public"},{title:"Private",text:"Private Leaderboard",tab:"Private"}],n.state={runTime:null,scoringMessage:h[Math.floor(Math.random()*h.length)]},n}return a(t,e),t.prototype.componentWillMount=function(){this.props.competitionHasEnded&&!this.props.finalLeaderboardHasBeenVerified&&(l.PageMessages.clear(),this.props.witholdFinalLeaderboardUntilItHasBeenVerified?l.PageMessages.warning("This competition has completed. The results will become available after they're verified by the competition organizers."):l.PageMessages.warning("This competition has completed. This leaderboard reflects preliminary final standings. The result will become final after the competition organizers verify the results."))},t.prototype.componentWillReceiveProps=function(e){var t=this,n=e.publicScoringStatus.runTimeInSeconds;if("Pending"!==e.publicScoringStatus.submissionStatus)this.runTimer.isRunning()&&this.runTimer.stopTimer();else if(n){var a=new Date;a.setSeconds(a.getSeconds()-n),this.runTimer.startTimerFrom(a),this.runTimer.setDisplayCallback(function(e){t.setState({runTime:e})})}},t.prototype.areContiguous=function(e,t,n){return e.length>0&&t.length>0&&e.slice(-1)[0].rank+1===t[0].rank||n&&n.length>0&&e.slice(-1)[0].rank+1===n[0].rank},t.prototype.renderLeaderboardHeader=function(){var e=this,t=this.props.activeLeaderboardTab;return React.createElement("nav",{className:"competition-leaderboard__nav"},this.leaderboardNavItems.map(function(n,a){return React.createElement("a",{className:t==n.tab?"competition-leaderboard__nav-item--selected":"competition-leaderboard__nav-item",key:"leaderboard-nav-"+a,onClick:function(){return e.props.onLeaderboardTabChanged(n.tab)},title:n.title+" Leaderboard"},n.text)}))},t.prototype.isScoredOverlay=function(){var e=this.props,t=e.previousBestPublicScore,n=e.publicData,a=e.publicScoringStatus;return t&&!n.isScoring&&"Error"!==a.submissionStatus},t.prototype.renderUserOverlay=function(e,t){var n=this.props,a=n.previousBestPublicScore,r=n.publicScoringStatus,i=n.publicData,s=n.scoringIsMax,o=this.props.getUserScore(i),l=!s&&a>o||s&&o>a;return this.isScoredOverlay()&&"Private"!=t?l?React.createElement("td",{className:"competition-leaderboard__row-user-overlay competition-leaderboard__row-user-overlay--better"},React.createElement("div",{className:"competition-leaderboard__row-user-overlay-description"},React.createElement("div",{className:"competition-leaderboard__row-user-overlay-title"},"Your Best Entry ",React.createElement("i",{className:"fa fa-arrow-up"})),e.change>0?React.createElement("p",null,"You advanced ",React.createElement(c.Pluralize,{word:"place",count:e.change,formatNumber:!0})," on the leaderboard!"):null,React.createElement("div",null,"Your submission scored ",r.score,", which is an improvement of your previous score of ",a,". Great job!",React.createElement(d.LeaderboardTweet,{competitionUrl:"https://kaggle.com"+this.props.competitionUrl,positionChange:e.change,userRank:e.rank})))):React.createElement("td",{className:"competition-leaderboard__row-user-overlay competition-leaderboard__row-user-overlay--worse"},React.createElement("div",{className:"competition-leaderboard__row-user-overlay-description"},React.createElement("div",{className:"competition-leaderboard__row-user-overlay-title"},"Your Best Entry ",React.createElement("i",{className:"fa fa-arrow-up"})),React.createElement("div",null,"Your submission scored ",r.score,", which is not an improvement of your best score. Keep trying!"))):React.createElement("td",{className:"competition-leaderboard__row-user-overlay"})},t.prototype.renderLoadMoreButton=function(e,t,n,a){var r=t-e;return r>0&&React.createElement("tr",{className:"competition-leaderboard__load-more-wrapper"},React.createElement("td",{onClick:n,className:"competition-leaderboard__load-more-button"},React.createElement("span",{className:"competition-leaderboard__load-more-numbers"},e,"-",t),React.createElement("span",{className:"competition-leaderboard__load-more-count"},React.createElement("i",{className:"fa fa-plus-square"})," Load ",r+1," More"),a?React.createElement("span",{className:"competition-leaderboard__loading-spinner"},React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null))},t.prototype.renderLeaderboardItems=function(e,t){var n=this,a=e.beforeUser,r=e.nearUser,i=e.afterUser,s=e.userRanking,o=e.isScoring;return s?React.createElement("tbody",null,a.map(function(e,a){return n.renderLeaderboardItem(e,a,s,o,t)}),a.length>0&&!this.areContiguous(a,r,i)&&this.renderLoadMoreButton(a.length+1,r[0].rank-1,function(){return n.props.onLoadBeforeUser(t)},"Private"==t?this.props.isLoadingBeforeUserPrivate:this.props.isLoadingBeforeUserPublic),r.map(function(e,a){return n.renderLeaderboardItem(e,a,s,o,t)}),r.length>0&&!this.areContiguous(r,i,null)&&this.renderLoadMoreButton(r.slice(-1)[0].rank+1,e.totalRankings,function(){return n.props.onLoadAfterUser(t)},"Private"==t?this.props.isLoadingAfterUserPrivate:this.props.isLoadingAfterUserPublic),i.map(function(e,a){return n.renderLeaderboardItem(e,a,s,o,t)})):React.createElement("tbody",null,a.map(function(e,a){return n.renderLeaderboardItem(e,a,s,o,t)}),a.length>0&&!this.areContiguous(a,r,i)&&this.renderLoadMoreButton(a.length+1,e.totalRankings,function(){return n.props.onLoadBeforeUser(t)},"Private"==t?this.props.isLoadingBeforeUserPrivate:this.props.isLoadingBeforeUserPublic),i.map(function(e,a){return n.renderLeaderboardItem(e,a,s,o,t)}))},t.prototype.renderLeaderboard=function(e,t,n){return React.createElement("table",{className:"competition-leaderboard__table"},React.createElement("thead",null,React.createElement("tr",{className:"competition-leaderboard__header-row"},React.createElement("th",{className:"competition-leaderboard__th-rank",title:"Rank"},"#"),React.createElement("th",{className:"competition-leaderboard__th-change",title:"Recent Change"},"△1w"),React.createElement("th",{className:"competition-leaderboard__th-team",title:"Team Name"},"Team Name",!this.props.disablePrizeIndicator&&this.props.rewardQuantity>0?React.createElement("span",{className:"competition-leaderboard__asterisk-def"},React.createElement("span",{className:"fa fa-asterisk"})," in the money"):null),React.createElement("th",{className:"competition-leaderboard__th-kernel",title:"Kernel"},"Kernel"),React.createElement("th",{className:"competition-leaderboard__th-members",title:"Team Members"},"Team Members"),React.createElement("th",{className:"competition-leaderboard__th-score",title:"Score"},React.createElement(o.ToolTip,{tipText:this.props.evaluationAlgorithm.name},React.createElement("span",null,"Score",React.createElement("span",{className:"competition-leaderboard__th-score-q"},React.createElement("span",{className:"fa fa-question-circle"}))))),React.createElement("th",{className:"competition-leaderboard__th-entries",title:"Number of Entries"},"Entries"),React.createElement("th",{className:"competition-leaderboard__th-last",title:"Last Submission"},"Last"))),t?React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"competition-leaderboard__loading-text"},React.createElement("span",{className:"competition-leaderboard__loading-spinner"},React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})),"Fetching the latest data. Hold tight!"))):e.submissions.length?this.renderLeaderboardItems(e,n):React.createElement("tbody",null,React.createElement("tr",null,React.createElement("td",{className:"competition-leaderboard__loading-text"},"There are currently no entries for this competition ¯\\_(ツ) _/¯"))))},t.prototype.renderSubmissionBanner=function(e,t){var n=this.props.publicScoringStatus,a=n.runStatus,r=n.submissionStatus,i=n.runTimeMaxInSeconds,s="Pending"!==r?r:a;return this.maxRunTime=this.maxRunTime||i&&m().startOf("day").seconds(i).format("H:mm:ss"),React.createElement("div",{className:"competition-leaderboard__scoring-banner competition-leaderboard__scoring-banner--"+r},React.createElement("h2",{className:"competition-leaderboard__scoring-banner-title"},e),React.createElement("div",null,t,a&&React.createElement("div",{className:"competition-leaderboard__scoring-status"},"Pending"===r&&React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})," ",React.createElement("span",{className:"competition-leaderboard__scoring-status--"+s},s)," ",this.state.runTime," of ",this.maxRunTime," max")))},t.prototype.renderSubmissionStatus=function(){var e=this.props.publicScoringStatus,t=(e.runStatus,e.runTimeInSeconds,e.submissionStatus),n=e.error,a=this.props.publicData&&this.props.publicData.isScoring;if(a||this.props.publicScoringStatus.submissionStatus){if(a){var r=React.createElement("div",null,"Processing and scoring your most recent entry — this may take some time.",React.createElement("br",null),"Feel free to return to the leaderboard later to check your position.");return this.renderSubmissionBanner(this.state.scoringMessage,r)}return"Complete"===t?this.renderSubmissionBanner("Complete",React.createElement("div",null,"Your submission scored ",this.props.publicScoringStatus.score,".")):this.renderSubmissionBanner("Error",React.createElement("div",null,n))}return null},t.prototype.render=function(){var e=this,t=100-this.props.leaderboardPercentage+"%",n=this.props.leaderboardPercentage+"%";new Date(this.props.deadline.toString()).getTime()<(new Date).getTime();return React.createElement("div",{className:"competition-leaderboard"},this.renderSubmissionStatus(),React.createElement(i.ContentBox,{title:this.renderLeaderboardHeader()},"Private"==this.props.activeLeaderboardTab?React.createElement("div",null,React.createElement("div",{className:"competition-leaderboard__message"},React.createElement("div",{className:"competition-leaderboard__note"},this.props.privateLeaderboardMessage?this.props.privateLeaderboardMessage:100-this.props.leaderboardPercentage==0?React.createElement("p",null,"The private leaderboard is identical to the public leaderboard in this competition."):100-this.props.leaderboardPercentage==100?React.createElement("p",null,"The private leaderboard is calculated with all of the test data"):React.createElement("p",null,"The private leaderboard is calculated with approximately ",t," of the test data."),this.props.finalLeaderboardHasBeenVerified?React.createElement("p",null,"This competition has completed. This leaderboard reflects the final standings."):null),this.props.allowPrivateLeaderboardDisplay?React.createElement("a",{className:"competition-leaderboard__refresh",onClick:function(){return e.props.triggerPrivateLeaderboardReload()}},React.createElement("span",{className:"competition-leaderboard__refresh-icon"},React.createElement("span",{className:"fa fa-refresh"})),React.createElement("span",null,"Refresh")):null),this.props.allowPrivateLeaderboardDisplay?this.renderLeaderboard(this.props.privateData,this.props.isLoadingPrivateData,"Private"):React.createElement("div",{className:"competition-leaderboard__private-message"},React.createElement("div",{className:"competition-leaderboard__private-image"},React.createElement("span",{className:"fa fa-trophy"})),React.createElement("h3",{className:"competition-leaderboard__private-header"},"The private leaderboard will be available after the competition ends."),React.createElement("div",{className:"competition-leaderboard__private-text"},"Your team, rank, and medal will display here after the competition closes. Compete to build your reputation, complement your resume, and explore your data science future."))):React.createElement("div",null,React.createElement("div",{className:"competition-leaderboard__message"},React.createElement("div",{className:"competition-leaderboard__note"},this.props.publicLeaderboardMessage?this.props.publicLeaderboardMessage:0==this.props.leaderboardPercentage?React.createElement("p",null,"This leaderboard is identical to the private leaderboard in this competition."):100==this.props.leaderboardPercentage?React.createElement("p",null,"This leaderboard is calculated with all of the test data."):React.createElement("div",null,React.createElement("p",null,"This leaderboard is calculated with approximately ",n," of the test data."),React.createElement("p",null,"The final results will be based on the other ",t,", so the final standings may be different."))),this.props.rawDataUrl?React.createElement("a",{className:"competition-leaderboard__download-raw-data",href:this.props.rawDataUrl},"Raw leaderboard data"):null,React.createElement("a",{className:"competition-leaderboard__refresh",onClick:function(){return e.props.triggerPublicLeaderboardReload()}},React.createElement("span",{className:"competition-leaderboard__refresh-icon"},React.createElement("span",{className:"fa fa-refresh"})),React.createElement("span",null,"Refresh"))),this.renderLeaderboard(this.props.publicData,this.props.isLoadingPublicData,"Public"))))},t}(React.Component);t.CompetitionLeaderboard=f},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return React.createElement("span",{className:this.props.wrapperClassName},this.props.change<0?React.createElement("span",{className:"position-change__fallen"},React.createElement("span",{className:"fa fa-caret-down"})," ",Math.abs(this.props.change)):this.props.change>0?React.createElement("span",{className:"position-change__risen"},React.createElement("span",{className:"fa fa-caret-up"})," ",this.props.change):0==this.props.change?React.createElement("span",{className:"position-change__none"},"—"):React.createElement("span",{className:"position-change__new"},"new"))},t}(React.Component);t.PositionChange=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(3),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.topSpotMessages=["View's great from the top of the #kaggle leaderboard. #WishYouWereHere "+t.props.competitionUrl,"First. #kaggle - "+t.props.competitionUrl,"It's lonely here at the top. #kaggle - "+t.props.competitionUrl,'"Overfitting"? Nay, it\'s called #winning. #kaggle - '+t.props.competitionUrl],t.topTenMessages=["Hold my calls. Top 10 on #kaggle - "+t.props.competitionUrl,"Top 10 on #kaggle? Life can wait. "+t.props.competitionUrl,"All the teams above me are overfitting. #kaggle - "+t.props.competitionUrl,"Top 10 on #kaggle and I'm not even ensembling. "+t.props.competitionUrl,"Whether boosting or bagging, I'm top 10 and #bragging. #kaggle "+t.props.competitionUrl,"Top 10! Is this what they call #superintelligence? #kaggle "+t.props.competitionUrl,"Like the SVM, I intend to maximize my (winning) margins. #kaggle "+t.props.competitionUrl],t.firstSubmissionMessages=["I just made my first #kaggle submission to "+t.props.competitionUrl,"I am a giant nerd, but that's okay. #kaggle - "+t.props.competitionUrl,"Made my first #kaggle submission and all I got was this lousy tweet. "+t.props.competitionUrl,"You too should spend your free time on competitive predictive modeling. #kaggle - "+t.props.competitionUrl,"#MachineLearning: so easy I can do it. #kaggle - "+t.props.competitionUrl,"Why did nobody tell me #datascience was this easy? #kaggle - "+t.props.competitionUrl,"Doing my part to bring about the singularity. #MachineLearning #kaggle - "+t.props.competitionUrl,"Teaching robots to learn #MachineLearning #kaggle - "+t.props.competitionUrl,"Causing #superintelligence, one submission at a time #kaggle - "+t.props.competitionUrl,"No hyperplanes were harmed in the making of this submission. #kaggle - "+t.props.competitionUrl,"When not mining bitcoins, I prefer to waste computer cycles on #kaggle - "+t.props.competitionUrl,"#kaggle - because this RAM isn't going to use itself. "+t.props.competitionUrl,"#kaggle - spend even more time in front of a computer than you already do! "+t.props.competitionUrl,"Data scientist is the sexiest job of this century. *winks* #kaggle - "+t.props.competitionUrl],t.movedUpMessages=["Moved up "+t.props.positionChange+" "+r("spot",t.props.positionChange)+" "+t.props.competitionUrl,t.props.positionChange+" "+r("spot",t.props.positionChange)+" up, just a few more to go. #kaggle - "+t.props.competitionUrl,"Moved up "+t.props.positionChange+" "+r("spot",t.props.positionChange)+" on #kaggle. I'm not addicted. I can quit when I want. "+t.props.competitionUrl,"Jumped "+t.props.positionChange+" "+r("spot",t.props.positionChange)+" on #kaggle. I'll sleep when I'm dead. "+t.props.competitionUrl,"Moved up "+t.props.positionChange+" "+r("spot",t.props.positionChange)+". Soon the robots will have my job. #kaggle - "+t.props.competitionUrl,t.props.positionChange+" "+r("spot",t.props.positionChange)+" up. Is anybody else even trying? #kaggle - "+t.props.competitionUrl,t.props.positionChange+" "+r("place",t.props.positionChange)+" up. A small price to pay for my social life. #kaggle - "+t.props.competitionUrl,t.props.positionChange+" "+r("place",t.props.positionChange)+" up. Not unlike my electricity bill. #kaggle - "+t.props.competitionUrl,t.props.positionChange+" "+r("place",t.props.positionChange)+" up. Now accepting donations for more RAM. #kaggle - "+t.props.competitionUrl],
t}return a(t,e),t.prototype.render=function(){var e,t=this.props,n=t.userRank,a=t.positionChange,r="https://twitter.com/intent/tweet?text=";if(!n)return null;e=1==n?this.topSpotMessages:n>=1&&n<=10?this.topTenMessages:a>=1?this.movedUpMessages:this.firstSubmissionMessages;var i=e[Math.floor(Math.random()*e.length)];return React.createElement("div",{className:"leaderboard-tweet__button-wrapper"},React.createElement("a",{className:"leaderboard-tweet__button",href:""+r+encodeURIComponent(i),target:"_blank"},React.createElement("span",{className:"leaderboard-tweet__button-icon"},React.createElement("span",{className:"fa fa-twitter"})),React.createElement("span",{className:"leaderboard-tweet__button-text"},"Tweet this!")))},t}(React.Component);t.LeaderboardTweet=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(419),i=n(205),s=function(e){function t(t){var n=e.call(this,t)||this;return n.validationRules=[{isValid:function(){return!(n.state.submissionDescription&&n.state.submissionDescription.trim().length>2e3)},id:"submission-description-length",message:function(){return"Your description must be fewer than 2,000 characters."}},{isValid:function(){return n.state.submissionToken&&n.state.submissionToken.trim().length>0},id:"submission-no-file-token",message:function(){return"You must upload a file for your submission."}}],n.onSubmissionUploadFinished=function(e,t,a){n.setState({submissionFileName:e,submissionToken:t,submissionTotalBytes:a},function(){n.state.autoSubmitPendingSubmission&&n.onSubmissionSubmit()})},n.state={isSubmittingSubmission:!1},n}return a(t,e),t.prototype.componentWillMount=function(){if(this.props.submissionsAreDisabled)return i.PageMessages.clear(),void i.PageMessages.error("Submissions are currently disabled for this competition.")},t.prototype.getValidationPageMessages=function(e){var t=[];return this.validationRules.forEach(function(n){var a=t.filter(function(e){return e.id==n.id}).length>0;(n.isValid()&&a||!n.isValid()&&a&&!e)&&(t=t.filter(function(e){return e.id!=n.id})),n.isValid()||e||t.push({type:"error",id:n.id,message:n.message()})}),t},t.prototype.onSubmissionSubmit=function(){var e=this;if(this.props.submissionsAreDisabled)return i.PageMessages.clear(),void i.PageMessages.error("Submissions are currently disabled for this competition.");if(this.state.submissionPending)return this.setState({autoSubmitPendingSubmission:!0}),void i.PageMessages.add([{type:"info",message:"Your submission will be automatically submitted once it has finished uploading."}]);var t=this.getValidationPageMessages();return t.length>0?void i.PageMessages.add(t):void this.setState({isSubmittingSubmission:!0},function(){return $.ajax({url:e.props.submissionSubmitUrl,type:"POST",contentType:"application/json",data:JSON.stringify({blobFileTokens:[e.state.submissionToken],submissionDescription:e.state.submissionDescription}),success:function(t){e.setState({isSubmittingSubmission:!1,submissionDescription:"",submissionFileName:"",submissionToken:"",submissionTotalBytes:0},function(){t.pageMessages&&t.pageMessages.length>0?i.PageMessages.set(t.pageMessages):(i.PageMessages.clear(),i.PageMessages.success({htmlMessage:'Your submission was successful, head over to the <a href="'+e.props.competitionUrl+'/leaderboard">leaderboard</a> to check your scoring status.'})),e.props.onCompetitionSubmission&&e.props.onCompetitionSubmission()})},error:function(t){e.setState({isSubmittingSubmission:!1},function(){t.pageMessages&&t.pageMessages.length>0?i.PageMessages.set(t.pageMessages):(i.PageMessages.clear(),i.PageMessages.error("Your submission was unsuccessful."))})}})})},t.prototype.onSubmissionDescriptionChanged=function(e){this.setState({submissionDescription:e})},t.prototype.onSubmissionFilePendingUpdated=function(e,t){0==e&&0==t&&i.PageMessages.clear(),this.setState({submissionPending:e>0,autoSubmitPendingSubmission:this.state.autoSubmitPendingSubmission&&!(0==e&&0==t)})},t.prototype.render=function(){var e={onSubmissionSubmit:this.onSubmissionSubmit.bind(this),onSubmissionDescriptionChanged:this.onSubmissionDescriptionChanged.bind(this),onSubmissionUploadFinished:this.onSubmissionUploadFinished.bind(this),onSubmissionFilePendingUpdated:this.onSubmissionFilePendingUpdated.bind(this)};return React.createElement(r.CompetitionSubmission,$.extend({},this.props,e,this.state))},t}(React.Component);t.CompetitionSubmissionContainer=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(6),i=n(85),s=n(5),o=n(116),l=n(170),c=n(7),p=n(111),u=n(420),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this,t=this.props.submissionsAreDisabled;return r.Current.userName?this.props.needsPhoneVerification?React.createElement(s.ContentBox,{title:"Make a Submission"},React.createElement("div",{className:"competition-submission__intro"},"This competition requires that you verify your account via SMS. ",React.createElement("a",{href:"/account/phone/number?returnUrl="+this.props.competitionUrl},"Click here")," to verify your account.")):React.createElement(s.ContentBox,{title:"Make a Submission"},React.createElement("div",{className:"competition-submission__intro"},this.props.team&&this.props.team.name?React.createElement("h1",{className:"competition-submission__lead-in"},"Make a submission for ",React.createElement("a",{onClick:function(){return e.props.onCompetitionTabChanged("team")}},this.props.team.name)):null,null!=this.props.remainingDailySubmissions&&this.props.maxDailySubmissionsResetDate?this.props.remainingDailySubmissions>0?React.createElement("p",{className:"competition-submission__info"},React.createElement("strong",null,"You have ",React.createElement(p.Pluralize,{count:this.props.remainingDailySubmissions,word:"submission",formatNumber:!0})," remaining today. "),"This resets ",React.createElement(c.TimeAgo,{time:this.props.maxDailySubmissionsResetDate,hideToGo:!0})," from now (00: 00 UTC)."):React.createElement("div",{className:"competition-submission__info"},React.createElement("p",null,React.createElement("strong",null,"You have no more submissions remaining for today. "),"This resets in:"),React.createElement("p",{className:"competition-submission__countdown"},React.createElement(u.Countdown,{time:this.props.maxDailySubmissionsResetDate,onBlastoff:this.props.onReenableSubmssion}))):null),this.props.remainingDailySubmissions>0?React.createElement("div",null,React.createElement(o.FileUploader,{createBlobUrl:this.props.submissionUploadUrl,mode:"single",onFileUploadFinished:this.props.onSubmissionUploadFinished,singleFileButtonLabel:"Upload Submission File",onFilesPendingUpdated:this.props.onSubmissionFilePendingUpdated}),React.createElement("div",{className:"competition-submission__details"},React.createElement("div",{className:"competition-submission__detail"},React.createElement("h3",{className:"competition-submission__detail-subheader"},"File Format"),React.createElement("p",{className:"competition-submission__detail-text"},"Your submission should be in CSV format. You can upload this in a zip/gz/rar/7z archive, if you prefer.")),React.createElement("div",{className:"competition-submission__detail"},React.createElement("h3",{className:"competition-submission__detail-subheader"},"Number of Predictions"),React.createElement("p",{className:"competition-submission__detail-text"},"We expect the solution file to have ",this.props.totalSolutionRows," prediction rows. This file should have a header row. Please see sample submission file on the ",React.createElement("a",{onClick:function(){return e.props.onCompetitionTabChanged("data")}},"data page"),"."))),React.createElement("div",{className:"competition-submission__description-editor"},React.createElement(l.MarkdownEditor,{alwaysShowToolbar:!0,hidePreview:!0,minRows:3,onChangeCallback:function(t){return e.props.onSubmissionDescriptionChanged(t)},placeholder:"Briefly describe your submission.",shouldSanitizeHtml:!0})),React.createElement("div",{className:"competition-submission__submit-wrapper"},React.createElement("div",{className:t?"competition-submission__submit-button--disabled":"competition-submission__submit-button"},React.createElement(i.ButtonAutoWidth,{onClick:t?null:function(){return e.props.onSubmissionSubmit()},text:"Make Submission"}),this.props.isSubmittingSubmission?React.createElement("div",{className:"competition-submission__submit-spinner"},React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null))):null):React.createElement(s.ContentBox,{title:"Make a Submission"},React.createElement("div",{className:"competition-submission__intro"},"You must set a user name before making submissions to a competition. ",React.createElement("a",{href:"/account/set-username?returnUrl="+this.props.competitionUrl},"Click here")," to set your user name."))},t}(React.Component);t.CompetitionSubmission=d},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(8),i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={msRemaining:n.getMsRemaining()},n.timer=window.setInterval(function(){var e=n.getMsRemaining();e<=0&&(window.clearInterval(n.timer),n.props.onBlastoff&&n.props.onBlastoff()),n.setState({msRemaining:e})},1e3),n}return a(t,e),t.prototype.getMsRemaining=function(){return new Date(this.props.time).getTime()-(new Date).getTime()},t.prototype.render=function(){var e=r.duration(this.state.msRemaining);return React.createElement("span",null,""+(e.hours()?e.hours()+" hours, ":"")+(e.hours()||e.minutes()?e.minutes()+" minutes, and ":"")+" "+e.seconds()+" seconds")},t}(React.Component);t.Countdown=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(205),i=n(422),s=function(e){function t(t){var n=e.call(this,t)||this;return n.getSubmissions=function(){var e=jQuery.Deferred();return $.ajax({url:"/c/"+n.props.competitionId+"/submissions.json",method:"GET",success:function(e){n.setState({isGettingSubmissions:!1,submissions:e})},error:function(){return n.setState({isGettingSubmissions:!1})}}),e},n.onSetFinalSubmissions=function(e,t){var a=$.extend(!0,[],n.state.finalSubmissionIds),i=a.indexOf(t);i>=0?a.splice(i,1):a.push(t),n.setState({isSettingFinalSubmissions:!0,settingFinalSubmissionId:t},function(){return $.ajax({type:"POST",url:n.props.setFinalScoreSubmissionsUrl,contentType:"application/json",data:JSON.stringify(a),success:function(t){n.setState({isSettingFinalSubmissions:!1,finalSubmissionIds:a,submissions:t.data},function(){n.props.updateSelectedSubmission(e),r.PageMessages.set(t.pageMessages)})},error:function(e){n.setState({isSettingFinalSubmissions:!1},function(){r.PageMessages.set(JSON.parse(e.responseText).pageMessages)})}})})},n.onSaveDescription=function(e,t){console.log("onSaveDescription(submissionId: "+e+", newDescription: "+t+")");var a=$.extend(!0,[],n.state.submissions);a.filter(function(t){return t.id==e})[0].details=t,r.PageMessages.clear(),n.setState({submissions:a},function(){return $.ajax({type:"POST",url:n.props.updateSubmissionUrl,contentType:"application/json",data:JSON.stringify({submissionId:e,newDescription:t}),success:function(e){r.PageMessages.set([{type:"info",message:"Your submission desciption has been saved."}])},error:function(e){r.PageMessages.set([{type:"error",message:"Your submission desciption could not be saved."}])}})})},n.state={isGettingSubmissions:!0,isSettingFinalSubmissions:!1,finalSubmissionIds:n.props.submissions?n.props.submissions.filter(function(e){return 1==e.isSelected}).map(function(e){return e.id}):null,submissions:n.props.submissions||[]},n}return a(t,e),t.prototype.componentDidMount=function(){this.getSubmissions()},t.prototype.render=function(){var e={onSetFinalSubmissions:this.onSetFinalSubmissions,onSaveDescription:this.onSaveDescription};return React.createElement(i.CompetitionSubmissions,$.extend({},this.props,e,this.state))},t}(React.Component);t.CompetitionSubmissionsContainer=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(5),i=n(111),s=n(7),o=n(193),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderSubmissionScore=function(e){return"complete"==e.status?e.publicScore:"pending"==e.status?React.createElement("span",{className:"competition-submissions__score-pending"},React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):"error"==e.status?React.createElement("span",{className:"competition-submissions__score-error",title:e.errorDetails||"No additional details provided for this error."},"Error"):null},t.prototype.render=function(){var e=this,t=React.createElement("span",null,this.props.submissions.length," submissions for",React.createElement("a",{className:"competition-submissions__team-link",onClick:function(){return e.props.onCompetitionTabChanged("Team")}},this.props.team.name));return React.createElement(r.ContentBox,{title:t},React.createElement("div",{className:"competition-submissions__wrapper"},React.createElement("p",{className:"competition-submissions__intro"},"You can select up to ",React.createElement(i.Pluralize,{count:this.props.numScoredSubmissions,word:"submission"})," to be used to calculate your final leaderboard score. If ",React.createElement(i.Pluralize,{count:this.props.numScoredSubmissions,word:"submission"})," are not selected, they will be chosen based on your best submission scores on the public leaderboard."),React.createElement("p",{className:"competition-submissions__intro"},"Your final score will not be based on the same exact subset of data as the public leaderboard, but rather a different private data subset of your full submission —your public score is only a rough indication of what your final score is."),React.createElement("p",{className:"competition-submissions__intro"},"You should thus choose submissions that will most likely be best overall, and not necessarily on the public subset."),this.props.isGettingSubmissions?React.createElement("div",{className:"competition-submissions__loading-section"},React.createElement("span",{className:"competition-submissions__loading-spinner"},React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})),"Getting your submissions"):React.createElement("div",{className:"competition-submissions__list-wrapper"},React.createElement("div",{className:"competition-submissions__thead"},React.createElement("p",{className:"competition-submissions__th-info"},"Submission and Description"),React.createElement("p",{className:"competition-submissions__th-score"},"Private Score"),React.createElement("p",{className:"competition-submissions__th-score"},"Public Score"),React.createElement("p",{className:"competition-submissions__th-use"},"Use for Final Score")),React.createElement("div",{className:"competition-submissions__list"},this.props.submissions.map(function(t,n){new Date(t.date.toString());return React.createElement("div",{key:"submission-"+n,className:"competition-submissions__list-item"+(t.isSelected?"--selected":"")},React.createElement("div",{className:"competition-submissions__td-info"},t.name?React.createElement("div",null,React.createElement("a",{className:"competition-submissions__td-info-link",href:t.url},t.name),t.version?React.createElement("span",null,"(version ",t.version,"/",t.latestVersion,")"):null):null,React.createElement("p",{className:"competition-submissions__td-info-time"},React.createElement(s.TimeAgo,{time:t.date})," by ",React.createElement("a",{href:t.submittedByUrl},t.submittedBy)),React.createElement(o.InlineTextEditor,{className:"competition-submissions__td-info-text",placeholder:"add submission details",onSaveCallback:function(n){return e.props.onSaveDescription(t.id,n)},value:t.details,isToggleable:!0})),React.createElement("div",{className:"competition-submissions__td-score"},t.privateScore),React.createElement("div",{className:"competition-submissions__td-score"},e.renderSubmissionScore(t)),React.createElement("div",{className:"competition-submissions__td-use"},t.isSelected?React.createElement("a",{className:"competition-submissions__checked",onClick:function(){return e.props.onSetFinalSubmissions(n,t.id)}},React.createElement("span",{className:"fa fa-check-square"})):["error","pending"].indexOf(t.status)>-1?React.createElement("a",{className:"competition-submissions__unchecked-disabled"},React.createElement("span",{className:"fa fa-square-o"})):React.createElement("a",{className:"competition-submissions__unchecked",onClick:function(){return e.props.onSetFinalSubmissions(n,t.id)}},React.createElement("span",{className:"fa fa-square-o"})),e.props.isSettingFinalSubmissions&&e.props.settingFinalSubmissionId&&e.props.settingFinalSubmissionId==t.id?React.createElement("div",{className:"competition-submissions__td-use--processing"},React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null))})))))},t}(React.Component);t.CompetitionSubmissions=l},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(205),i=n(424),s=n(2),o=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isSavingTeamName:!1,isSendingMergeRequest:!1},n}return a(t,e),t.prototype.onSaveTeamName=function(e){var t=this;return e.trim().length>0?void this.setState({isSavingTeamName:!0},function(){return s.ajax({type:"POST",url:t.props.setTeamNameUrl,contentType:"application/json",data:JSON.stringify({name:e}),success:function(n){t.setState({isSavingTeamName:!1},function(){n.pageMessages&&n.pageMessages.length>0?r.PageMessages.set(n.pageMessages):(r.PageMessages.clear(),r.PageMessages.success("You have successfully updated your team name.")),t.props.updateTeamName(e)})},error:function(e){t.setState({isSavingTeamName:!1},function(){r.PageMessages.set(e.pageMessages)})}})}):(r.PageMessages.clear(),r.PageMessages.error("Your team's display name must not be empty."),s.when(null))},t.prototype.onSendMergeRequest=function(e){var t=this;return e.trim().length>0?void this.setState({isSendingMergeRequest:!0},function(){return s.ajax({type:"POST",url:t.props.inviteToTeamUrl,contentType:"application/json",data:JSON.stringify({teamName:e}),success:function(n){t.setState({isSendingMergeRequest:!1},function(){t.props.onCompetitionStateChanged("teamOutboundInvites",n.data),n.pageMessages&&n.pageMessages.length>0?r.PageMessages.set(n.pageMessages):(r.PageMessages.clear(),r.PageMessages.success("You have successfully sent a merge request to "+e+"."))})},error:function(e){t.setState({isSendingMergeRequest:!1},function(){var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?r.PageMessages.set(t.pageMessages):(r.PageMessages.clear(),r.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}))})}})}):(r.PageMessages.clear(),r.PageMessages.error("The team name must not be empty."),s.when(null))},t.prototype.onSetTeamLeader=function(e){var t=this;this.setState({isSettingTeamLeader:!0,newTeamLeaderId:e},function(){return s.ajax({type:"POST",url:t.props.setLeaderUrl,contentType:"application/json",data:JSON.stringify({userId:e}),success:function(e){t.setState({isSettingTeamLeader:!1},function(){t.props.onCompetitionStateChanged("team",e.data),e.pageMessages&&e.pageMessages.length>0?r.PageMessages.set(e.pageMessages):(r.PageMessages.clear(),r.PageMessages.success("You have successfully set a new team leader."))})},error:function(e){t.setState({isSettingTeamLeader:!1},function(){var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?r.PageMessages.set(t.pageMessages):(r.PageMessages.clear(),r.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}))})}})})},t.prototype.onRejectInvite=function(e){var t=this;this.setState({isRejectingInvite:!0,rejectedInviteCode:e},function(){return s.ajax({type:"POST",url:t.props.rejectTeamInviteUrl,contentType:"application/json",data:JSON.stringify({code:e}),success:function(e){t.setState({isRejectingInvite:!1},function(){t.props.onCompetitionStateChanged("teamOutboundInvites",e.data),e.pageMessages&&e.pageMessages.length>0?r.PageMessages.set(e.pageMessages):(r.PageMessages.clear(),r.PageMessages.success("The request has successfully been rejected/revoked."))})},error:function(e){t.setState({isRejectingInvite:!1},function(){var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?r.PageMessages.set(t.pageMessages):(r.PageMessages.clear(),r.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}))})}})})},t.prototype.onAcceptInvite=function(e){var t=this;this.setState({isAcceptingInvite:!0,acceptedInviteCode:e},function(){return s.ajax({type:"POST",url:t.props.acceptTeamInviteUrl,contentType:"application/json",data:JSON.stringify({code:e}),success:function(e){t.setState({isAcceptingInvite:!1},function(){t.props.onCompetitionStateChanged("team",e.data.team),t.props.onCompetitionStateChanged("teamInboundInvites",e.data.inboundInvites),e.pageMessages&&e.pageMessages.length>0?r.PageMessages.set(e.pageMessages):(r.PageMessages.clear(),r.PageMessages.success("The request has successfully been accepted."))})},error:function(e){t.setState({isAcceptingInvite:!1},function(){var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?r.PageMessages.set(t.pageMessages):(r.PageMessages.clear(),r.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}))})}})})},t.prototype.onDisbandTeam=function(){var e=this;return s.ajax({type:"POST",url:this.props.disbandTeamUrl,contentType:"application/json",success:function(t){e.props.onCompetitionStateChanged("team",t.data),r.PageMessages.success("Your team has been disbanded.",{clear:!0})},error:function(e){var t=JSON.parse(e.responseText);t.pageMessages&&t.pageMessages.length>0?r.PageMessages.set(t.pageMessages):r.PageMessages.error({htmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'},{clear:!0})}})},t.prototype.render=function(){var e={onSaveTeamName:this.onSaveTeamName.bind(this),onSendMergeRequest:this.onSendMergeRequest.bind(this),onSetTeamLeader:this.onSetTeamLeader.bind(this),onRejectInvite:this.onRejectInvite.bind(this),onAcceptInvite:this.onAcceptInvite.bind(this),onDisbandTeam:this.onDisbandTeam.bind(this)};return React.createElement(i.CompetitionMyTeam,s.extend({},this.props,e,this.state))},t}(React.Component);t.CompetitionTeamContainer=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(34),i=n(85),s=n(5),o=n(6),l=n(425),c=n(111),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this,t=this.props.team.members.filter(function(e){return 1==e.isTeamLeader})[0].userId;return React.createElement("div",null,React.createElement(s.ContentBox,{title:"Manage Team"},React.createElement("div",{className:"competition-myteam__naming-section"},React.createElement("div",{className:"competition-myteam__naming"},React.createElement("label",{className:"competition-myteam__section-title",htmlFor:"competition-team-name"},"Team Name"),React.createElement(l.InputGroupInline,{defaultValue:this.props.team.name,isSubmitting:this.props.isSavingTeamName,inputClassName:"competition-myteam__naming-input",inputId:"competition-team-name",onSubmit:function(t){return e.props.onSaveTeamName(t)},placeholder:"Team Name",buttonChildren:"Save Team Name"}),React.createElement("p",{className:"competition-myteam__naming-help"},"This name will appear on your team's leaderboard position.")),this.props.team.canDisband&&React.createElement("a",{className:"competition-myteam__disband",onClick:this.props.onDisbandTeam},"Disband ",React.createElement("span",{className:"fa fa-angle-double-right"}))),React.createElement("div",{className:"competition-myteam__member-section"},React.createElement("h2",{className:"competition-myteam__section-title"},"Team Members ",this.props.maxTeamSize?"("+this.props.team.members.length+" of "+this.props.maxTeamSize+" maximum)":null),React.createElement("ul",{className:"competition-myteam__members"},this.props.team.members.map(function(n,a){return React.createElement("li",{className:"competition-myteam__member"+(n.userId==o.Current.userId?"--active":""),key:"member-"+a},React.createElement("img",{className:"competition-myteam__member-tier",src:"staff"==n.tier?"/static/images/tiers/staff@96.png":"/static/images/tiers/"+n.tier+"@48.png",title:n.tier}),React.createElement("img",{className:"competition-myteam__member-avatar",src:n.avatarUrl,title:n.displayName+" Avatar"}),React.createElement("div",{className:"competition-myteam__member-name"},React.createElement("a",{className:"competition-myteam__member-link",href:n.userUrl},n.displayName),n.userId==o.Current.userId?React.createElement("span",null,"(you)"):null),React.createElement("p",{className:"competition-myteam__member-role"},n.isTeamLeader?"Leader":"Member"),React.createElement("div",{className:"competition-myteam__member-action-wrapper"},n.isTeamLeader||o.Current.userId!=t?null:React.createElement("a",{className:"competition-myteam__member-action",onClick:function(){return e.props.onSetTeamLeader(n.userId)}},"Make Leader"),e.props.isSettingTeamLeader&&e.props.isSettingTeamLeader&&e.props.newTeamLeaderId==n.userId?React.createElement("div",{className:"competition-myteam__action-spinner"},React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null))})))),React.createElement(s.ContentBox,{title:"Invite Others"},React.createElement("div",{className:"competition-myteam__invite-creation"},React.createElement("div",{className:"competition-myteam__invite-wrapper"},React.createElement("label",{className:"competition-myteam__section-title",htmlFor:"competition-merge-request"},React.createElement("span",{className:"fa fa-code-fork competition-myteam__section-title-icon"}),"Merge with other Kaggle teams"),this.props.team.canCreateMerger?React.createElement(l.InputGroupInline,{clearAfterSubmit:!0,inputId:"competition-merge-request",isSubmitting:this.props.isSendingMergeRequest,onSubmit:function(t){return e.props.onSendMergeRequest(t)},placeholder:"Team Name",buttonChildren:"Request Merge"}):React.createElement("div",null,"You are unable to merge with other teams on this competition.")))),React.createElement(s.ContentBox,{title:"Pending Merge Requests"},this.props.teamOutboundInvites.length?React.createElement("div",{className:"competition-myteam__invite-container"},React.createElement("p",{className:"competition-myteam__invite-intro"},"You have proposed a merge with ",React.createElement(c.Pluralize,{count:this.props.teamOutboundInvites.length,word:"team"}),":"),React.createElement("div",{className:"competition-myteam__invites"},this.props.teamOutboundInvites.map(function(t,n){var a=t.members.filter(function(e){return 1==e.isTeamLeader})[0];return React.createElement("div",{className:"competition-myteam__invite",key:"outbound-invite-"+n},React.createElement("div",{className:"competition-myteam__invite-td-members"},t.members.map(function(e,t){return React.createElement("div",{className:"competition-myteam__invite-td-member",key:"outbound-invite-"+n+"-"+t},React.createElement(r.Avatar,{tier:e.tier,thumbnailUrl:e.avatarUrl,displayName:e.displayName,userUrl:e.userUrl}))})),React.createElement("div",{className:"competition-myteam__invite-td-info"},React.createElement("a",{href:"#"},t.name),a?React.createElement("span",null,"led by",React.createElement("a",{href:a.userUrl},a.displayName)):null),React.createElement("div",{className:"competition-myteam__invite-td-action"},React.createElement("div",null,React.createElement("div",{className:"competition-myteam__invite-action-wrapper"},e.props.isRejectingInvite&&e.props.isRejectingInvite&&e.props.rejectedInviteCode==t.invitationCode?React.createElement("div",{className:"competition-myteam__action-spinner"},React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null,React.createElement("a",{className:"competition-myteam__invite-td-reject",onClick:function(){return e.props.onRejectInvite(t.invitationCode)}},"Revoke Invite")))))}))):React.createElement("div",{className:"competition-myteam__invite-container"},React.createElement("p",{className:"competition-myteam__invite-intro"},"You currently have no pending merge requests."))),React.createElement(s.ContentBox,{title:"Teams Proposing a Merge"},this.props.teamInboundInvites.length?React.createElement("div",{className:"competition-myteam__invite-container"},React.createElement("p",{className:"competition-myteam__invite-intro"},"You have outstanding merge requests from ",React.createElement(c.Pluralize,{count:this.props.teamInboundInvites.length,word:"team"}),":"),React.createElement("div",{className:"competition-myteam__invites"},this.props.teamInboundInvites.map(function(t,n){var a=t.members.filter(function(e){return 1==e.isTeamLeader})[0];return React.createElement("div",{className:"competition-myteam__invite",key:"outbound-invite-"+n},React.createElement("div",{className:"competition-myteam__invite-td-members"},t.members.map(function(e,t){return React.createElement("div",{className:"competition-myteam__invite-td-member",key:"outbound-invite-"+n+"-"+t},React.createElement(r.Avatar,{tier:e.tier,thumbnailUrl:e.avatarUrl,displayName:e.displayName,userUrl:e.userUrl}))})),React.createElement("div",{className:"competition-myteam__invite-td-info"},React.createElement("a",{className:"competition-myteam__invite-team-link",href:"#"},t.name),a?React.createElement("span",null,"led by ",React.createElement("a",{href:a.userUrl},a.displayName)):null),React.createElement("div",{className:"competition-myteam__invite-td-action"},React.createElement("div",null,React.createElement("div",{className:"competition-myteam__invite-accept-wrapper"},e.props.isAcceptingInvite&&e.props.isAcceptingInvite&&e.props.acceptedInviteCode==t.invitationCode?React.createElement("div",{className:"competition-myteam__action-spinner"},React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null,React.createElement(i.ButtonAutoWidth,{onClick:function(){return e.props.onAcceptInvite(t.invitationCode)},text:"Join this Team"}))),React.createElement("div",null,React.createElement("div",{className:"competition-myteam__invite-action-wrapper"},e.props.isRejectingInvite&&e.props.isRejectingInvite&&e.props.rejectedInviteCode==t.invitationCode?React.createElement("div",{
className:"competition-myteam__action-spinner"},React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null,React.createElement("a",{className:"competition-myteam__invite-td-reject",onClick:function(){return e.props.onRejectInvite(t.invitationCode)}},"Reject Invite")))))}))):React.createElement("div",{className:"competition-myteam__invite-container"},React.createElement("p",{className:"competition-myteam__invite-intro"},"There are currently no teams proposing a merge with yours."))))},t}(React.Component);t.CompetitionMyTeam=p},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.handleSubmit=function(e){e.preventDefault(),this.props.onSubmit(this._input.value),this.props.clearAfterSubmit&&(this._input.value="")},t.prototype.render=function(){var e=this;return React.createElement("form",{className:"input-group-inline",onSubmit:function(t){return e.handleSubmit(t)}},this.props.label?React.createElement("label",{className:"input-group-inline__label",htmlFor:this.props.inputId?this.props.inputId:null},this.props.label):null,React.createElement("input",{className:this.props.inputClassName?this.props.inputClassName:"input-group-inline__input",id:this.props.inputId?this.props.inputId:null,onChange:this.props.onInputChange?function(t){return e.props.onInputChange(t)}:function(){},defaultValue:this.props.defaultValue?this.props.defaultValue:null,placeholder:this.props.placeholder?this.props.placeholder:null,ref:function(t){return e._input=t}}),React.createElement("button",{className:this.props.buttonClassName?this.props.buttonClassName:"input-group-inline__button",disabled:this.props.buttonIsDisabled,type:"submit"},this.props.buttonChildren),this.props.isSubmitting?React.createElement("div",{className:"input-group-inline__submitting-icon"},React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})):null)},t}(React.Component);t.InputGroupInline=a},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(427),i=n(394),s=function(e){function t(t){var n=e.call(this,t)||this;return n.onCompetitionTitleChanged=function(e){n.setState({competitionNewTitle:e,competitionNewSlug:i.slugify(e)})},n.onCompetitionSlugChanged=function(e){n.setState({competitionNewSlug:e})},n.onCompetitionSubtitleChanged=function(e){n.setState({competitionNewSubtitle:e})},n}return a(t,e),t.prototype.render=function(){var e={onCompetitionTitleChanged:this.onCompetitionTitleChanged,onCompetitionSubtitleChanged:this.onCompetitionSubtitleChanged};return React.createElement(r.CompetitionCreator,$.extend({},this.props,e,this.state))},t}(React.Component);t.CompetitionCreatorContainer=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(85),i=n(5),s=n(193),o=n(200),l=n(203),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.renderImageUploaderModal=function(){var e=!1,t=function(){},n=function(){},a=React.createElement("h1",null,"I will be the image uploader!");return React.createElement(o.Modal,{buttonClassName:"competition-creator__modal-button",modalContent:a,modalIsShown:e,onShow:t,onClose:n})},t.prototype.render=function(){var e=this;return React.createElement("div",{className:"competition-creator"},React.createElement(l.PageHeader,{backgroundClass:"competition-creator__header"},React.createElement(l.PageHeaderTopRowSafe,null,React.createElement("div",{className:"competition-creator__header-top"},React.createElement("a",{className:"competition-creator__add-images-link",onClick:function(){return console.log("opening modal")}},React.createElement("span",{className:"fa fa-camera"})," Add Image"),React.createElement(s.InlineTextEditor,{className:"competition-creator__header-title-input",onChangeCallback:function(t){return e.props.onCompetitionTitleChanged(t)},placeholder:"Enter a descriptive title",value:this.props.competitionNewTitle}),React.createElement(s.InlineTextEditor,{className:"competition-creator__header-subtitle-input",onChangeCallback:function(t){return e.props.onCompetitionSubtitleChanged(t)},placeholder:"Enter a subtitle explaining what competitors do"}),this.renderImageUploaderModal()))),React.createElement(i.ContentBox,{title:"Competition Setup"},React.createElement("div",{className:"competition-creator__section"},React.createElement("div",{className:"competition-creator__field-group"},React.createElement("h2",{className:"competition-creator__field-label"},"Competition URL"),React.createElement("div",{className:"competition-creator__field-control"},React.createElement("span",{className:"competition-creator__field-inline-label"},"http://www.kaggle.com/c/"),React.createElement(s.InlineTextEditor,{className:"competition-creator__field-control-input",onChangeCallback:function(t){return e.props.onCompetitionSlugChanged(t)},placeholder:this.props.competitionNewSlug,value:this.props.competitionNewSlug}))),React.createElement("div",{className:"competition-creator__field-group"},React.createElement("h2",{className:"competition-creator__field-label"},"Competition Entry"),React.createElement("div",{className:"competition-creator__field-control"},React.createElement("p",{className:"competition-creator__field-note"},"In Public competitions, anyone can download data and submit entries. Limited competitions are restricted by email domain or a list of invitees."))),React.createElement("div",{className:"competition-creator__field-group"},React.createElement("h2",{className:"competition-creator__field-label"},"Allowed domains"),React.createElement("div",null,React.createElement("div",{className:"competition-creator__field-control"},React.createElement("span",{className:"competition-creator__field-inline-label"},"email@"),React.createElement(s.InlineTextEditor,{className:"competition-creator__field-control-input",onChangeCallback:function(e){return console.log(e)},placeholder:"university.edu"})),React.createElement("p",{className:"competition-creator__field-note"},"Separate with comma, or leave blank if this isn't required. If you'd like to use a specific invite list, you can do this later via the invites tab."))))),React.createElement(i.ContentBox,{title:"Organization/User"},React.createElement("div",{className:"competition-creator__section"},React.createElement("div",{className:"competition-creator__field-group"},React.createElement("h2",{className:"competition-creator__field-label"},"Related Oranization/User"),React.createElement("div",null,React.createElement("div",{className:"competition-creator__field-list"},React.createElement("p",{className:"competition-creator__field-note"},"Choose an organization or user account to post this competition under."),React.createElement("ul",{className:"competition-creator__user-list"},React.createElement("li",{className:"competition-creator__user-list-item"},React.createElement("img",{className:"competition-creator__user-image",src:""}),React.createElement("p",{className:"competition-creator__user-name"},"Test Organization")),React.createElement("li",{className:"competition-creator__user-list-item"},React.createElement("img",{className:"competition-creator__user-image",src:""}),React.createElement("p",{className:"competition-creator__user-name"},"Current Display Name")),React.createElement("li",{className:"competition-creator__add-new-org"},React.createElement("div",{className:"competition-creator__new-org-icon"},React.createElement("span",{className:"fa fa-plus"})),React.createElement("a",{className:"competition-creator__new-org-text"},"Add a new Organization...")))))))),React.createElement("div",{className:"competition-creator__save-button-wrapper"},React.createElement("div",{className:"competition-creator__save-button"},React.createElement(r.ButtonAutoWidth,{text:"Save Competition"}),React.createElement("div",{className:"competition-creator__save-spinner"},React.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})))))},t}(React.Component);t.CompetitionCreator=c},,function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(430),i=n(439).createFilter,s=n(40),o=function(e){function t(t){var n=e.call(this,t)||this;return n.keysToFilters=["docs.title","docs.description"],n.allComponents=[],Object.keys(s).map(function(e){n.allComponents.push(s[e])}),n.state={menuIsStuck:!1,searchTerm:""},n}return a(t,e),t.prototype.onScroll=function(e){this.setState({menuIsStuck:e<=0})},t.prototype.onUpdateSearchTerm=function(e){this.setState({searchTerm:e})},t.prototype.render=function(){var e=this.allComponents.filter(function(e){return e.docs}),t={components:e.filter(i(this.state.searchTerm,this.keysToFilters)),onScroll:this.onScroll.bind(this),onUpdateSearchTerm:this.onUpdateSearchTerm.bind(this)};return React.createElement(r.ReactComponents,Object.assign({},t,this.state))},t}(React.Component);t.ReactComponentsContainer=o},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(431),s=n(439)["default"],o=n(32),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onScroll=function(){t.props.onScroll(t.reactComponents.getBoundingClientRect().top)},t}return a(t,e),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!1),window.setTimeout(this.onScroll)},t.prototype.componentWillUnmount=function(){window.removeEventListener("scroll",this.onScroll,!1)},t.prototype.renderComponentNav=function(e){return React.createElement("nav",{className:"react-components__nav"},e.map(function(e,t){var n=e.docs.title;return React.createElement(o.BlockLink,{className:"react-components__nav-item",href:"#"+n.replace(/\s+/g,"-"),key:t},n)}))},t.prototype.render=function(){var e=this,t=this.props,n=t.components,a=t.menuIsStuck;return React.createElement("div",{className:"react-components",ref:function(t){e.reactComponents=t}},a?React.createElement("div",{className:"react-components__menu"}):null,React.createElement("div",{className:a?"react-components__menu--stuck":"react-components__menu"},React.createElement("h1",{className:"react-components__page-title"},"React Components"),React.createElement(s,{className:"react-components__search",onChange:this.props.onUpdateSearchTerm}),this.renderComponentNav(n)),React.createElement("div",{className:"react-components__style-guide-list"},Object.keys(n).map(function(e,t){var a=n[e];return a.docs&&a.docs.examples?React.createElement("div",{className:"react-components__style-guide-item-wrapper",key:t},React.createElement(i.ReactDocItem,r({expanderInactiveText:"Expand Code Snippet",expanderActiveText:"Collapse Code Snippet",markupExpandedByDefault:!1,componentClass:"react-components__style-guide-item",descriptionClass:"react-components__style-guide-description",headingClass:"react-components__style-guide-title",exampleClass:"react-components__style-guide-example"},a.docs,{title:a.docs.title||a.name}))):null})))},t}(React.Component);t.ReactComponents=l},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=n(432),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement(i,r({},this.props),this.props.examples)},t}(React.Component);t.ReactDocItem=s},,,,,,,,,,,function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(443),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement(r.AdminHome,{})},t}(React.Component);t.AdminHomeContainer=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(85),i=n(5),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement("div",{className:"admin-home"},React.createElement(i.ContentBox,{titleBarRightSide:React.createElement("a",{className:"admin-home__text-link",href:"/admin"},"Old admin ",React.createElement("span",{className:"fa fa-angle-double-right"})),title:"Welcome to the New Admin Home!"},React.createElement("div",{className:"admin-home__content"},React.createElement(r.ButtonAutoWidth,{href:"/admin/react",text:"React Component Docs"}))))},t}(React.Component);t.AdminHome=s},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(445),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement(r["default"],$.extend({},this.state,this.props))},t}(React.Component);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,n){"use strict";var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(40),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return React.createElement(r.JobListContainer,{isActive:!0})},t}(React.Component);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i}]);